$title Stock Selection Optimization
* Optimization model to pick a small subset of the stocks together with
* some weights, such that this portfolio has a similar behavior to our
* overall Dow Jones index.

Set       date                 'date'
          symbol               'stock symbol';
$onExternalInput
Parameter price(date<,symbol<) 'Price';
Scalar    maxstock             'maximum number of stocks to select'  /  2 /
          trainingdays         'number of days for training'         / 99 /;
$setNames "%gams.input%" fp fn fe
$if not set fileName $set fileName %fp%dowjones2016.csv
$call.checkErrorLevel csv2gdx "%fileName%" output=stockdata.gdx ValueDim=0 id=price Index="(1,2)" Value=3 UseHeader=y
$gdxin stockdata
$load price

Singleton Set solver / CPLEX /;
$offExternalInput

Alias (d,date), (s,symbol);
Parameter
    avgprice(symbol)          'average price of stock'
    weight(symbol)            'weight of stock'
    contribution(date,symbol) 'contribution of stock on date'
    index(date)               'Dow Jones index';

Parameter
    fund(date)                'Index fund report parameter'
    error(date)               'Absolute error';

Set td(date)    'training days'
    ntd(date)   'none-training days';
    
* input validataion
set error01(date, symbol);

error01(date, symbol) = price(date, symbol) < 0;

file log / miro.log /;
put log '------------------------------------'/;
put log '        Data validation'/;
put log '------------------------------------'/;
if(card(error01),
  put log 'price:: No negative prices allowed!'/;
  loop(error01(date, symbol),
      put log / ' Symbol ' symbol.tl:4 ' has negative price at the date: ' date.tl:0;
    );
  abort "Data errors detected."
);
putclose log;
    
avgprice(s)       = sum(d, price(d,s))/card(d);
weight(symbol)    = avgprice(symbol)/sum(s, avgprice(s));
contribution(d,s) = weight(s)*price(d,s);
index(d)          = sum(s, contribution(d,s));

Variable
    p(symbol)   'is stock included?'
    w(symbol)   'what part of the portfolio'
    slpos(date) 'positive slack'
    slneg(date) 'negative slack'
    obj         'objective';

Positive variables w, slpos, slneg;
Binary variable p;

Equation
    deffit(date)    'fit to Dow Jones index'
    defpick(symbol) 'can only use stock if picked'
    defnumstock     'few stocks allowed'
    defobj          'absolute violation (L1 norm) from index';

deffit(td)..  sum(s, price(td,s)*w(s)) =e= index(td) + slpos(td) - slneg(td);

defpick(s)..  w(s) =l= p(s);

defnumstock.. sum(s, p(s)) =l= maxstock;

defobj..      obj =e= sum(td, slpos(td) + slneg(td));

Model pickStock /all/;

option optCR=0.01;

td(d) = ord(d)<=trainingdays;
ntd(d) = not td(d);

solve pickStock min obj using mip;

fund(d)  = sum(s, price(d, s)*w.l(s));
error(d) = abs(index(d)-fund(d));

Set fHdr      'fund header'            / dj 'dow jones','index fund'  /
    errHdr    'stock symbol header'    / 'absolute error train', 'absolute error test' /;
    
$onExternalOutput
Scalar error_train                     'Absolute error in entire training phase'
       error_test                      'Absolute error in entire testing phase'
       error_ratio                     'Ratio between error test and error train'
Parameter
       stock_weight(symbol)            'weight'   
       dowVSindex(date,fHdr)           'dow jones vs. index fund'     
       abserror(date,errHdr)           'absolute error'
table dowVSindex;
table abserror;
Singleton Set
firstDayTraining(date)   'first date of training period'
lastDayTraining(date)    'last date of training period' ;
$offExternalOutput

stock_weight(s)                        = w.l(s);
dowVSindex(d,'dj')                     = index(d);
dowVSindex(d,'index fund')             = fund(d);
abserror(td, 'absolute error train')   = error(td);
abserror(ntd,'absolute error test')    = error(ntd);
lastDayTraining(td)                    = td.pos=card(td);
firstDayTraining(td)                   = td.pos=1; 
error_train                            = obj.l;
error_test                             = sum(ntd, error(ntd));
if(error_train > 0,
   error_ratio = error_test/error_train;
else
   error_ratio = inf;);

* parameter including all stocks and dow jones index
$onExternalOutput
Parameter priceMerge(date,*) 'Price (stocks & dow jones)';
$offExternalOutput
priceMerge(d,symbol)        = price(d,symbol);
priceMerge(d,'DowJones')    = index(d);


Set i
    j
;
Set scheduleHdr 'schedule header' / 'lngP', 'latP', 'lngM', 'latM', 'cap', 'demand', 'quantities' /;
$onExternalOutput
Table schedule(i<, j<,scheduleHdr) 'shipment quantities in cases'
$onDelim
,,lngP,latP,lngM,latM,cap,demand,quantities
Seattle,New-york,-122.335,47.608,-73.9352,40.7306,350,325,50
Seattle,Chicago,-122.335,47.608,-87.6232,41.8818,350,300,300
Seattle,Topeka,-122.335,47.608,-95.6953,39.0562,350,275,
San-Diego,New-york,-117.161,32.7157,-73.9352,40.7306,600,325,275
San-Diego,Chicago,-117.161,32.7157,-87.6232,41.8818,600,300,
San-Diego,Topeka,-117.161,32.7157,-95.6953,39.0562,600,275,275
$offDelim
;
$offExternalOutput


Set
   id       'gannt_id'      / 1, 2, 3, 4, 5, 6 /
   start    'gannt_start'   / 2016-01-04, 2016-01-05, 2016-01-06, 2016-01-07, 2016-01-08, 2016-01-09 /
   end      'gannt_end'     / 2016-01-05, 2016-01-06, 2016-01-07, 2016-01-08, 2016-01-09, 2016-01-10 /
   content  'gannt_content' / test1, test2, test3, test4, test5, test6 /
   group    'gantt_group'   / a, b /
   ;
$onExternalOutput
Parameter
   gantt(id, start, end, content, group) 'asdasd' ;
$offExternalOutput
*gantt(id, start, end, content, group)$(ord(id) = ord(start) and (ord(id) = ord(end)) and (ord(id) = ord(content))) = 1;
gantt('1', '2016-01-04', '2016-01-05', 'test1', 'a') = 1;
gantt('2', '2016-01-05', '2016-01-06', 'test2', 'a') = 1;
gantt('3', '2016-01-06', '2016-01-07', 'test3', 'a') = 1;
gantt('4', '2016-01-07', '2016-01-08', 'test4', 'b') = 1;
gantt('5', '2016-01-08', '2016-01-09', 'test5', 'b') = 1;
gantt('6', '2016-01-09', '2016-01-10', 'test6', 'b') = 1;


set c
    rch 'crop report header' /
              planted    'crop planted [acres]'
              seedcost   'seed cost [$]'
              yield      'crop yield [tons]'
              sold       'crop sold [tons]'
              sales      'crop revenue [$]'
              purchased  'crop purchased [tons]'
              pcost      'purchase cost [$]' /;
              
$onExternalOutput
Table
    repc(c<,rch)          'crop report'
$onDelim
,yield,planted,seedcost,sold,sales,purchased,pcost
wheat,425,170,25500,225,38250,,
corn,240,80,18400,16,2400,16,3360
'sugar beets',5000,250,65000,5000,180000,,
$offDelim
;

$offExternalOutput

sets
  phdr 'for pressure output'   / 'x','pressure', 'thickness' /
  J0      / 0, 1 * 100 /
;
$onExternalOutput
table pressureThickness(J0,phdr)
$onDelim
,x,pressure,thickness
0,-3,EPS,9.41112
1,-2.95,0.0021684,9.13811
2,-2.9,0.00447091,8.8651
3,-2.85,0.00691739,8.59772
4,-2.8,0.00951858,8.33595
5,-2.75,0.0122861,8.07979
6,-2.7,0.0152325,7.82925
7,-2.65,0.0183716,7.58431
8,-2.6,0.021718,7.34501
9,-2.55,0.0252879,7.11134
10,-2.5,0.0290988,6.88331
11,-2.45,0.0331695,6.66095
12,-2.4,0.0375205,6.44426
13,-2.35,0.0421742,6.23326
14,-2.3,0.0471545,6.02797
15,-2.25,0.0524875,5.82839
16,-2.2,0.0582016,5.63455
17,-2.15,0.0643272,5.44647
18,-2.1,0.0708973,5.26416
19,-2.05,0.0779474,5.08763
20,-2,0.0855158,4.91691
21,-1.95,0.0936436,4.75201
22,-1.9,0.102375,4.59294
23,-1.85,0.111756,4.43972
24,-1.8,0.121839,4.29236
25,-1.75,0.132675,4.15087
26,-1.7,0.14432,4.01526
27,-1.65,0.156835,3.88553
28,-1.6,0.170279,3.76169
29,-1.55,0.184716,3.64373
30,-1.5,0.200212,3.53165
31,-1.45,0.216832,3.42542
32,-1.4,0.234641,3.32504
33,-1.35,0.253703,3.23046
34,-1.3,0.274079,3.14165
35,-1.25,0.295824,3.05855
36,-1.2,0.318988,2.98112
37,-1.15,0.343608,2.90926
38,-1.1,0.36971,2.84289
39,-1.05,0.397302,2.78189
40,-1,0.426373,2.72615
41,-0.95,0.456886,2.67551
42,-0.9,0.488777,2.62979
43,-0.85,0.52195,2.58882
44,-0.8,0.556275,2.55237
45,-0.75,0.591588,2.52022
46,-0.7,0.627693,2.4921
47,-0.65,0.664371,2.46773
48,-0.6,0.701392,2.44683
49,-0.55,0.73853,2.42909
50,-0.5,0.775592,2.41421
51,-0.45,0.812438,2.40185
52,-0.4,0.849004,2.3917
53,-0.35,0.885303,2.38341
54,-0.3,0.921384,2.37665
55,-0.25,0.95719,2.37101
56,-0.2,0.99224,2.36602
57,-0.15,1.02498,2.36109
58,-0.1,1.05181,2.35549
59,-0.05,1.06639,2.34844
60,,1.06152,2.33945
61,0.05,1.03512,2.32905
62,0.1,0.99569,2.3201
63,0.15,0.964413,2.32158
64,0.2,2.93635,2.35886
65,0.25,0.765488,2.31373
66,0.3,0.676998,2.18986
67,0.35,0.576924,2.10807
68,0.4,0.485623,2.04364
69,0.45,0.406137,1.99035
70,0.5,0.337611,1.94686
71,0.55,0.278599,1.91271
72,0.6,0.227791,1.88768
73,0.65,0.184113,1.87165
74,0.7,0.146705,1.86449
75,0.75,0.11486,1.86609
76,0.8,0.0879859,1.87636
77,0.85,0.0655726,1.89516
78,0.9,0.0471665,1.92235
79,0.95,0.0323584,1.9578
80,1,0.0207734,2.00134
81,1.05,0.0120663,2.0528
82,1.1,0.00591784,2.11201
83,1.15,0.00203378,2.17877
84,1.2,0.000143622,2.25287
85,1.25,,2.33411
86,1.3,,2.42221
87,1.35,,2.51692
88,1.4,,2.61807
89,1.45,,2.72551
90,1.5,,2.83913
91,1.55,,2.95884
92,1.6,,3.08456
93,1.65,,3.2162
94,1.7,,3.35371
95,1.75,,3.49704
96,1.8,,3.64612
97,1.85,,3.80092
98,1.9,,3.96139
99,1.95,,4.1275
100,2,,4.29921
$offDelim
;
$offExternalOutput

set	ind	    Individuals /Alice, Bob/
	time 	Time points /0*200/
	xy	    Cartesian coordinates /x,y/;
$onExternalOutput
table hovercraft(ind,time,xy)
$onDelim
,,x,y
Alice,1,,0.00329559
Alice,2,,0.00659117
Alice,3,4.35205e-05,0.00986452
Alice,4,0.000130542,0.0131156
Alice,5,0.000261045,0.0163443
Alice,6,0.00043501,0.0195507
Alice,7,0.000652416,0.0227347
Alice,8,0.000913242,0.0258963
Alice,9,0.00121747,0.0290354
Alice,10,0.00156507,0.032152
Alice,11,0.00195602,0.035246
Alice,12,0.00239031,0.0383174
Alice,13,0.00286791,0.0413661
Alice,14,0.00338879,0.0443922
Alice,15,0.00395294,0.0473955
Alice,16,0.00456032,0.050376
Alice,17,0.00521091,0.0533337
Alice,18,0.00590468,0.0562685
Alice,19,0.00664162,0.0591804
Alice,20,0.00742168,0.0620693
Alice,21,0.00824485,0.0649351
Alice,22,0.0091111,0.0677779
Alice,23,0.0100204,0.0705975
Alice,24,0.0109727,0.0733939
Alice,25,0.011968,0.0761671
Alice,26,0.0130062,0.0789169
Alice,27,0.0140874,0.0816434
Alice,28,0.0152115,0.0843464
Alice,29,0.0163784,0.087026
Alice,30,0.0175881,0.089682
Alice,31,0.0188407,0.0923143
Alice,32,0.0201359,0.094923
Alice,33,0.0214739,0.0975079
Alice,34,0.0228546,0.100069
Alice,35,0.0242779,0.102606
Alice,36,0.0257438,0.105119
Alice,37,0.0272522,0.107609
Alice,38,0.0288032,0.110074
Alice,39,0.0303966,0.112515
Alice,40,0.0320325,0.114931
Alice,41,0.0337107,0.117323
Alice,42,0.0354312,0.119691
Alice,43,0.037194,0.122035
Alice,44,0.0389991,0.124353
Alice,45,0.0408463,0.126647
Alice,46,0.0427356,0.128916
Alice,47,0.044667,0.131161
Alice,48,0.0466403,0.13338
Alice,49,0.0486557,0.135574
Alice,50,0.0507129,0.137743
Alice,51,0.0528119,0.139887
Alice,52,0.0549526,0.142005
Alice,53,0.0571351,0.144098
Alice,54,0.0593591,0.146165
Alice,55,0.0616247,0.148206
Alice,56,0.0639317,0.150222
Alice,57,0.0662801,0.152211
Alice,58,0.0686698,0.154174
Alice,59,0.0711007,0.156111
Alice,60,0.0735727,0.158022
Alice,61,0.0760857,0.159906
Alice,62,0.0786396,0.161763
Alice,63,0.0812344,0.163594
Alice,64,0.0838698,0.165397
Alice,65,0.0865459,0.167173
Alice,66,0.0892624,0.168922
Alice,67,0.0920193,0.170643
Alice,68,0.0948165,0.172336
Alice,69,0.0976537,0.174002
Alice,70,0.100531,0.175639
Alice,71,0.103448,0.177248
Alice,72,0.106404,0.178828
Alice,73,0.109401,0.18038
Alice,74,0.112436,0.181902
Alice,75,0.115511,0.183396
Alice,76,0.118624,0.184859
Alice,77,0.121776,0.186293
Alice,78,0.124967,0.187697
Alice,79,0.128196,0.18907
Alice,80,0.131463,0.190413
Alice,81,0.134768,0.191725
Alice,82,0.13811,0.193005
Alice,83,0.14149,0.194254
Alice,84,0.144906,0.19547
Alice,85,0.148359,0.196654
Alice,86,0.151848,0.197806
Alice,87,0.155373,0.198924
Alice,88,0.158933,0.200008
Alice,89,0.162528,0.201058
Alice,90,0.166157,0.202073
Alice,91,0.16982,0.203052
Alice,92,0.173517,0.203996
Alice,93,0.177246,0.204904
Alice,94,0.181007,0.205775
Alice,95,0.184799,0.206607
Alice,96,0.188621,0.207402
Alice,97,0.192472,0.208157
Alice,98,0.196352,0.208872
Alice,99,0.200258,0.209547
Alice,100,0.204191,0.21018
Alice,101,0.208148,0.21077
Alice,102,0.212127,0.211318
Alice,103,0.216127,0.211821
Alice,104,0.220146,0.212279
Alice,105,0.224181,0.212691
Alice,106,0.228231,0.213056
Alice,107,0.232291,0.213374
Alice,108,0.23636,0.213643
Alice,109,0.240433,0.213864
Alice,110,0.244507,0.214035
Alice,111,0.248577,0.214158
Alice,112,0.25264,0.214233
Alice,113,0.256692,0.21426
Alice,114,0.260728,0.214241
Alice,115,0.264743,0.214178
Alice,116,0.268734,0.214072
Alice,117,0.272697,0.213926
Alice,118,0.276629,0.213743
Alice,119,0.280527,0.213524
Alice,120,0.284388,0.213273
Alice,121,0.28821,0.212993
Alice,122,0.291991,0.212686
Alice,123,0.29573,0.212355
Alice,124,0.299425,0.212001
Alice,125,0.303076,0.211627
Alice,126,0.306681,0.211236
Alice,127,0.31024,0.210828
Alice,128,0.313752,0.210406
Alice,129,0.317217,0.209972
Alice,130,0.320635,0.209526
Alice,131,0.324005,0.209071
Alice,132,0.327326,0.208607
Alice,133,0.330599,0.208136
Alice,134,0.333824,0.207659
Alice,135,0.337,0.207177
Alice,136,0.340127,0.20669
Alice,137,0.343206,0.2062
Alice,138,0.346236,0.205707
Alice,139,0.349217,0.205212
Alice,140,0.352149,0.204717
Alice,141,0.355032,0.204221
Alice,142,0.357866,0.203725
Alice,143,0.360652,0.203229
Alice,144,0.363388,0.202735
Alice,145,0.366076,0.202243
Alice,146,0.368715,0.201753
Alice,147,0.371305,0.201266
Alice,148,0.373847,0.200783
Alice,149,0.376339,0.200302
Alice,150,0.378783,0.199826
Alice,151,0.381179,0.199354
Alice,152,0.383525,0.198887
Alice,153,0.385823,0.198425
Alice,154,0.388073,0.197968
Alice,155,0.390274,0.197517
Alice,156,0.392426,0.197072
Alice,157,0.39453,0.196633
Alice,158,0.396585,0.196201
Alice,159,0.398593,0.195775
Alice,160,0.400551,0.195357
Alice,161,0.402462,0.194945
Alice,162,0.404324,0.194541
Alice,163,0.406138,0.194145
Alice,164,0.407903,0.193757
Alice,165,0.40962,0.193377
Alice,166,0.41129,0.193005
Alice,167,0.412911,0.192641
Alice,168,0.414484,0.192287
Alice,169,0.416009,0.191941
Alice,170,0.417485,0.191603
Alice,171,0.418914,0.191276
Alice,172,0.420295,0.190957
Alice,173,0.421628,0.190648
Alice,174,0.422913,0.190348
Alice,175,0.42415,0.190058
Alice,176,0.425339,0.189778
Alice,177,0.426481,0.189508
Alice,178,0.427574,0.189248
Alice,179,0.42862,0.188998
Alice,180,0.429618,0.188759
Alice,181,0.430568,0.18853
Alice,182,0.431471,0.188311
Alice,183,0.432325,0.188104
Alice,184,0.433133,0.187907
Alice,185,0.433892,0.187721
Alice,186,0.434604,0.187546
Alice,187,0.435268,0.187382
Alice,188,0.435885,0.187229
Alice,189,0.436454,0.187087
Alice,190,0.436976,0.186957
Alice,191,0.43745,0.186838
Alice,192,0.437876,0.186731
Alice,193,0.438255,0.186635
Alice,194,0.438587,0.186552
Alice,195,0.438871,0.186479
Alice,196,0.439108,0.186419
Alice,197,0.439298,0.186371
Alice,198,0.43944,0.186334
Alice,199,0.439534,0.18631
Alice,200,0.439582,0.186298
Bob,0,0.5,
Bob,1,0.503296,
Bob,2,0.506591,
Bob,3,0.509841,1.69061e-05
Bob,4,0.513045,5.07101e-05
Bob,5,0.516203,0.000101404
Bob,6,0.519315,0.000168979
Bob,7,0.522381,0.000253427
Bob,8,0.525402,0.000354739
Bob,9,0.528376,0.000472906
Bob,10,0.531305,0.00060792
Bob,11,0.534188,0.000759772
Bob,12,0.537024,0.000928451
Bob,13,0.539815,0.00111395
Bob,14,0.54256,0.00131626
Bob,15,0.54526,0.00153537
Bob,16,0.547913,0.00177126
Bob,17,0.55052,0.00202394
Bob,18,0.553082,0.00229339
Bob,19,0.555597,0.00257959
Bob,20,0.558067,0.00288255
Bob,21,0.560491,0.00320224
Bob,22,0.562869,0.00353866
Bob,23,0.565201,0.00389179
Bob,24,0.567487,0.00426163
Bob,25,0.569727,0.00464816
Bob,26,0.571921,0.00505137
Bob,27,0.574069,0.00547126
Bob,28,0.576171,0.00590779
Bob,29,0.578227,0.00636098
Bob,30,0.580238,0.00683079
Bob,31,0.582202,0.00731723
Bob,32,0.58412,0.00782026
Bob,33,0.585993,0.00833989
Bob,34,0.587819,0.0088761
Bob,35,0.5896,0.00942888
Bob,36,0.591334,0.0099982
Bob,37,0.593022,0.0105841
Bob,38,0.594665,0.0111864
Bob,39,0.596261,0.0118053
Bob,40,0.597812,0.0124407
Bob,41,0.599316,0.0130925
Bob,42,0.600775,0.0137608
Bob,43,0.602187,0.0144456
Bob,44,0.603553,0.0151468
Bob,45,0.604874,0.0158643
Bob,46,0.606148,0.0165983
Bob,47,0.607376,0.0173486
Bob,48,0.608558,0.0181153
Bob,49,0.609694,0.0188983
Bob,50,0.610784,0.0196977
Bob,51,0.611828,0.0205133
Bob,52,0.612826,0.0213452
Bob,53,0.613778,0.0221933
Bob,54,0.614684,0.0230577
Bob,55,0.615543,0.0239383
Bob,56,0.616357,0.0248351
Bob,57,0.617124,0.025748
Bob,58,0.617845,0.0266771
Bob,59,0.61852,0.0276223
Bob,60,0.619149,0.0285835
Bob,61,0.619732,0.0295609
Bob,62,0.620268,0.0305543
Bob,63,0.620759,0.0315636
Bob,64,0.621203,0.032589
Bob,65,0.621601,0.0336303
Bob,66,0.621953,0.0346875
Bob,67,0.622258,0.0357607
Bob,68,0.622518,0.0368497
Bob,69,0.622731,0.0379545
Bob,70,0.622898,0.0390751
Bob,71,0.623018,0.0402114
Bob,72,0.623093,0.0413635
Bob,73,0.623121,0.0425313
Bob,74,0.623102,0.0437147
Bob,75,0.623038,0.0449137
Bob,76,0.622927,0.0461283
Bob,77,0.62277,0.0473584
Bob,78,0.622566,0.048604
Bob,79,0.622316,0.049865
Bob,80,0.62202,0.0511414
Bob,81,0.621677,0.0524331
Bob,82,0.621288,0.0537401
Bob,83,0.620852,0.0550624
Bob,84,0.62037,0.0563998
Bob,85,0.619841,0.0577523
Bob,86,0.619266,0.0591199
Bob,87,0.618645,0.0605025
Bob,88,0.617977,0.0619
Bob,89,0.617262,0.0633124
Bob,90,0.616501,0.0647396
Bob,91,0.615693,0.0661815
Bob,92,0.614838,0.067638
Bob,93,0.613937,0.069109
Bob,94,0.612989,0.0705945
Bob,95,0.611994,0.0720944
Bob,96,0.610953,0.0736086
Bob,97,0.609865,0.0751369
Bob,98,0.60873,0.0766793
Bob,99,0.607548,0.0782357
Bob,100,0.60632,0.0798059
Bob,101,0.605044,0.0813898
Bob,102,0.603722,0.0829872
Bob,103,0.602352,0.0845981
Bob,104,0.600936,0.0862222
Bob,105,0.599472,0.0878594
Bob,106,0.597961,0.0895096
Bob,107,0.596403,0.0911724
Bob,108,0.594798,0.0928478
Bob,109,0.593146,0.0945355
Bob,110,0.591446,0.0962352
Bob,111,0.589699,0.0979467
Bob,112,0.587904,0.0996697
Bob,113,0.586061,0.101404
Bob,114,0.584171,0.103149
Bob,115,0.582234,0.104904
Bob,116,0.580248,0.10667
Bob,117,0.578214,0.108445
Bob,118,0.576133,0.110228
Bob,119,0.574003,0.112021
Bob,120,0.571825,0.11382
Bob,121,0.569599,0.115627
Bob,122,0.567324,0.117439
Bob,123,0.565,0.119256
Bob,124,0.562628,0.121077
Bob,125,0.560206,0.122899
Bob,126,0.557736,0.124721
Bob,127,0.555217,0.126539
Bob,128,0.55265,0.128351
Bob,129,0.550035,0.130153
Bob,130,0.547374,0.131937
Bob,131,0.544671,0.133698
Bob,132,0.541932,0.135424
Bob,133,0.53917,0.137108
Bob,134,0.5364,0.138743
Bob,135,0.533636,0.14033
Bob,136,0.530888,0.141871
Bob,137,0.528164,0.14337
Bob,138,0.525468,0.144828
Bob,139,0.522804,0.146249
Bob,140,0.520174,0.147636
Bob,141,0.51758,0.148989
Bob,142,0.515023,0.15031
Bob,143,0.512504,0.1516
Bob,144,0.510024,0.152861
Bob,145,0.507584,0.154094
Bob,146,0.505184,0.155298
Bob,147,0.502824,0.156475
Bob,148,0.500505,0.157625
Bob,149,0.498228,0.15875
Bob,150,0.495992,0.159848
Bob,151,0.493797,0.160921
Bob,152,0.491645,0.16197
Bob,153,0.489536,0.162993
Bob,154,0.487468,0.163993
Bob,155,0.485443,0.164968
Bob,156,0.483461,0.16592
Bob,157,0.481522,0.166848
Bob,158,0.479625,0.167753
Bob,159,0.477772,0.168635
Bob,160,0.475962,0.169494
Bob,161,0.474195,0.17033
Bob,162,0.472472,0.171143
Bob,163,0.470792,0.171935
Bob,164,0.469155,0.172703
Bob,165,0.467562,0.17345
Bob,166,0.466013,0.174175
Bob,167,0.464507,0.174878
Bob,168,0.463046,0.175559
Bob,169,0.461627,0.176218
Bob,170,0.460253,0.176856
Bob,171,0.458923,0.177472
Bob,172,0.457636,0.178067
Bob,173,0.456394,0.178641
Bob,174,0.455196,0.179193
Bob,175,0.454041,0.179724
Bob,176,0.452931,0.180234
Bob,177,0.451865,0.180723
Bob,178,0.450843,0.181191
Bob,179,0.449865,0.181639
Bob,180,0.448932,0.182065
Bob,181,0.448042,0.182471
Bob,182,0.447197,0.182856
Bob,183,0.446396,0.18322
Bob,184,0.44564,0.183564
Bob,185,0.444928,0.183887
Bob,186,0.44426,0.184189
Bob,187,0.443637,0.184472
Bob,188,0.443058,0.184733
Bob,189,0.442524,0.184975
Bob,190,0.442033,0.185196
Bob,191,0.441588,0.185397
Bob,192,0.441187,0.185577
Bob,193,0.44083,0.185738
Bob,194,0.440518,0.185878
Bob,195,0.440251,0.185998
Bob,196,0.440028,0.186098
Bob,197,0.439849,0.186178
Bob,198,0.439715,0.186238
Bob,199,0.439626,0.186278
Bob,200,0.439582,0.186298
$offDelim
;
$offExternalOutput