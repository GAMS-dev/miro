var Miro=function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";function a(e,t,n,a,o,i,r){try{var l=e[i](r),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,o)}n.r(t),n.d(t,"showSpinnerIcon",function(){return c}),n.d(t,"changeTab",function(){return d}),n.d(t,"slideToggleEl",function(){return s}),n.d(t,"showNewNameBaseDialog",function(){return u}),n.d(t,"confirmModalShow",function(){return h}),n.d(t,"removeAttachment",function(){return p}),n.d(t,"showHypercubeLog",function(){return f}),n.d(t,"importHypercubeJob",function(){return y}),n.d(t,"discardHypercubeJob",function(){return g}),n.d(t,"renderMathJax",function(){return m}),n.d(t,"validateSname",function(){return b}),n.d(t,"validateHcubeHash",function(){return v}),n.d(t,"hcHashImport",function(){return k}),n.d(t,"jumpToLogMark",function(){return w});var o={};function i(e){return new Promise(function(t){return setTimeout(t,e)})}function r(e){switch(e){case"inputData":$("#btImport").show(),$("#btSolve").show(),$("#btInterrupt").hide(),$("#btSplitView").hide(),$("#btCompareScen").hide();break;case"outputData":$("#btImport").hide(),$("#btSolve").hide(),$("#btInterrupt").hide(),$("#btSplitView").hide(),$("#btCompareScen").hide();break;case"gamsinter":$("#btImport").hide(),$("#btSolve").hide(),$("#btInterrupt").show(),$("#btSplitView").hide(),$("#btCompareScen").hide();break;case"scenarios":$("#btImport").hide(),$("#btSolve").hide(),$("#btInterrupt").hide(),$("#btSplitView").show(),$("#btCompareScen").show();break;default:$("#btImport").hide(),$("#btSolve").hide(),$("#btInterrupt").hide(),$("#btSplitView").hide(),$("#btCompareScen").hide()}}function l(e){switch(e){case"input":r("inputData"),$('[href="#shiny-tab-inputData"]').tab("show");break;case"output":r("outputData"),$('[href="#shiny-tab-outputData"]').tab("show");break;case"gamsinter":r("gamsinter"),$('[href="#shiny-tab-gamsinter"]').tab("show");break;case"hcubeAna":r("default"),$('[href="#shiny-tab-hcubeAnalyze"]').tab("show");break;case"scenComp":r("scenarios"),$('[href="#shiny-tab-scenarios"]').tab("show")}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;if(!o[$(e).prop("id")]){o[$(e).prop("id")]=!0;var n=$(e).html();$(e).html('<i class="fa fa-refresh fa-spin"></i>'),setTimeout(function(){$(e).html(n),o[$(e).prop("id")]=!1},t)}}function d(e,t,n){var a=e.closest(".tabbable");a.find("li:nth-of-type(".concat(t,")")).removeClass(),a.find("li:nth-of-type(".concat(n,")")).addClass("active"),a.find(".tab-content div:nth-child(".concat(t,")")).removeClass("active"),a.find(".tab-content div:nth-child(".concat(n,")")).addClass("active")}function s(e){void 0!==e.toggleIconDiv&&($(e.id).is(":visible")?$(e.toggleIconDiv).html('<i class="fa fa-plus"></i>'):$(e.toggleIconDiv).html('<i class="fa fa-minus"></i>'));var t=400;void 0===e.duration&&(t=e.duration),$(e.id).slideToggle(t)}function u(){$("#base-overwrite-container").hide(),$("#loadBase_snameExistsMsg").hide(),$("#loadBase_newName").show(),$("#btCheckSnameBase").show()}function h(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i='<button type="button" class="btn btn-default" data-dismiss="modal">'.concat(n,"</button>"),r="";null!==o&&(r='<button type="button" class="btn btn-default bt-highlight-1 bt-gms-confirm" '+'id="" onclick="'.concat(o,'" data-dismiss="modal">').concat(a,"</button>"));var l=$("#confirmModal");l.find(".modal-title").html(e),l.find(".modal-body").html(t),l.find(".modal-footer").html(i+r),l.modal("show")}function p(e){$("#btRemoveAttachment_".concat(e)).parent().parent().remove(),Shiny.setInputValue("btRemoveAttachment_".concat(e),1,{priority:"event"})}function f(e){Shiny.setInputValue("showHypercubeLog",e,{priority:"event"})}function y(e){Shiny.setInputValue("importHypercubeJob",e,{priority:"event"})}function g(e){Shiny.setInputValue("discardHypercubeJob",e,{priority:"event"})}function m(){MathJax.Hub.Queue(["Typeset",MathJax.Hub,"wrapper-documentation"])}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"btCheckSnameLocalConfirm";return!0!==/^[a-f0-9]{64}$/i.test($(e).val())&&!0!==/^\s*$/.test($(e).val())?($(e).removeClass("invalidInput"),"internal"===t||(Shiny.setInputValue(t,1,{priority:"event"}),!0)):($(e).addClass("invalidInput"),!1)}function v(){var e=$("#hcHashLookup").val();if(!0===/^[a-f0-9]{64}$/i.test(e)){if(!b("#hcube_newScenName","internal"))return;return $("#hcHashLookup").removeClass("invalidInput"),void Shiny.setInputValue("hcHashLookup",e,{priority:"event"})}$("#hcHashLookup").addClass("invalidInput")}function k(e){b("#hcube_newScenName","internal")&&Shiny.setInputValue("loadHcubeHashSid",e,{priority:"event"})}function w(e){return _.apply(this,arguments)}function _(){var e;return e=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l("gamsinter"),$('#logFileTabsset [data-value="mirolog"]').tab("show"),e.next=4,i(200);case 4:void 0!==(n=$("#mlogMark_".concat(t)))&&(n[0].scrollIntoView(),n.animate({backgroundColor:"yellow"},400).delay(1e3).animate({backgroundColor:"transparent"},400));case 6:case"end":return e.stop()}},e)}),(_=function(){var t=this,n=arguments;return new Promise(function(o,i){var r=e.apply(t,n);function l(e){a(r,o,i,l,c,"next",e)}function c(e){a(r,o,i,l,c,"throw",e)}l(void 0)})}).apply(this,arguments)}function D(e){return!!$(e).parents(".form-group").length}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;setTimeout(function(){var e=$(".rhandsontable:visible").get(0);void 0!==e&&HTMLWidgets.getInstance(e).hot.render()},e)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;setTimeout(function(){$(e).animate({scrollTop:$(e)[0].scrollHeight-$(e)[0].clientHeight},300)},t)}$(document).ready(function(){$("body").addClass("fixed"),$("#btImport").show(),$("#btSolve").show(),$("#btInterrupt").hide(),$("#btSplitView").hide(),$("#btCompareScen").hide(),$("#btLoadScen").hide(),$('a[data-value="inputData"]').click(function(){r("inputData"),x()}),$('a[data-value="outputData"]').click(function(){r("outputData")}),$('a[data-value="gamsinter"]').click(function(){r("gamsinter")}),$('a[data-value="scenarios"]').click(function(){r("scenarios")}),$("#scenTabset").on("click",'a[data-toggle="tab"]',function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;try{setTimeout(function(){HTMLWidgets.getInstance($(".dygraphs:visible").get(0)).dygraph.resize()},e)}catch(e){}}()}),$('a[data-value="advanced"],a[data-value="importData"],a[data-value="loadResults"],a[data-value="hcubeAnalyze"]').click(function(){r("default")}),$("#inputTabset li").click(function(){x()}),$("#scenTabset").append('<li id="scenTabsetAdd"><a href="#" id="btLoadScen" data-value="scen_add" onclick="Shiny.setInputValue(\'btLoadScen\', 1, {priority: \'event\'});"><i class="far fa-plus-square" style="font-size:13pt;"></i></a></li>'),Shiny.addCustomMessageHandler("gms-switchTab",function(e){l(e)}),$("body").on("click",".bt-highlight-1, .bt-highlight-2, .bt-highlight-3",function(){var e=$(this);e.prop("disabled",!0),setTimeout(function(){e.prop("disabled",!1)},1500)}),$(document).click(function(e){var t=e.target;$(t).is(".pvtAttr")||$(t).parents(".pvtAttr").length||$(t).is(".pvtFilterBox")||$(t).parents(".pvtFilterBox").length||$(".pvtFilterBox").hide()}),$(".sidebar-toggle").click(function(){x(400)}),window.addEventListener("beforeunload",function(e){0===$("#shiny-disconnected-overlay").length&&(e.preventDefault(),e.returnValue="Are you sure you want to leave? Unsaved changes will be lost!")}),Shiny.addCustomMessageHandler("gms-showEl",function(e){D(e)?$(e).closest(".shiny-input-container").show():$(e).show()}),Shiny.addCustomMessageHandler("gms-showElReplaceTxt",function(e){$(e.id).text(e.txt).show()}),Shiny.addCustomMessageHandler("gms-hideEl",function(e){D(e)?$(e).closest(".shiny-input-container").hide():$(e).hide()}),Shiny.addCustomMessageHandler("gms-showHideEl",function(e){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null!==n&&$(e).text(n),$(e).show().delay(t).fadeOut()}(e.id,e.delay,e.msg)}),Shiny.addCustomMessageHandler("gms-enableEl",function(e){$(e).prop("disabled",!1)}),Shiny.addCustomMessageHandler("gms-disableEl",function(e){$(e).prop("disabled",!0)}),Shiny.addCustomMessageHandler("gms-toggleEl",function(e){$(e).is(":visible")?($(e).toggle(),$(e).trigger("shown")):($(e).fadeToggle(600),$(e).trigger("hidden"))}),Shiny.addCustomMessageHandler("gms-slideToggleEl",function(e){s(e)}),Shiny.addCustomMessageHandler("gms-addClassEl",function(e){$(e.id).addClass(e.newclass)}),Shiny.addCustomMessageHandler("gms-removeClassEl",function(e){$(e.id).removeClass(e.oldclass)}),Shiny.addCustomMessageHandler("gms-emptyEl",function(e){$(e).empty()}),Shiny.addCustomMessageHandler("gms-appendEl",function(e){var t=e.content;e.text&&(t=document.createTextNode(t)),$(e.id).append(t),e.scroll&&S(e.id,50)}),Shiny.addCustomMessageHandler("gms-scrollDown",function(e){S(e)}),Shiny.addCustomMessageHandler("gms-hideModal",function(e){setTimeout(function(){$("#shiny-modal-wrapper").find(".modal").modal("hide")},1e3*e)}),Shiny.addCustomMessageHandler("gms-updateAttachList",function(e){for(var t=$.makeArray(e.id).id,n=$.makeArray(e.name).name,a=0;a<t.length;a+=1){var o="";e.allowExec&&(o='<div class="col-sm-6"><div class="form-group shiny-input-container"><div class="checkbox"><label><input type="checkbox" onchange="Shiny.setInputValue(\'execPermAttachment_'.concat(t[a],"', $(this).is(':checked'));\" checked=\"checked\"><span>").concat(e.labelCb,"</span></label></div></div></div>")),$('<div class="row attachment-line"><div class="col-sm-6"><button class="btn btn-default bt-icon" id="btRemoveAttachment_'.concat(t[a],'" type="button" onclick="Miro.removeAttachment(').concat(t[a],')"><i class="fa fa-times-circle"></i></button> ').concat(n[a],"</div>").concat(o,"</div>")).insertBefore("#endAttachList")}}),Shiny.addCustomMessageHandler("gms-fitTitleInBox",function(e){setTimeout(function(){var t=$(e),n=t.parent()[0];t.css("font-size","18px");for(var a=18;n.scrollWidth>n.clientWidth&&a>=10;)a-=2,t.css("font-size","".concat(a,"px"))},500)}),Shiny.addCustomMessageHandler("gms-showValidationErrors",function(e){var t=Object.keys(e);$(".input-validation-error").empty(),t.forEach(function(t){Array.isArray(e[t])?e[t].forEach(function(e){$("#valErr_".concat(t)).append(e)}):$("#valErr_".concat(t)).append(e[t])}),$(".input-validation-error").show()})});var E=1;$(document).keyup(function(e){if(13!==e.keyCode||e.ctrlKey)if(27!==e.keyCode){if(e.ctrlKey&&e.altKey)if(73!==e.keyCode)if(83!==e.keyCode)if(13!==e.keyCode)if(82!==e.keyCode)if(67!==e.keyCode)if(67!==e.keyCode){if(70===e.keyCode)return $("body").toggleClass("sidebar-collapse"),void x(400);if(49!==e.keyCode)if(50!==e.keyCode)if(51!==e.keyCode)if(52!==e.keyCode)if(53!==e.keyCode){if(84!==e.keyCode)return 39===e.keyCode?(Shiny.onInputChange("tabsetShortcutNext",E),void(E+=1)):37===e.keyCode?(Shiny.onInputChange("tabsetShortcutPrev",E),void(E+=1)):40===e.keyCode?(Shiny.onInputChange("tabsetShortcutNest",E),void(E+=1)):38===e.keyCode?(Shiny.onInputChange("tabsetShortcutUnnest",E),void(E+=1)):void(32===e.keyCode&&$("#btCompareScen").is(":enabled")&&$("#btCompareScen").is(":visible")&&$("#btCompareScen").click());if($("#btGraphIn").is(":visible"))return void $("#btGraphIn:enabled").click();if($("#outputTableView").is(":visible"))return void $("#outputTableView").click();for(var t=2;t<=53;t+=1)$("#table_".concat(t,":visible")).click()}else{var n=$('a[href="#shiny-tab-hcubeAnalyze"]');n.length>0&&n.click()}else $('a[href="#shiny-tab-scenarios"]').click();else{var a=$('a[href="#shiny-tab-gamsinter"]');a.length>0?a.click():$('a[href="#shiny-tab-loadResults"]').click()}else{var o=$('a[href="#shiny-tab-outputData"]');o.length>0?o.click():$('a[href="#shiny-tab-importData"]').click()}else $('a[href="#shiny-tab-inputData"]').click()}else for(var i=2;i<=50;i+=1)$("#close_".concat(i,":visible")).click();else $(".btRemove:visible").click();else Shiny.setInputValue("btDelete",1,{priority:"event"});else $("#btSolve:visible:enabled").click();else Shiny.setInputValue("btSave",1,{priority:"event"});else $("#btImport").is(":visible")?$("#btImport").click():$("#btLoadScen").is(":visible")&&$("#btLoadScen").click()}else $(".modal").modal("hide");else{if($("#shiny-modal").find(".selectize-input.input-active").length>0||$("#shiny-modal").find('*[data-dismiss="modal"]').is(":focus"))return;$(".bt-gms-confirm:visible:enabled").click()}})},function(e,t,n){"use strict";function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,o=!1,i=void 0;try{for(var r,l=e[Symbol.iterator]();!(a=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.r(t),function(e,t){var n,a=e.jQuery||e.Cowboy||(e.Cowboy={});a.throttle=n=function(e,n,o,i){var r,l=0;function c(){var a=this,c=+new Date-l,d=arguments;function s(){l=+new Date,o.apply(a,d)}i&&!r&&s(),r&&clearTimeout(r),i===t&&c>e?s():!0!==n&&(r=setTimeout(i?function(){r=t}:s,i===t?e-c:e))}return"boolean"!=typeof n&&(i=o,o=n,n=t),a.guid&&(c.guid=o.guid=o.guid||a.guid++),c},a.debounce=function(e,a,o){return o===t?n(e,a,!1):n(e,o,!1!==a)}}(window);var l=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"array_el";o(this,e),this.arrayID=void 0,this.elements=void 0,this.rObserveID=void 0,this.options=void 0,this.indexEl=void 0,this.elCount=0,this.elInArray=[],this.freeElIDs=[],this.isNewElement=!0,this.arrayID=t,this.elements=n,this.rObserveID=i,this.options=a,void 0===a.elRequired&&(this.options.elRequired=!0),void 0===a.updateTxtWithLabel&&(this.options.updateTxtWithLabel=[])}return r(e,[{key:"resetDefault",value:function(){return!0===this.options.myopicDefaults&&!1===this.isNewElement}},{key:"createEl",value:function(){var t,n=this,o="add_".concat(this.rObserveID),i=this.incElCount(),r='<div id="'.concat(this.arrayID).concat(i,'_wrapper" class="config-array-el">\n'),l=0,c="";$.each(this.elements,function(d,s){var u,h,p=[],f=[];switch(s[0]){case"select":if(0===l){if(!0===n.options.elRequired){n.indexEl=d,s[2].length-1===n.elCount&&$("#".concat(n.arrayID,"_wrapper .btn-add-array-el")).prop("disabled",!0);for(var y=0;y<s[2].length;y++)-1===n.elInArray.indexOf(s[2][y])&&(p.push(s[2][y]),void 0!==s[3]&&f.push(s[3][y]));u=a(p,1)[0],t=u;var g=a(f,1);c=g[0];for(var m=1;m<i;m++){var b=$("#".concat(d).concat(m));b.length&&b[0].selectize.disable()}n.addLabelEl(i,u)}else{var v=a(s,4);p=v[2],f=v[3],u=a(p,1)[0];var k=a(f,1);c=k[0]}n.resetDefault()&&(u=""),Shiny.setInputValue(o,[i,u,d],{priority:"event"})}else if(n.resetDefault()){u="";var w=a(s,4);p=w[2],f=w[3]}else{var _=a(s,5);p=_[2],f=_[3],".index"===(u=_[4])&&(u=t)}r+=e.createSelectInput(d,i,s[1],p,f,u,s[5]);break;case"selectDep":var D=a(s,4);if(u=a(D[3],1)[0],void 0!==s[5])u=a(s,6)[5];n.resetDefault()?u="":".index"===u&&(u=t),0===l&&Shiny.setInputValue(o,[i,u,d],{priority:"event"}),r+=e.createSelectDepInput(d,i,0!==l?"":o,s[1],s[2],s[3],s[4],u,s[6]);break;case"text":h=n.resetDefault()?"":void 0!==s[2]?s[2]:"",0===l&&!1===n.options.elRequired&&Shiny.setInputValue(o,[i,h,d],{priority:"event"}),"label"===h&&(h=c,n.options.updateTxtWithLabel.push("#".concat(d).concat(i))),r+=e.createTextInput(d,i,s[1],h,s[3]);break;case"numeric":if(n.resetDefault())h="";else h=a(s,3)[2];0===l&&!1===n.options.elRequired&&Shiny.setInputValue(o,[i,h,d],{priority:"event"}),r+=e.createNumericInput(d,i,s[1],h,s[3],s[4],s[5]);break;case"checkbox":if(n.resetDefault())h=!1;else h=a(s,3)[2];0===l&&!1===n.options.elRequired&&Shiny.setInputValue(o,[i,h,d],{priority:"event"}),r+=e.createCheckboxInput(d,i,s[1],h);break;case"color":if(n.resetDefault())h="";else h=a(s,3)[2];r+=e.createColorPickerInput(d,i,s[1],h);break;case"optionsStart":r+="".concat('<div class="form-group" style="min-height:30px;"><h4 class="box-title option-section-header" style="cursor:pointer;font-weight:bold;" onclick="$(this).next().toggle();">').concat(s[1],' <i class="fa fa-plus"></i></h4><div class="option-section"').concat(!1===s[2]?"":' style="display:none;"',">");break;case"optionsEnd":r+="</div></div>";break;default:throw new TypeError("Unknown element type: ".concat(s[0]))}l+=1}),r+="".concat(!this.options.elRequired||i>1?'<button type="button" onclick="Miro.removeArrayEl(\''.concat(this.arrayID,"','").concat(i,'\')" class="btn btn-default bt-icon"><i class="far fa-minus-square"></i></button>\n'):"","<hr></div>"),$("#".concat(this.arrayID,"_wrapper .array-wrapper")).append(r),this.registerChangeHandlers(this.elements,o,i,this.options),this.isNewElement=!1,this.elCount+=1}},{key:"removeElAtomic",value:function(e,t,n){var a=this,o=null,i=null,r=t;return $.each(e,function(e,t){if($(t).children('input[type="number"]').length)o=$(t).children('input[type="number"]'),0===r&&(i=n),o.remove();else if($(t).children(".miro-color-picker").length)o=$(t).children(".miro-color-picker"),0===r&&(i=n),o.colorpicker("destroy");else if($(t).children(".option-section").length)a.removeElAtomic($(t).children(".option-section").first().children(".form-group"),r,n);else if($(t).children('input[type="text"]').length)o=$(t).children('input[type="text"]'),0===r&&(i=n),o.remove();else if($(t).children(".dep-el").length){var l=$(t).children(".dep-el");0===r&&(i=n),a.removeElAtomic(l.eq(0).children(".form-group"),r,n),a.removeElAtomic(l.eq(1).children(".form-group"),r,n)}else if($(t).find('input[type="checkbox"]').length)o=$(t).find('input[type="checkbox"]'),0===r&&(i=n),o.remove();else{if(!$(t).find("select").length)throw new Error("Could not remove array element.");o=$(t).find("select").get(0),0===r&&(i=$(o).val()),o.selectize.destroy()}r+=1}),i}},{key:"removeArrayEl",value:function(e){var t=this.removeElAtomic($("#".concat(this.arrayID).concat(e,"_wrapper")).children(".form-group"),0,e);if(0===t.length)throw new Error("Failed to remove array element: Could not find identifier for array element: ".concat(this.arrayID," (label ID: ").concat(this.arrayID).concat(e,")."));if(this.elCount-=1,delete this.elInArray[e],1===this.elCount&&void 0!==this.indexEl){var n=$("#".concat(this.indexEl,"1"));n.length&&n[0].selectize.enable()}$("#".concat(this.arrayID,"_wrapper .btn-add-array-el:disabled")).prop("disabled",!1),Shiny.setInputValue("remove_".concat(this.rObserveID),[this.arrayID,t,e],{priority:"event"}),this.freeElIDs.push(e),$("#".concat(this.arrayID).concat(e,"_wrapper")).remove()}},{key:"updateArrayEl",value:function(e,t){void 0!==this.elInArray[e]&&(this.elInArray[e]=t)}},{key:"registerChangeHandlers",value:function(e,t,n,o){var i=this,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=0,d=this.arrayID;$.each(e,function(e,s){if("select"===s[0]||"selectDep"===s[0]){if(l||0!==c?$("#".concat(e).concat(r)).selectize({onChange:function(t){Shiny.setInputValue(e,[n,t],{priority:"event"})}}):$("#".concat(e).concat(r)).selectize({onChange:function(a){if(o.elRequired&&Miro.updateArrayEl(d,n,a),o.updateTxtWithLabel.length){var i=$("#".concat(e).concat(r)).text();if(void 0!==i)for(var l=0;l<o.updateTxtWithLabel.length;l++)$(o.updateTxtWithLabel[l]).val(i)}Shiny.setInputValue(t,[n,a,e,"change"],{priority:"event"})}}),"selectDep"===s[0]){var u={},h=a(s,2);u[e]=h[1],u[e]=u[e].slice(1),i.registerChangeHandlers(u,t,n,o,"_alt".concat(n),0!==c)}}else"checkbox"===s[0]?l||0!==c?$("#".concat(e).concat(r)).on("change",function(){Shiny.setInputValue(e,[n,$(this).prop("checked")],{priority:"event"})}):$("#".concat(e).concat(r)).on("change",function(){Shiny.setInputValue(t,[n,$(this).prop("checked"),e,"change"],{priority:"event"})}):"color"===s[0]?l||0!==c?$("#".concat(e).concat(r)).colorpicker({align:"left"}).on("changeColor",$.debounce(500,function(){Shiny.setInputValue(e,[n,$(this).val()])})):$("#".concat(e).concat(r)).colorpicker({align:"left"}).on("changeColor",$.debounce(500,function(){Shiny.setInputValue(t,[n,$(this).val(),e,"change"],{priority:"event"})})):l||0!==c?$("#".concat(e).concat(r)).on("change",$.debounce(250,function(){Shiny.setInputValue(e,[n,$(this).val()],{priority:"event"})})):$("#".concat(e).concat(r)).on("change",$.debounce(250,function(){Shiny.setInputValue(t,[n,$(this).val(),e,"change"],{priority:"event"})}));c+=1})}},{key:"incElCount",value:function(){var e=$("#".concat(this.arrayID,"_wrapper .array-wrapper")).children(".config-array-el").length;return this.freeElIDs.length?this.freeElIDs.pop():e+1}},{key:"addLabelEl",value:function(e,t){if(-1!==this.elInArray.indexOf(t))throw new Error("Label: ".concat(t," already in use."));this.elInArray[e]=t}}],[{key:"createSelectInput",value:function(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",r=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=e+t,c=i,d="";$.isArray(c)||(c=[c]);for(var s=0,u=a.length;s<u;d+='<option value="'.concat(a[s],'"').concat(-1!==$.inArray(a[s],c)?" selected":"",">").concat(o[s++],"</option>\n"));return'<div class="config-array-err" id="'.concat(l,'_err" style="display:none;"></div>')+'<div class="form-group">\n'+'<label class="control-label" for="'.concat(l,'">').concat(n,"</label>\n")+'<div><select id="'.concat(l,'"').concat(!0===r?' multiple="multiple"':"",">").concat(d,"</select>\n</div>\n</div>")}},{key:"createTextInput",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=e+t;return Shiny.setInputValue(e,[t,a],{priority:"event"}),'<div class="config-array-err" id="'.concat(i,'_err" style="display:none;"></div>\n')+'<div class="form-group">\n'+'<label for="'.concat(i,'">').concat(n,"</label>\n")+'<input id="'.concat(i,'" type="text" class="form-control" value="').concat(a,'"').concat(null!==o?' placeholder="'.concat(o,'"'):"","/>\n")+"</div>"}},{key:"createNumericInput",value:function(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=e+t;return Shiny.setInputValue(e,[t,a],{priority:"event"}),"".concat('<div class="form-group">\n<label for="').concat(l,'">').concat(n,"</label>\n")+'<input id="'.concat(l,'" type="number" class="form-control" value="').concat(a,'"').concat(null!==o?' min="'.concat(o,'"'):"").concat(null!==i?' max="'.concat(i,'"'):"").concat(null!==r?' step="'.concat(r,'"'):"","/>\n")+"</div>"}},{key:"createCheckboxInput",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e+t;return Shiny.setInputValue(e,[t,a],{priority:"event"}),"".concat('<div class="form-group">\n<label class="cb-label" for="').concat(o,'">').concat(n,"</label>\n")+'<div>\n<label class="checkbox-material" for="'.concat(o,'">\n<div class="checkbox">\n')+"<label>\n"+'<input id="'.concat(o,'" type="checkbox"').concat(!0===a?' checked="checked"':"","/>\n")+"<span></span>\n</label>\n</div>\n</div>\n</label>\n</div>"}},{key:"createColorPickerInput",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=e+t;return Shiny.setInputValue(e,[t,a],{priority:"event"}),"".concat('<div class="form-group shiny-input-container">\n<label for="').concat(o,'">').concat(n,"</label>\n")+'<input id="'.concat(o,'" type="text" class="form-control miro-color-picker" value="').concat(a,'"/>\n')+"</div>"}},{key:"createSelectDepInput",value:function(t,n,a,o,i,r){var l,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:r,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",s=e.createSelectInput(t,n,i,r,c,d);switch(o[1]){case"select":l=e.createSelectInput("".concat(t,"_alt"),n,o[2],o[3],o[4],o[5]);break;case"text":l=e.createTextInput("".concat(t,"_alt"),n,o[2],o[3]);break;case"numeric":l=e.createNumericInput("".concat(t,"_alt"),n,o[2],o[3],o[4],o[5]);break;case"checkbox":l=e.createCheckboxInput("".concat(t,"_alt"),n,o[2],o[3]);break;case"color":l=e.createColorPickerInput("".concat(t,"_alt"),n,o[2],o[3]);break;default:throw new TypeError("Unknown element type: ".concat(o[1]))}var u="".concat('<div class="form-group col-sm-4">\n<label class="cb-label" for="depCb_').concat(t).concat(n,'">').concat(o[0],"</label>\n")+'<div>\n<label class="checkbox-material" for="depCb_'.concat(t).concat(n,'">\n<div class="checkbox">\n<label>\n')+'<input id="depCb_'.concat(t).concat(n,'" type="checkbox" onclick="Miro.toggleDepContainer(this, \'').concat(t,"', '").concat(n,"', '").concat(a,"');\"/>\n")+"<span></span>\n</label>\n</div>\n</div>\n</label>\n</div>";return'<div class="form-group dep-group" style="width:100%;display:inline-block;">\n<div class="dep-el col-sm-8">\n'.concat(s,'\n</div>\n<div class="dep-el col-sm-8" style="display:none">\n').concat(l,"\n</div>\n<div>\n").concat(u,"\n</div>\n</div>")}}]),e}(),c=function(){function e(){o(this,e),this.inputArrays={}}return r(e,[{key:"add",value:function(e,t,n,a){!1===(arguments.length>4&&void 0!==arguments[4]&&arguments[4])&&Object.prototype.hasOwnProperty.call(this.inputArrays,e)?this.inputArrays[e].createEl():(this.inputArrays[e]=new l(e,t,n,a),this.inputArrays[e].createEl())}},{key:"remove",value:function(e,t){return!!Object.prototype.hasOwnProperty.call(this.inputArrays,e)&&(this.inputArrays[e].removeArrayEl(t),!0)}},{key:"update",value:function(e,t,n){return!!Object.prototype.hasOwnProperty.call(this.inputArrays,e)&&(this.inputArrays[e].updateArrayEl(t,n),!0)}}]),e}(),d=n(0);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,o=!1,i=void 0;try{for(var r,l=e[Symbol.iterator]();!(a=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"removeArrayEl",function(){return S}),n.d(t,"updateArrayEl",function(){return E}),n.d(t,"toggleDepContainer",function(){return C}),n.d(t,"addArrayDataEl",function(){return L}),n.d(t,"confirmModalShow",function(){return d.confirmModalShow}),n.d(t,"slideToggleEl",function(){return d.slideToggleEl});var u={},h=[],p=[],f=[],y=[],g=[],m=[],b=[],v=[],k=[],w=[],_=[],D=[],x=new c;function S(e,t){x.remove(e,t)}function E(e,t,n){x.update(e,t,n)}function C(e,t,n,a){var o=$(e).closest(".dep-group");o.children(".dep-el").toggle();var i,r=o.children(".dep-el:visible").first().children(".form-group");$.each(r,function(e,t){if($(t).children('input[type="number"]').length)i=$(t).children('input[type="number"]').val();else if($(t).children(".miro-color-picker").length)i=$(t).children(".miro-color-picker").val();else if($(t).children('input[type="text"]').length)i=$(t).children('input[type="text"]').val();else if($(t).find('input[type="checkbox"]').length)i=$(t).find('input[type="checkbox"]').val();else if($(t).find("select").length){var n=s($(t).find("select").get(0).selectize.items,1);i=n[0]}}),a.length?Shiny.setInputValue(a,[n,i,t,"change"],{priority:"event"}):Shiny.setInputValue(t,[n,i],{priority:"event"})}var I={symbol_inputGroups:function(e){var t,n;return void 0!==e&&(t=e.name,n=e.members),[{symbol_inputGroups:["text",u.addInputGroup.symbolInputgroups,t],group_memberIn:["select",u.addInputGroup.groupMemberIn,k,w,n,!0]},{elRequired:!1,myopicDefaults:!0},"general"]},symbol_outputGroups:function(e){var t,n;return void 0!==e&&(t=e.name,n=e.members),[{symbol_outputGroups:["text",u.addOutputGroup.symbolOutputgroups,t],group_memberOut:["select",u.addOutputGroup.groupMemberOut,_,D,n,!0]},{elRequired:!1,myopicDefaults:!0},"general"]},dy_dyEvent:function(){return[{dy_dyEvent:["select",u.addDyEvent.dyDyEvent,b,v],dyEvent_label:["text",u.addDyEvent.label],dyEvent_labelLoc:["select",u.addDyEvent.labelLoc,["top","bottom"],u.addDyEvent.labelLocChoices],dyEvent_color:["color",u.addDyEvent.color,"rgb(0,0,0)"],dyEvent_strokePattern:["select",u.addDyEvent.strokePattern,["dashed","dotted","dotdash","solid"],u.addDyEvent.strokePatternChoices]},{elRequired:!1}]},dy_dyLimit:function(){return[{dy_dyLimit:["selectDep",[u.addDyLimit.dyDyLimitCheck,"numeric",u.addDyLimit.dyDyLimitTrue,0,0],u.addDyLimit.dyDyLimitFalse,b,v],dyLimit_label:["text",u.addDyLimit.label],dyLimit_labelLoc:["select",u.addDyLimit.labelLoc,["left","right"],u.addDyLimit.labelLocChoices],dyLimit_color:["color",u.addDyLimit.color,"rgb(0,0,0)"],dyLimit_strokePattern:["select",u.addDyLimit.strokePattern,["dashed","dotted","dotdash","solid"],u.addDyLimit.strokePatternChoices]},{elRequired:!1}]},dy_dyAnnotation:function(){return[{dy_dyAnnotation:["select",u.addDyAnnotation.dyDyAnnotation,b,v],dyAnnotation_text:["text",u.addDyAnnotation.text,"label"],dyAnnotation_tooltip:["text",u.addDyAnnotation.tooltip],dyAnnotation_width:["numeric",u.addDyAnnotation.width,0,0],dyAnnotation_height:["numeric",u.addDyAnnotation.height,0,0],dyAnnotation_attachAtBottom:["checkbox",u.addDyAnnotation.attachAtBottom]},{elRequired:!1}]},dy_dyShading:function(){return[{dy_dyShading:["selectDep",[u.addDyShading.dyDyShadingCheck,"text",u.addDyShading.dyDyShadingTrue],u.addDyShading.dyDyShadingFalse,b,v],dyShading_up:["selectDep",[u.addDyShading.dyDyShadingUpCheck,"text",u.addDyShading.dyDyShadingUpTrue],u.addDyShading.dyDyShadingUpFalse,b,v],dyShading_axis:["select",u.addDyShading.axis,["x","y"],u.addDyShading.axisChoices],dyShading_color:["color",u.addDyShading.color,"#EFEFEF"]},{elRequired:!1}]},leaflet_markers:function(){return[{leaflet_markers:["select",u.addLeafletMarkers.leafletMarkers,f,y],leafMark_lng:["select",u.addLeafletMarkers.lng,f,y],leafMark_groupName:["text",u.addLeafletMarkers.groupName],leafMark_label:["text",u.addLeafletMarkers.label],optionsStart:["optionsStart",u.addLeafletMarkers.options],leafMark_labelPermanent:["checkbox",u.addLeafletMarkers.labelPermanent,!0],leafMark_labelcolor:["color",u.addLeafletMarkers.labelcolor],leafMark_labelbgcolor:["color",u.addLeafletMarkers.labelbgcolor],leafMark_labelsize:["numeric",u.addLeafletMarkers.labelsize,12,0],optionsEnd:["optionsEnd"]},{elRequired:!1}]},leaflet_flows:function(){return[{leaflet_flows:["select",u.addLeafletFlows.leafletFlows,f,y],leafFlow_lng:["select",u.addLeafletFlows.lng,f,y],leafFlow_lat1:["select",u.addLeafletFlows.lat1,f,y],leafFlow_lng1:["select",u.addLeafletFlows.lng1,f,y],leafFlow_flow:["select",u.addLeafletFlows.flow,f,y],leafFlow_time:["select",u.addLeafletFlows.time,["_"].concat(g),["_"].concat(m)],leafFlow_label:["text",u.addLeafletFlows.label],optionsStart:["optionsStart",u.addLeafletFlows.options],leafFlow_color:["color",u.addLeafletFlows.color,"#0000ff"],leafFlow_minThickness:["numeric",u.addLeafletFlows.minThickness,1,0],leafFlow_maxThickness:["numeric",u.addLeafletFlows.maxThickness,20,0],optionsEnd:["optionsEnd"]},{elRequired:!1}]},leaflet_minicharts:function(){return[{leaflet_minicharts:["select",u.addLeafletMinicharts.leafletMinicharts,f,y],leafChart_lng:["select",u.addLeafletMinicharts.lng,f,y],leafChart_chartdata:["select",u.addLeafletMinicharts.chartdata,f,y,f[0],!0],leafChart_time:["select",u.addLeafletMinicharts.time,["_"].concat(g),["_"].concat(m)],leafChart_type:["select",u.addLeafletMinicharts.type,["bar","pie","polar-area","polar-radius","auto"],u.addLeafletMinicharts.typeChoices],optionsStart:["optionsStart",u.addLeafletMinicharts.options],leafChart_width:["numeric",u.addLeafletMinicharts.width,30,0],leafChart_height:["numeric",u.addLeafletMinicharts.height,30,0],leafChart_opacity:["numeric",u.addLeafletMinicharts.opacity,1,0,1,.1],leafChart_showlabels:["checkbox",u.addLeafletMinicharts.showlabels],leafChart_transitionTime:["numeric",u.addLeafletMinicharts.transitionTime,750,0],leafChart_layerId:["select",u.addLeafletMinicharts.layerId,["_"].concat(g),["_"].concat(m)],leafChart_legend:["checkbox",u.addLeafletMinicharts.legend,!0],leafChart_legendPosition:["select",u.addLeafletMinicharts.legendPosition,["topright","topleft","bottomright","bottomleft"],u.addLeafletMinicharts.legendPositionChoices],optionsEnd:["optionsEnd"]},{elRequired:!1}]},chart_ydatabar:function(){return[{chart_ydata:["select",u.addBarDataEl.chartYdatabar,h,p],chart_ylabel:["text",u.addBarDataEl.chartYlabel,"label"],marker_color:["color",u.addBarDataEl.color],marker_line_width:["numeric",u.addBarDataEl.lineWidth,0,0],marker_line_color:["color",u.addBarDataEl.lineColor]}]},chart_ydatascatter:function(){return[{chart_ydata:["select",u.addScatterDataEl.chartYdata,f,y],chart_ylabel:["text",u.addScatterDataEl.chartYlabel,"label"],marker_symbol:["select",u.addScatterDataEl.symbol,["circle","circle-open","circle-dot","circle-open-dot","square","square-open","square-dot","square-open-dot","diamond","diamond-open","diamond-dot","diamond-open-dot","cross","cross-open","cross-dot","cross-open-dot","x","x-open","x-dot","x-open-dot","triangle-up","triangle-up-open","triangle-up-dot","triangle-up-open-dot","triangle-down","triangle-down-open","triangle-down-dot","triangle-down-open-dot","triangle-left","triangle-left-open","triangle-left-dot","triangle-left-open-dot","triangle-right","triangle-right-open","triangle-right-dot","triangle-right-open-dot","triangle-ne","triangle-ne-open","triangle-ne-dot","triangle-ne-open-dot","triangle-se","triangle-se-open","triangle-se-dot","triangle-se-open-dot","triangle-sw","triangle-sw-open","triangle-sw-dot","triangle-sw-open-dot","triangle-nw","triangle-nw-open","triangle-nw-dot","triangle-nw-open-dot","pentagon","pentagon-open","pentagon-dot","pentagon-open-dot","hexagon","hexagon-open","hexagon-dot","hexagon-open-dot","hexagon2","hexagon2-open","hexagon2-dot","hexagon2-open-dot","octagon","octagon-open","octagon-dot","octagon-open-dot","star","star-open","star-dot","star-open-dot","hexagram","hexagram-open","hexagram-dot","hexagram-open-dot","star-triangle-up","star-triangle-up-open","star-triangle-up-dot","star-triangle-up-open-dot","star-triangle-down","star-triangle-down-open","star-triangle-down-dot","star-triangle-down-open-dot","star-square","star-square-open","star-square-dot","star-square-open-dot","star-diamond","star-diamond-open","star-diamond-dot","star-diamond-open-dot","diamond-tall","diamond-tall-open","diamond-tall-dot","diamond-tall-open-dot","diamond-wide","diamond-wide-open","diamond-wide-dot","diamond-wide-open-dot","hourglass","hourglass-open","bowtie","bowtie-open","circle-cross","circle-cross-open","circle-x","circle-x-open","square-cross","square-cross-open","square-x","square-x-open","diamond-cross","diamond-cross-open","diamond-x","diamond-x-open","cross-thin","cross-thin-open","x-thin","x-thin-open","asterisk","asterisk-open","hash","hash-open","hash-dot","hash-open-dot","y-up","y-up-open","y-down","y-down-open","y-left","y-left-open","y-right","y-right-open","line-ew","line-ew-open","line-ns","line-ns-open","line-ne","line-ne-open","line-nw","line-nw-open"],u.addScatterDataEl.symbolChoices],marker_color:["color",u.addScatterDataEl.color],marker_size:["numeric",u.addScatterDataEl.size,6,0],marker_line_width:["numeric",u.addScatterDataEl.lineWidth,0,0],marker_line_color:["color",u.addScatterDataEl.lineColor],trace_legend:["checkbox",u.addScatterDataEl.legend],trace_frame:["select",u.addScatterDataEl.frame,["_"].concat(h),["_"].concat(p)]}]},chart_ydataline:function(){return[{chart_ydata:["select",u.addLineDataEl.chartYdata,f,y],chart_ylabel:["text",u.addLineDataEl.chartYlabel,"label"],line_color:["color",u.addLineDataEl.color],line_width:["numeric",u.addLineDataEl.width,2,0],line_shape:["select",u.addLineDataEl.shape,["linear","spline","hv","vh","hvh","vhv"],u.addLineDataEl.shapeChoices],line_dash:["select",u.addLineDataEl.dash,["solid","dot","dash","longdash","dashdot","longdashdot"],u.addLineDataEl.dashChoices],line_fill:["select",u.addLineDataEl.fill,["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],u.addLineDataEl.fillChoices],trace_legend:["checkbox",u.addLineDataEl.legend],trace_frame:["select",u.addLineDataEl.frame,["_"].concat(h),["_"].concat(p)]}]},chart_ydatabubble:function(){return[{chart_ydata:["select",u.addBubbleDataEl.chartYdata,f,y],chart_ylabel:["text",u.addBubbleDataEl.chartYlabel,"label"],marker_symbol:["select",u.addBubbleDataEl.symbol,["circle","circle-open","circle-dot","circle-open-dot","square","square-open","square-dot","square-open-dot","diamond","diamond-open","diamond-dot","diamond-open-dot","cross","cross-open","cross-dot","cross-open-dot","x","x-open","x-dot","x-open-dot","triangle-up","triangle-up-open","triangle-up-dot","triangle-up-open-dot","triangle-down","triangle-down-open","triangle-down-dot","triangle-down-open-dot","triangle-left","triangle-left-open","triangle-left-dot","triangle-left-open-dot","triangle-right","triangle-right-open","triangle-right-dot","triangle-right-open-dot","triangle-ne","triangle-ne-open","triangle-ne-dot","triangle-ne-open-dot","triangle-se","triangle-se-open","triangle-se-dot","triangle-se-open-dot","triangle-sw","triangle-sw-open","triangle-sw-dot","triangle-sw-open-dot","triangle-nw","triangle-nw-open","triangle-nw-dot","triangle-nw-open-dot","pentagon","pentagon-open","pentagon-dot","pentagon-open-dot","hexagon","hexagon-open","hexagon-dot","hexagon-open-dot","hexagon2","hexagon2-open","hexagon2-dot","hexagon2-open-dot","octagon","octagon-open","octagon-dot","octagon-open-dot","star","star-open","star-dot","star-open-dot","hexagram","hexagram-open","hexagram-dot","hexagram-open-dot","star-triangle-up","star-triangle-up-open","star-triangle-up-dot","star-triangle-up-open-dot","star-triangle-down","star-triangle-down-open","star-triangle-down-dot","star-triangle-down-open-dot","star-square","star-square-open","star-square-dot","star-square-open-dot","star-diamond","star-diamond-open","star-diamond-dot","star-diamond-open-dot","diamond-tall","diamond-tall-open","diamond-tall-dot","diamond-tall-open-dot","diamond-wide","diamond-wide-open","diamond-wide-dot","diamond-wide-open-dot","hourglass","hourglass-open","bowtie","bowtie-open","circle-cross","circle-cross-open","circle-x","circle-x-open","square-cross","square-cross-open","square-x","square-x-open","diamond-cross","diamond-cross-open","diamond-x","diamond-x-open","cross-thin","cross-thin-open","x-thin","x-thin-open","asterisk","asterisk-open","hash","hash-open","hash-dot","hash-open-dot","y-up","y-up-open","y-down","y-down-open","y-left","y-left-open","y-right","y-right-open","line-ew","line-ew-open","line-ns","line-ns-open","line-ne","line-ne-open","line-nw","line-nw-open"],u.addScatterDataEl.symbolChoices],marker_colorDep:["selectDep",[u.addBubbleDataEl.colorCheck,"color",u.addBubbleDataEl.colorCheckTrue],u.addBubbleDataEl.colorCheckFalse,f,y,".index"],marker_size:["select",u.addBubbleDataEl.size,f,y,".index"],marker_maxsize:["numeric",u.addBubbleDataEl.maxsize,0,0],marker_line_width:["numeric",u.addBubbleDataEl.lineWidth,0,0],marker_line_color:["color",u.addBubbleDataEl.lineColor],trace_legend:["checkbox",u.addBubbleDataEl.legend],trace_frame:["select",u.addBubbleDataEl.frame,["_"].concat(h),["_"].concat(p)]}]},hist_xdata:function(){return[{hist_xdata:["select",u.addHistDataEl.histXdata,f,y],hist_label:["text",u.addHistDataEl.label,"label"],hist_color:["color",u.addHistDataEl.color,"#000000"]}]},dy_ydata:function(){return[{chart_ydata:["select",u.addDyDataEl.chartYdata,f,y],chart_ylabel:["text",u.addDyDataEl.label,"label"],dyser_color:["color",u.addDyDataEl.color],dyopt_stepPlot:["checkbox",u.addDyDataEl.stepPlot],dyopt_stemPlot:["checkbox",u.addDyDataEl.stemPlot],dyopt_fillGraph:["checkbox",u.addDyDataEl.fillGraph],dyopt_drawPoints:["checkbox",u.addDyDataEl.drawPoints],dyopt_pointShape:["select",u.addDyDataEl.pointShape,["dot","triangle","square","diamond","pentagon","hexagon","circle","star","plus","ex"],u.addDyDataEl.pointShapeChoices],dyopt_pointSize:["numeric",u.addDyDataEl.pointSize,2,0]}]},timevis_series:function(){return[{timevis_series:["select",u.addTimevisDataEl.timevisSeries,h,p],timedata_start:["select",u.addTimevisDataEl.start,h,p],timedata_end:["select",u.addTimevisDataEl.end,["_"].concat(h),["_"].concat(p)],timedata_type:["select",u.addTimevisDataEl.type,["box","point","range","background"],u.addTimevisDataEl.typeChoices],timedata_title:["select",u.addTimevisDataEl.title,["_"].concat(h),["_"].concat(p)],timedata_group:["select",u.addTimevisDataEl.group,["_"].concat(h),["_"].concat(p)],timedata_subgroup:["select",u.addTimevisDataEl.subgroup,["_"].concat(h),["_"].concat(p)],timedata_grouptitle:["select",u.addTimevisDataEl.grouptitle,["_"].concat(h),["_"].concat(p)],timedata_subgrouporder:["select",u.addTimevisDataEl.subgrouporder,["_"].concat(h),["_"].concat(p)]}]},timevis_custom:function(){return[{timevis_custom:["text",u.addCustomTimeEl.timevisCustom,"",u.addCustomTimeEl.placeholder]},{elRequired:!1}]}};function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!$("#".concat(e,"_wrapper .btn-add-array-el")).is(":disabled")){var a=t;null==a&&(a=[void 0]),a.forEach(function(t){if(void 0===I[e])throw new ReferenceError("Array ID: ".concat(e," not defined."));var a=s(I[e](t),3),o=a[0],i=a[1],r=a[2];x.add(e,o,i,r,n)})}}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;$("#".concat(e,"_wrapper")).is(":visible")?L(e,t,!0):n<=6&&setTimeout(A,200,e,t,n+1)}$(document).ready(function(){Shiny.addCustomMessageHandler("gms-setScalarOutputs",function(e){var t=e;$.each(t,function(e,n){$.isArray(n)||(t[e]=[n])}),b=t.indices,v=t.aliases}),Shiny.addCustomMessageHandler("gms-setIndices",function(e){var t=e;$.each(t,function(e,n){$.isArray(n)||(t[e]=[n])}),h=t.indices,p=t.aliases,f=t.scalarIndices,y=t.scalarAliases,g=h.filter(function(e){return-1===f.indexOf(e)}),m=p.filter(function(e){return-1===y.indexOf(e)})}),Shiny.addCustomMessageHandler("gms-setGAMSSymbols",function(e){var t=e.gamsSymbols;u=e.lang,$.each(t,function(e,n){$.isArray(n)||(t[e]=[n])}),k=t.inSym,w=t.inAlias,_=t.outSym,D=t.outAlias}),Shiny.addCustomMessageHandler("gms-addArrayEl",function(e){setTimeout(A,200,e.arrayID,e.defaults)});var e=new Shiny.InputBinding;$.extend(e,{find:function(e){return $(e).find(".miro-color-picker")},getValue:function(e){return $(e).val()},setValue:function(e,t){$(e).setColor(t)},subscribe:function(e,t){$(e).on("change.colorPickerBinding",function(){t(!0)})},getRatePolicy:function(){return{policy:"debounce",delay:250}},initialize:function(e){$(e).colorpicker({align:"left"})},unsubscribe:function(e){$(e).colorpicker("destroy"),$(e).off(".colorPickerBinding")}}),Shiny.inputBindings.register(e)})}]);
//# sourceMappingURL=miro_admin.js.map