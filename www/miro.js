var Miro=function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"showSpinnerIcon",function(){return a}),n.d(t,"changeTab",function(){return o}),n.d(t,"showNewNameBaseDialog",function(){return s}),n.d(t,"confirmModalShow",function(){return c}),n.d(t,"removeAttachment",function(){return r}),n.d(t,"showHypercubeLog",function(){return l}),n.d(t,"importHypercubeJob",function(){return d}),n.d(t,"discardHypercubeJob",function(){return u}),n.d(t,"renderMathJax",function(){return h}),n.d(t,"validateSname",function(){return b}),n.d(t,"validateHcubeHash",function(){return f}),n.d(t,"hcHashImport",function(){return p});var i={};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;if(!i[$(e).prop("id")]){i[$(e).prop("id")]=!0;var n=$(e).html();$(e).html('<i class="fa fa-refresh fa-spin"></i>'),setTimeout(function(){$(e).html(n),i[$(e).prop("id")]=!1},t)}}function o(e,t,n){var i=e.closest(".tabbable");i.find("li:nth-of-type(".concat(t,")")).removeClass(),i.find("li:nth-of-type(".concat(n,")")).addClass("active"),i.find(".tab-content div:nth-child(".concat(t,")")).removeClass("active"),i.find(".tab-content div:nth-child(".concat(n,")")).addClass("active")}function s(){$("#base-overwrite-container").hide(),$("#loadBase_snameExistsMsg").hide(),$("#loadBase_newName").show(),$("#btCheckSnameBase").show()}function c(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o='<button type="button" class="btn btn-default" data-dismiss="modal">'.concat(n,"</button>"),s="";null!==a&&(s='<button type="button" class="btn btn-default bt-highlight-1 bt-gms-confirm" '+'id="" onclick="'.concat(a,'" data-dismiss="modal">').concat(i,"</button>"));var c=$("#confirmModal");c.find(".modal-title").html(e),c.find(".modal-body").html(t),c.find(".modal-footer").html(o+s),c.modal("show")}function r(e){$("#btRemoveAttachment_".concat(e)).parent().parent().remove(),Shiny.setInputValue("btRemoveAttachment_".concat(e),1,{priority:"event"})}function l(e){Shiny.setInputValue("showHypercubeLog",e,{priority:"event"})}function d(e){Shiny.setInputValue("importHypercubeJob",e,{priority:"event"})}function u(e){Shiny.setInputValue("discardHypercubeJob",e,{priority:"event"})}function h(){MathJax.Hub.Queue(["Typeset",MathJax.Hub,"wrapper-documentation"])}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"btCheckSnameLocalConfirm";return!0!==/^[a-f0-9]{64}$/i.test($(e).val())&&!0!==/^\s*$/.test($(e).val())?($(e).removeClass("invalidInput"),"internal"===t||(Shiny.setInputValue(t,1,{priority:"event"}),!0)):($(e).addClass("invalidInput"),!1)}function f(){var e=$("#hcHashLookup").val();if(!0===/^[a-f0-9]{64}$/i.test(e)){if(!b("#hcube_newScenName","internal"))return;return $("#hcHashLookup").removeClass("invalidInput"),void Shiny.setInputValue("hcHashLookup",e,{priority:"event"})}$("#hcHashLookup").addClass("invalidInput")}function p(e){b("#hcube_newScenName","internal")&&Shiny.setInputValue("loadHcubeHashSid",e,{priority:"event"})}function m(e){return!!$(e).parents(".form-group").length}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;try{setTimeout(function(){HTMLWidgets.getInstance($(".rhandsontable:visible").get(0)).hot.render()},e)}catch(e){}}function y(e){switch(e){case"inputData":$("#btImport").show(),$("#btSolve").show(),$("#btInterrupt").hide(),$("#btSplitView").hide(),$("#btCompareScen").hide();break;case"outputData":$("#btImport").hide(),$("#btSolve").hide(),$("#btInterrupt").hide(),$("#btSplitView").hide(),$("#btCompareScen").hide();break;case"gamsinter":$("#btImport").hide(),$("#btSolve").hide(),$("#btInterrupt").show(),$("#btSplitView").hide(),$("#btCompareScen").hide();break;case"scenarios":$("#btImport").hide(),$("#btSolve").hide(),$("#btInterrupt").hide(),$("#btSplitView").show(),$("#btCompareScen").show();break;default:$("#btImport").hide(),$("#btSolve").hide(),$("#btInterrupt").hide(),$("#btSplitView").hide(),$("#btCompareScen").hide()}}$(document).ready(function(){$("body").addClass("fixed"),$("#btImport").show(),$("#btSolve").show(),$("#btInterrupt").hide(),$("#btSplitView").hide(),$("#btCompareScen").hide(),$("#btLoadScen").hide(),$('a[data-value="inputData"]').click(function(){y("inputData"),v()}),$('a[data-value="outputData"]').click(function(){y("outputData")}),$('a[data-value="gamsinter"]').click(function(){y("gamsinter")}),$('a[data-value="scenarios"]').click(function(){y("scenarios")}),$("#scenTabset").on("click",'a[data-toggle="tab"]',function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;try{setTimeout(function(){HTMLWidgets.getInstance($(".dygraphs:visible").get(0)).dygraph.resize()},e)}catch(e){}}()}),$('a[data-value="advanced"],a[data-value="importData"],a[data-value="loadResults"],a[data-value="hcubeAnalyze"]').click(function(){y("default")}),$("#inputTabset li").click(function(){v()}),$("#scenTabset").append('<li id="scenTabsetAdd"><a href="#" id="btLoadScen" data-value="scen_add" onclick="Shiny.setInputValue(\'btLoadScen\', 1, {priority: \'event\'});"><i class="far fa-plus-square" style="font-size:13pt;"></i></a></li>'),Shiny.addCustomMessageHandler("gms-switchTab",function(e){switch(e){case"input":y("inputData");break;case"output":y("outputData");break;case"gamsinter":y("gamsinter");break;case"hcubeAna":y("default");break;case"scenComp":y("scenarios")}}),$("body").on("click",".bt-highlight-1, .bt-highlight-2, .bt-highlight-3",function(){var e=$(this);e.prop("disabled",!0),setTimeout(function(){e.prop("disabled",!1)},1500)}),$(document).click(function(e){var t=e.target;$(t).is(".pvtAttr")||$(t).parents(".pvtAttr").length||$(t).is(".pvtFilterBox")||$(t).parents(".pvtFilterBox").length||$(".pvtFilterBox").hide()}),$(".sidebar-toggle").click(function(){v(400)}),window.addEventListener("beforeunload",function(e){0===$("#shiny-disconnected-overlay").length&&(e.preventDefault(),e.returnValue="Are you sure you want to leave? Unsaved changes will be lost!")}),Shiny.addCustomMessageHandler("gms-showEl",function(e){m(e)?$(e).closest(".shiny-input-container").show():$(e).show()}),Shiny.addCustomMessageHandler("gms-showElReplaceTxt",function(e){$(e.id).text(e.txt).show()}),Shiny.addCustomMessageHandler("gms-hideEl",function(e){m(e)?$(e).closest(".shiny-input-container").hide():$(e).hide()}),Shiny.addCustomMessageHandler("gms-showHideEl",function(e){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null!==n&&$(e).text(n),$(e).show().delay(t).fadeOut()}(e.id,e.delay,e.msg)}),Shiny.addCustomMessageHandler("gms-enableEl",function(e){$(e).prop("disabled",!1)}),Shiny.addCustomMessageHandler("gms-disableEl",function(e){$(e).prop("disabled",!0)}),Shiny.addCustomMessageHandler("gms-toggleEl",function(e){$(e).is(":visible")?($(e).toggle(),$(e).trigger("shown")):($(e).fadeToggle(600),$(e).trigger("hidden"))}),Shiny.addCustomMessageHandler("gms-addClassEl",function(e){$(e.id).addClass(e.newclass)}),Shiny.addCustomMessageHandler("gms-removeClassEl",function(e){$(e.id).removeClass(e.oldclass)}),Shiny.addCustomMessageHandler("gms-scrollDown",function(e){setTimeout(function(){$(e).animate({scrollTop:$(e)[0].scrollHeight-$(e)[0].clientHeight},300)},500)}),Shiny.addCustomMessageHandler("gms-hideModal",function(e){setTimeout(function(){$("#shiny-modal-wrapper").find(".modal").modal("hide")},1e3*e)}),Shiny.addCustomMessageHandler("gms-updateAttachList",function(e){for(var t=$.makeArray(e.id).id,n=$.makeArray(e.name).name,i=0;i<t.length;i+=1){var a="";e.allowExec&&(a='<div class="col-sm-6"><div class="form-group shiny-input-container"><div class="checkbox"><label><input type="checkbox" onchange="Shiny.setInputValue(\'execPermAttachment_'.concat(t[i],"', $(this).is(':checked'));\" checked=\"checked\"><span>").concat(e.labelCb,"</span></label></div></div></div>")),$('<div class="row attachment-line"><div class="col-sm-6"><button class="btn btn-default bt-icon" id="btRemoveAttachment_'.concat(t[i],'" type="button" onclick="Miro.removeAttachment(').concat(t[i],')"><i class="fa fa-times-circle"></i></button> ').concat(n[i],"</div>").concat(a,"</div>")).insertBefore("#endAttachList")}}),Shiny.addCustomMessageHandler("gms-fitTitleInBox",function(e){setTimeout(function(){var t=$(e),n=t.parent()[0];t.css("font-size","18px");for(var i=18;n.scrollWidth>n.clientWidth&&i>=10;)i-=2,t.css("font-size","".concat(i,"px"))},500)})});var g=1;$(document).keyup(function(e){if(13!==e.keyCode||e.ctrlKey)if(27!==e.keyCode){if(e.ctrlKey&&e.altKey)if(73!==e.keyCode)if(83!==e.keyCode)if(13!==e.keyCode)if(82!==e.keyCode)if(67!==e.keyCode)if(67!==e.keyCode){if(70===e.keyCode)return $("body").toggleClass("sidebar-collapse"),void v(400);if(49!==e.keyCode)if(50!==e.keyCode)if(51!==e.keyCode)if(52!==e.keyCode)if(53!==e.keyCode){if(84!==e.keyCode)return 39===e.keyCode?(Shiny.onInputChange("tabsetShortcutNext",g),void(g+=1)):37===e.keyCode?(Shiny.onInputChange("tabsetShortcutPrev",g),void(g+=1)):40===e.keyCode?(Shiny.onInputChange("tabsetShortcutNest",g),void(g+=1)):38===e.keyCode?(Shiny.onInputChange("tabsetShortcutUnnest",g),void(g+=1)):void(32===e.keyCode&&$("#btCompareScen").is(":enabled")&&$("#btCompareScen").is(":visible")&&$("#btCompareScen").click());if($("#btGraphIn").is(":visible"))return void $("#btGraphIn:enabled").click();if($("#outputTableView").is(":visible"))return void $("#outputTableView").click();for(var t=2;t<=53;t+=1)$("#table_".concat(t,":visible")).click()}else{var n=$('a[href="#shiny-tab-hcubeAnalyze"]');n.length>0&&n.click()}else $('a[href="#shiny-tab-scenarios"]').click();else{var i=$('a[href="#shiny-tab-gamsinter"]');i.length>0?i.click():$('a[href="#shiny-tab-loadResults"]').click()}else{var a=$('a[href="#shiny-tab-outputData"]');a.length>0?a.click():$('a[href="#shiny-tab-importData"]').click()}else $('a[href="#shiny-tab-inputData"]').click()}else for(var o=2;o<=50;o+=1)$("#close_".concat(o,":visible")).click();else $(".btRemove:visible").click();else Shiny.setInputValue("btDelete",1,{priority:"event"});else $("#btSolve:visible:enabled").click();else Shiny.setInputValue("btSave",1,{priority:"event"});else $("#btImport").is(":visible")?$("#btImport").click():$("#btLoadScen").is(":visible")&&$("#btLoadScen").click()}else $(".modal").modal("hide");else{if($("#shiny-modal").find(".selectize-input.input-active").length>0||$("#shiny-modal").find('*[data-dismiss="modal"]').is(":focus"))return;$(".bt-gms-confirm:visible:enabled").click()}})}]);
//# sourceMappingURL=miro.js.map