image:
  name: hub.gams.com:443/gamsmiro-ci:latest

test:
  tags:
    - linux
  before_script:
    - source /etc/profile.d/ci.sh
  script :
    - yarn run eslint .
    - mchecklic
    - mtestall
  artifacts:
    when: always
    reports:
      junit: src/test-out.xml
  rules:
    - if: $CI_MERGE_REQUEST_TITLE =~ /^Draft:/
      when: manual
    - if: $CI_MERGE_REQUEST_ID
