{
  "$schema":"http://json-schema.org/draft-07/schema#",
  "title":"Input/Output configuration file schema",
  "description":"Configuration file is automatically generated by GAMS and describes the data contract.",
  "type":"object",
  "definitions": {
    "symbolHeader":{
      "description":"Symbol header",
      "type":"object",
      "properties":{
        "alias":{
          "description":"Explanatory text of the header",
          "type":"string",
          "minLength":1
        },
        "type":{
          "description":"GAMS input type",
          "type":"string",
          "enum":[
            "string",
            "numeric"
          ]
        }
      },
      "required": ["alias", "type"]
    },
    "symbol":{
      "description": "Symbol definition",
      "type": "object",
      "properties": {
        "alias":{
          "description": "Explanatory text of the symbol",
          "type":"string",
          "minLength":1
        },
        "symtype":{
          "description": "Symbol type",
          "type":"string",
          "enum":[
             "set",
             "parameter",
             "variable",
             "equation"
          ]
        },
        "headers":{
          "description":"Symbol headers",
          "type":"object",
          "minProperties":1,
          "additionalProperties":{
            "$ref": "#/definitions/symbolHeader"
          }
        }
      },
      "required": ["alias", "symtype", "headers"]
    },
    "scalarSymbol": {
      "description": "Scalar symbols that are grouped together in one table",
      "type": "object",
      "properties": {
        "alias":{
          "description": "Explanatory text of the symbol",
          "type":"string",
          "minLength":1
        },
        "symnames":{
          "description": "Symbol names in scalar tables",
          "type":"array",
          "minItems":1,
          "uniqueItems":true,
          "items":{
            "type":"string",
            "minLength":1
          }
        },
        "symtypes":{
          "description": "Symbol types in scalar tables",
          "type":"array",
          "minItems":1,
          "items":{
            "type":"string",
            "enum":[
               "set",
               "parameter",
               "variable",
               "equation"
            ],
            "minLength":1
          }
        },
        "symtext":{
          "description": "Symbol aliases (exp. text) in scalar tables",
          "type":"array",
          "minItems":1,
          "items":{
            "type":"string",
            "minLength":1
          }
        },
        "headers":{
          "description":"Symbol headers",
          "type":"object",
          "minProperties":1,
          "additionalProperties":{
            "$ref": "#/definitions/symbolHeader"
          }
        }
      },
      "required": ["alias", "symnames", "symtypes", "symtext", "headers"]
    }
  },
  "additionalProperties":false,
  "properties":{
    "modelTitle":{
      "description":"Title of the model",
      "type":"string",
      "default":"Unnamed model"
    },
    "inputSymbols":{
      "description":"Name of the symbols to receive data from MIRO. Identifiers are case insensitive (will always be lower case).",
      "type":"object",
      "additionalProperties":{
        "oneOf": [
          { "$ref": "#/definitions/scalarSymbol" },
          { "$ref": "#/definitions/symbol"}
        ]
      }
    },
    "outputSymbols":{
      "description":"Name of the symbols to export to MIRO once computation has finished. Identifiers are case insensitive (will always be lower case).",
      "type":"object",
      "additionalProperties":{
        "oneOf": [
          { "$ref": "#/definitions/scalarSymbol" },
          { "$ref": "#/definitions/symbol"}
        ]
      }
    }
  },
  "required":["modelTitle", "inputSymbols", "outputSymbols"]
}
