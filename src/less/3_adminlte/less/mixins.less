//AdminLTE mixins
//===============

//Changes the color and the hovering properties of the navbar
.navbar-variant(@color; @font-color: rgba(255, 255, 255, 0.8); @hover-color: #f6f6f6; @hover-bg: rgba(0, 0, 0, 0.1)) {
  background-color: @color;
  //Navbar links
  .nav > li > a {
    color: @font-color;
  }

  .nav > li > a:hover,
  .nav > li > a:active,
  .nav > li > a:focus,
  .nav .open > a,
  .nav .open > a:hover,
  .nav .open > a:focus,
  .nav > .active > a {
    background: @hover-bg;
    color: @hover-color;
  }

  //Add color to the sidebar toggle button
  .sidebar-toggle {
    color: @font-color;
    &:hover {
      color: @hover-color;
      background: @hover-bg;
    }
  }
}

//Logo color variation
.logo-variant(@bg-color; @color: #fff; @border-bottom-color: transparent; @border-bottom-width: 0) {
  background-color: @bg-color;
  color: @color;
  border-bottom: @border-bottom-width solid @border-bottom-color;

  &:hover {
    background-color: darken(@bg-color, 1%);
  }
}

//Box solid color variantion creator
.box-solid-variant(@color; @text-color: #fff) {
  border: 1px solid @color;
  > .box-header {
    .responsiveDark({
      color: if(abs(luma(@color) - luma(@text-color)) < 15, contrast(@color), @text-color);
    },
    {
      color: if(abs(luma(@color) - luma(@text-color-dark)) < 15, contrast(@color), @text-color-dark);
    });
    background: @color;
    background-color: @color;
    a,
    .btn {
      .responsiveDark({
        color: if(abs(luma(@color) - luma(@text-color)) < 15, contrast(@color), @text-color);
      },
      {
        color: if(abs(luma(@color) - luma(@text-color-dark)) < 15, contrast(@color), @text-color-dark);
      });
    }
  }
}
//Box solid color variantion creator
.box-solid-variant(@color; @text-color-dark: #fff) {
  border: 1px solid @color;
  > .box-header {
    .responsiveDark({
      color: if(abs(luma(@color) - luma(@text-color)) < 15, contrast(@color), @text-color);
    },
    {
      color: if(abs(luma(@color) - luma(@text-color-dark)) < 15, contrast(@color), @text-color-dark);
    });
    background: @color;
    background-color: @color;
    a,
    .btn {
      .responsiveDark({
        color:if(abs(luma(@color) - luma(@text-color)) < 15, contrast(@color), @text-color);
      },
      {
        color: if(abs(luma(@color) - luma(@text-color-dark)) < 15, contrast(@color), @text-color-dark);
      });
    }
  }
}

//Direct Chat Variant
.direct-chat-variant(@bg-color; @color: #fff) {
  .right > .direct-chat-text {
    background: @bg-color;
    border-color: @bg-color;
    color: @color;
    &:after,
    &:before {
      border-left-color: @bg-color;
    }
  }
}

//border radius creator
.border-radius(@radius) {
  border-radius: @radius;
}

//Different radius each side
.border-radius(@top-left;
@top-right
;
@bottom-left
;
@bottom-right
)
{
  border-top-left-radius: @top-left
;
  border-top-right-radius: @top-right
;
  border-bottom-right-radius: @bottom-right
;
  border-bottom-left-radius: @bottom-left
;
}

//Added 2.1.0
//Skins Mixins

//Dark Sidebar Mixin
.skin-dark-sidebar(@link-hover-border-color) {
  // Sidebar background color (Both .wrapper and .left-side are responsible for sidebar bg color)
  .wrapper,
  .main-sidebar,
  .left-side {
    .responsiveDark({
       background-color: @sidebar-dark-bg;
    },
    {
       background-color: @sidebar-dark-bg-dark;
    });
  }
  //User Panel (resides in the sidebar)
  .user-panel {
    > .info, > .info > a {
      color: #fff;
    }
  }
  //Sidebar Menu. First level links
  .sidebar-menu > li {
    //Section Headning
    &.header {
      .responsiveDark({
         color: @lighten-196d441a;
         background: @darken-c806e739;
      },
      {
         color: @lighten-49e49d58;
         background: @darken-7911e270;
      });
    }
    //links
    > a {
      border-left: 3px solid transparent;
    }
    //Hover and active states
    &:hover > a, &.active > a {
      .responsiveDark({
         color: @sidebar-dark-hover-color;
         background: @sidebar-dark-hover-bg;
         border-left-color: @if-f5e54611;
      },
      {
         color: @sidebar-dark-hover-color-dark;
         background: @sidebar-dark-hover-bg-dark;
         border-left-color: @if-24167817;
      });
    }
    //First Level Submenu
    > .treeview-menu {
      margin: 0 1px;
      .responsiveDark({
         background: @sidebar-dark-submenu-bg;
      },
      {
         background: @sidebar-dark-submenu-bg-dark;
      });
    }
  }
  //All links within the sidebar menu
  .sidebar a {
    .responsiveDark({
       color: @sidebar-contrast-light; //@sidebar-dark-color;
    },
    {
      color: @sidebar-contrast-dark; //@sidebar-dark-color-dark;
    });
    &:hover {
      text-decoration: none;
    }
  }
  //All submenus
  .treeview-menu {
    > li {
      > a {
        .responsiveDark({
           color: @sidebar-dark-submenu-color;
        },
        {
           color: @sidebar-dark-submenu-color-dark;
        });
      }
      &.active > a, > a:hover {
        .responsiveDark({
           color: @sidebar-dark-submenu-hover-color;
        },
        {
           color: @sidebar-dark-submenu-hover-color-dark;
        });
      }
    }
  }
  //The sidebar search form
  .sidebar-form {
    .border-radius(3px);
    .responsiveDark({
       border: 1px solid @lighten-f6fb5849;
    },
    {
       border: 1px solid @lighten-8b122426;
    });
    margin: 10px 10px;
    input[type="text"], .btn {
      box-shadow: none;
      .responsiveDark({
         background-color: @lighten-f6fb5849;
      },
      {
         background-color: @lighten-8b122426;
      });
      border: 1px solid transparent;
      height: 35px;
      //.transition(all @transition-speed @transition-fn);
    }
    input[type="text"] {
      color: #666;
      .border-radius(2px, 0, 2px, 0);
      &:focus,
      &:focus + .input-group-btn .btn {
        background-color: #fff;
        color: #666;
      }
      &:focus + .input-group-btn .btn {
        border-left-color: #fff;

      }
    }
    .btn {
      color: #999;
      .border-radius(0, 2px, 0, 2px);
    }
  }
}

//Light Sidebar Mixin
.skin-light-sidebar(@icon-active-color) {
  // Sidebar background color (Both .wrapper and .left-side are responsible for sidebar bg color)
  .wrapper,
  .main-sidebar,
  .left-side {
    background-color: @sidebar-light-bg;
  }
  .content-wrapper,
  .main-footer {
    border-left: 1px solid @gray-lte;
  }
  //User Panel (resides in the sidebar)
  .user-panel {
    > .info, > .info > a {
      color: @sidebar-light-color;
    }
  }
  //Sidebar Menu. First level links
  .sidebar-menu > li {
    .transition(border-left-color .3s ease);
    //border-left: 3px solid transparent;
    //Section Headning
    &.header {
      color: lighten(@sidebar-light-color, 25%);
      background: @sidebar-light-bg;
    }
    //links
    > a {
      border-left: 3px solid transparent;
      font-weight: 600;
    }
    //Hover and active states
    &:hover > a,
    &.active > a {
      color: @sidebar-light-hover-color;
      background: @sidebar-light-hover-bg;
    }
    &:hover > a {

    }
    &.active {
      border-left-color: @icon-active-color;
      > a {
        font-weight: 600;
      }
    }
    //First Level Submenu
    > .treeview-menu {
      background: @sidebar-light-submenu-bg;
    }
  }
  //All links within the sidebar menu
  .sidebar a {
    color: @sidebar-light-color;
    &:hover {
      text-decoration: none;
    }
  }
  //All submenus
  .treeview-menu {
    > li {
      > a {
        color: @sidebar-light-submenu-color;
      }
      &.active > a,
      > a:hover {
        color: @sidebar-light-submenu-hover-color;
      }
      &.active > a {
        font-weight: 600;
      }
    }
  }
  //The sidebar search form
  .sidebar-form {
    .border-radius(3px);
    border: 1px solid @gray-lte;  //darken(@sidebar-light-bg, 5%);
    margin: 10px 10px;
    input[type="text"],
    .btn {
      box-shadow: none;
      background-color: #fff; //darken(@sidebar-light-bg, 3%);
      border: 1px solid transparent;
      height: 35px;
      //.transition(all @transition-speed @transition-fn);
    }
    input[type="text"] {
      color: #666;
      .border-radius(2px, 0, 2px, 0);
      &:focus,
      &:focus + .input-group-btn .btn {
        background-color: #fff;
        color: #666;
      }
      &:focus + .input-group-btn .btn {
        border-left-color: #fff;
      }
    }
    .btn {
      color: #999;
      .border-radius(0, 2px, 0, 2px);
    }
  }
  @media (min-width: @screen-sm-min) {
    &.sidebar-mini.sidebar-collapse {
      .sidebar-menu > li > .treeview-menu {
        border-left: 1px solid @gray-lte;
      }
    }
  }
}
