<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
<head>
    <title>MIRO - Configuration</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.ico">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <!-- FontAwesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.1.1/js/all.js" integrity="sha384-BtvRZcyfv4r0x/phJt9Y9HhnN5ur1Z+kZbKVgzVBAlQZX4jvAuImlIz+bG7TS00a" crossorigin="anonymous"></script>
    <!-- Global CSS -->
    <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="assets/plugins/prism/prism.css">
    <link rel="stylesheet" href="assets/plugins/lightbox/dist/ekko-lightbox.css">
    <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css">
    <!-- Spectrum ColorPicker plugin -->
    <link rel="stylesheet" href="assets/plugins/spectrum/spectrum.css">
    <!-- bootstrap datetimepicker plugin -->
    <link rel="stylesheet" href="assets/plugins/bootstrap-datetimepicker/bootstrap-datetimepicker.min.css">
    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/styles.css">
    <!-- alpaca -->
    <link type="text/css" href="assets/css/alpaca.min.css" rel="stylesheet"/>

</head>

<body class="body-orange">
    <!--#include virtual="/wbody.html" -->
    <div class="page-wrapper">

        <!--TYPO3SEARCH_begin-->

        <!-- ******Header****** -->
        <header id="header" class="sub-header">
            <div class="container">
                <div class="branding">
                    <h1 class="logo">
                        <a href="index.html">
                          <img class="img-fluid" style="height:50px;" src="assets/images/logo.svg" onerror="this.onerror=null; this.src='assets/images/logo.png'" alt="GAMS MIRO"/>
                        </a>
                    </h1>
                </div><!--//branding-->
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                    <li class="breadcrumb-item active">Charts</li>
                </ol>
            </div><!--//container-->
        </header><!--//header-->
        <div class="doc-wrapper">
            <div class="container">
                <div id="doc-header" class="doc-header text-center">
                    <h1 class="doc-title"><span aria-hidden="true" class="icon fas fa-chart-pie"></span> Charts</h1>
                </div><!--//doc-header-->
                <div class="doc-body row">
                    <div class="doc-content col-md-9 col-12 order-1">
                        <div class="content-inner">
                            <section id="pie-chart" class="doc-section">
                                <h2 class="section-title">Pie chart</h2>
                                <div class="section-block">
                                  <h3 class="block-title">Configuration</h3>
                                    <p>Any GAMS symbol with a value column can be displayed as a pie chart.</p>
                                    <p>Example: Model <i>Pickstock</i>, parameter <i>weight</i></p>
                                    <pre><code class="language-gams">Set         symbol           'stock symbol';
Variable    w(symbol)        'what part of the portfolio'; 
                                    
$onExternalOutput    
Parameter   weight(symbol)   'weight of stock';
$offExternalOutput

stock_weight(s) = w.l(s);
</code></pre>
                                    <p>In a resulting <i>GDX</i> this parameter looks as follows:</p>
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:125pt;" src="assets/images/configuration_mode/pie_table.png" alt="Pie chart data"/>
                                    </div>
                                     <p>In the configuration mode we then can configure a pie chart. Note that index sets are provided with their explanatory text, not with the actual symbol names.</p>
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:350pt;" src="assets/images/configuration_mode/graphs_pie_config.png" alt="Pie chart configuration"/>
                                    </div>
                                    <p><b>Note:</b> <br>Instead of the parameter <i>weight</i>, to which you assign the values of the variable <i>w</i>, you could have used a pie chart directly for the levels of variable <i>w</i>. 
                                    However, this variable also contains all the zero values that would then become visible in the pie chart, see below. 
                                    But if you assign the levels of the variable <i>w</i> (<code class="language-gams">w.l(symbol)</code>) to the parameter <i>weight</i>, zeros will not be used at all. </p>
                                    <div class="section-block" id="pie-variable">
                                        <img class="img-fluid" style= "max-height:175pt;" src="assets/images/configuration_mode/pie_variable.png" alt="Pie chart with variable"/>
                                    </div>
                                </div><!--//section-block-->
                                <div class="section-block">
                                  <h3 class="block-title">JSON example</h3>
                                    <pre><code class="language-json">
{
  "dataRendering": {
    "stock_weight": {
      "outType": "graph",
      "graph": {
        "title": "weight",
        "tool": "plotly",
        "labels": "symbol",
        "values": "value",
        "type": "pie"
      },
      "height": 700
    }
  }
}
                                    </code></pre>
                                </div><!--//section-block-->
                            </section>
                            <section id="donut-chart" class="doc-section">
                                <h2 class="section-title">Donut chart</h2>
                                <div class="section-block">
                                  <h3 class="block-title">Configuration</h3>
                                    <p>A donut chart is a pie chart with a hole. In the configuration mode the donut chart is therefore to be found under <i>pie chart</i>. 
                                    Only the size of the donut hole can be configured here additionally.</p>
                                    <p>Example: Model <i>Pickstock</i>, parameter <i>weight</i></p>
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:350pt;" src="assets/images/configuration_mode/graphs_donut_config.png" alt="Donut chart configuration"/>
                                    </div>
                                </div><!--//section-block-->
                                <div class="section-block">
                                  <h3 class="block-title">JSON example</h3>
                                    <pre><code class="language-json">
{
  "dataRendering": {
    "stock_weight": {
      "outType": "graph",
      "graph": {
        "title": "weight",
        "tool": "plotly",
        "labels": "symbol",
        "values": "value",
        "type": "pie",
        "hole": 0.6
      },
      "height": 700
    }
  }
}
                                    </code></pre>
                                </div><!--//section-block-->
                            </section>       
                            <section id="bar-chart" class="doc-section">
                                <h2 class="section-title">Bar chart</h2>
                                <div class="section-block">
                                  <h3 class="block-title">Configuration</h3>
                                    <p>If a symbol is to be visualized as a bar chart, an index must be specified for the x-axis as well as for the y-axis. 
                                    Several data series can be plotted simultaneously on the x-axis. </p>
                                    <p>Example: Model <i>Pickstock</i>, parameter <i>weight</i></p>
                                    <pre><code class="language-gams">Set         symbol           'stock symbol';
Variable    w(symbol)        'what part of the portfolio'; 
                                    
$onExternalOutput    
Parameter   weight(symbol)   'weight of stock';
$offExternalOutput

stock_weight(s) = w.l(s);
</code></pre>
                                    <p>In a resulting <i>GDX</i> this parameter looks as follows:</p>
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:125pt;" src="assets/images/configuration_mode/pie_table.png" alt="Bar chart data"/>
                                    </div>
                                    <p>In the configuration mode we then can configure a bar chart.</p>
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:350pt;" src="assets/images/configuration_mode/graphs_bar_config.png" alt="Bar chart configuration"/>
                                    </div>
                                    <p><b>Note:</b> <br>Instead of the parameter <i>weight</i>, to which you assign the values of the variable <i>w</i>, you could have used a bar chart directly for the levels of variable <i>w</i>. 
                                    However, this variable also contains all the zero values that would then become visible in the chart, see the <a href="#pie-variable" class="scrollto">pie chart example</a>.</p>
                                </div><!--//section-block-->
                                <div class="section-block">
                                  <h3 class="block-title">JSON example</h3>
                                    <pre><code class="language-json">
{
  "dataRendering": {
    "stock_weight": {
      "outType": "graph",
      "graph": {
        "title": "weight",
        "tool": "plotly",
        "type": "bar",
        "barmode": "group",
        "ydata": {
          "value": {
            "label": "weight",
            "mode": "lines",
            "marker": {
              "line": {
                "width": 0
              },
              "color": "#c50e0e"
            }
          }
        },
        "xdata": "symbol",
        "showlegend": false,
        "outType": "graph",
        "xaxis": {
          "title": "stock symbol",
          "showgrid": false,
          "zeroline": false,
          "showticklabels": true
        },
        "yaxis": {
          "title": "weight",
          "showgrid": true,
          "zeroline": true,
          "showticklabels": true
        }
      },
      "height": 700
    }
  }
}
                                    </code></pre>
                                </div><!--//section-block-->
                            </section>
                            <section id="scatter-chart" class="doc-section">
                                <h2 class="section-title">Scatter plot</h2>
                                <div class="section-block">
                                  <h3 class="block-title">Configuration</h3>
                                    <p></p>
                                    <p>Example: Model <i>Pickstock</i>, parameter <i>absolute error</i></p>
                                    <p>The parameter to plot represents the absolute errors in the training phase. <br>
                                    We define a parameter <code class="language-gams">abserror(td, 'absolute error train')</code> (last row), to which we assign the values of the parameter <code class="language-gams">error(d)</code>, but only those values where <code class="language-gams">ord(d) <= trainingdays</code>. 
                                    </p>
                                    <pre><code class="language-gams">Set         date           'date';
Parameter   error(date)    'Absolute error'; 

td(d)     = ord(d) <= trainingdays;
ntd(d)    = not td(d);

solve pickStock min obj using mip;

error(d)  = abs(index(d)-fund(d));                 
   
Set errHdr    'stock symbol header'    / 'absolute error train', 'absolute error test' /; 
  
$onExternalOutput    
Parameter abserror(date,errHdr)          'absolute error [MIRO:table]';  
$offExternalOutput

abserror(td, 'absolute error train')   = error(td);
abserror(ntd,'absolute error test')    = error(ntd);
</code></pre>
                                    <p>In a resulting <i>GDX</i> this parameter looks as follows:</p>
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:150pt;" src="assets/images/configuration_mode/scatter_data.png" alt="Scatter plot data"/>
                                    </div>
                                    <p>In the configuration mode we then can configure a bar chart.</p>
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:350pt;" src="assets/images/configuration_mode/graphs_scatter_config.png" alt="Scatter plot configuration"/>
                                    </div>
                                </div><!--//section-block-->
                                <div class="section-block">
                                  <h3 class="block-title">JSON example</h3>
                                    <pre><code class="language-json">
{
  "dataRendering": {
    "abserror": {
      "outType": "graph",
      "graph": {
        "title": "absolute error",
        "tool": "plotly",
        "type": "scatter",
        "ydata": {
          "absolute error train": {
            "label": "absolute error train",
            "mode": "markers",
            "fill": "none",
            "marker": {
              "symbol": "circle",
              "opacity": 1,
              "size": "15",
              "line": {
                "width": "2",
                "color": "#121212"
              },
              "color": "#d11515"
            },
            "showlegend": false
          }
        },
        "xdata": "date",
        "showlegend": false,
        "outType": "graph",
        "xaxis": {
          "title": "date",
          "showgrid": false,
          "zeroline": false,
          "showticklabels": true,
          "rangefrom": "2016-01-01",
          "rangeto": "2016-05-01"
        },
        "yaxis": {
          "title": "absolute error train",
          "showgrid": true,
          "zeroline": false,
          "showticklabels": true
        }
      },
      "height": 700
    }
  }
}
                                    </code></pre>
                                </div><!--//section-block-->
                            </section>      
                            <section id="line-chart" class="doc-section">
                                <h2 class="section-title">Line chart</h2>
                                <div class="section-block">
                                  <h3 class="block-title">Configuration</h3>
                                    <p>Line charts also include area charts.</p>
                                    <p>Example: Model <i>Pickstock</i>, parameter <i>absolute error</i></p>
                                    <p>For an example in GAMS, see the <a href="#scatter-chart" class="scrollto">scatter plot example</a>.</p>
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:350pt;" src="assets/images/configuration_mode/graphs_line_config.png" alt="Line chart configuration"/>
                                    </div>
                                </div><!--//section-block-->
                                <div class="section-block">
                                  <h3 class="block-title">JSON example</h3>
                                    <pre><code class="language-json">
{
  "dataRendering": {
    "abserror": {
      "outType": "graph",
      "graph": {
        "title": "absolute error",
        "tool": "plotly",
        "type": "scatter",
        "ydata": {
          "absolute error train": {
            "label": "absolute error train",
            "mode": "lines",
            "line": {
              "width": 2,
              "shape": "linear",
              "dash": "solid",
              "color": "#0f93c0"
            },
            "showlegend": false,
            "fill": "tozeroy"
          },
          "absolute error test": {
            "label": "absolute error test",
            "mode": "lines",
            "line": {
              "width": 2,
              "shape": "linear",
              "dash": "solid"
            },
            "showlegend": true,
            "fill": "tozeroy"
          }
        },
        "xdata": "date",
        "showlegend": false,
        "outType": "graph",
        "xaxis": {
          "title": "date",
          "showgrid": false,
          "zeroline": false,
          "showticklabels": true
        },
        "yaxis": {
          "title": "absolute error train",
          "showgrid": false,
          "zeroline": false,
          "showticklabels": false
        },
        "plot_bgcolor": "#f5f0f0"
      },
      "height": 700
    }
  }
}
                                    </code></pre>
                                </div><!--//section-block-->
                            </section>
                            <section id="bubble-chart" class="doc-section">
                                <h2 class="section-title">Bubble chart</h2>
                                <div class="section-block">
                                  <h3 class="block-title">Configuration</h3>
                                    <p>A bubble chart is a scatter plot where the size and the color of a single plot depends on a value.</p>
                                    <p>Example: Model <i>Pickstock</i>, parameter <i>absolute error</i></p>
                                    <p>For an example in GAMS, see the <a href="#scatter-chart" class="scrollto">scatter plot example</a>.</p>
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:350pt;" src="assets/images/configuration_mode/graphs_bubble_config.png" alt="Bubble chart configuration"/>
                                    </div>
                                </div><!--//section-block-->
                                <div class="section-block">
                                  <h3 class="block-title">JSON example</h3>
                                    <pre><code class="language-json">
{
  "dataRendering": {
    "abserror": {
      "outType": "graph",
      "graph": {
        "title": "absolute error",
        "tool": "plotly",
        "type": "bubble",
        "ydata": {
          "absolute error train": {
            "label": "absolute error train",
            "mode": "markers",
            "marker": {
              "symbol": "circle",
              "opacity": 1,
              "size": "absolute error train",
              "color": "absolute error train",
              "line": {
                "width": 0
              },
              "maxsize": 31
            },
            "showlegend": false
          }
        },
        "xdata": "date",
        "showlegend": false,
        "outType": "graph",
        "xaxis": {
          "title": "date",
          "showgrid": false,
          "zeroline": false,
          "showticklabels": true,
          "rangefrom": "2016-01-01",
          "rangeto": "2016-05-01"
        },
        "yaxis": {
          "title": "absolute error train",
          "showgrid": false,
          "zeroline": false,
          "showticklabels": true
        }
      },
      "height": 700
    }
  }
}
                                    </code></pre>
                                </div><!--//section-block-->
                            </section>       
                            <section id="histogram-chart" class="doc-section">
                                <h2 class="section-title">Histogram</h2>
                                <div class="section-block">
                                  <h3 class="block-title">Configuration</h3>
                                    <p></p>
                                    <p>Example: Model <i>Pickstock</i>, parameter <i>absolute error</i></p>
                                    <p>For an example in GAMS, see the <a href="#scatter-chart" class="scrollto">scatter plot example</a>.</p>
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:350pt;" src="assets/images/configuration_mode/graphs_histogram_config.png" alt="Histogram configuration"/>
                                    </div>
                                </div><!--//section-block-->
                                <div class="section-block">
                                  <h3 class="block-title">JSON example</h3>
                                    <pre><code class="language-json">
{
  "dataRendering": {
    "abserror": {
      "outType": "graph",
      "graph": {
        "title": "Absolute error - comparison",
        "tool": "plotly",
        "type": "hist",
        "xdata": {
          "absolute error train": {
            "color": "#14ca76",
            "alpha": 1,
            "labels": "absolute error train"
          },
          "absolute error test": {
            "labels": "absolute error test",
            "color": "rgba(255,0,0,0.6)",
            "alpha": 1
          }
        },
        "histnorm": "",
        "nbins": 10,
        "barmode": "overlay",
        "xaxis": {
          "title": "Absolute error"
        },
        "yaxis": {
          "title": "Frequency"
        }
      },
      "height": 700
    }
  }
}
                                    </code></pre>
                                </div><!--//section-block-->
                            </section>
                            <section id="map-chart" class="doc-section">
                                <h2 class="section-title">Map</h2>
                                <div class="section-block">
                                  <h3 class="block-title">Configuration</h3>
                                    <p>Example: Model <i>Transport</i>, parameter <i>shipment quantities in cases</i></p>
                                    <p>The parameter to plot represents the shipment quantities between canning plants and markets. <br>
                                    </p>
                                    <pre><code class="language-gams">Set   
    i           'canning plants'
    j           'markets'
    scheduleHdr 'schedule header' / 'lngP', 'latP', 'lngM', 'latM', 'cap', 'demand', 'quantities' /;
  
$onExternalOutput
Parameter  schedule(i,j,scheduleHdr) 'shipment quantities in cases [MIRO:table]';
$offExternalOutput

schedule(i,j, 'lngP')       = iLocData(i,'lng');
schedule(i,j, 'latP')       = iLocData(i,'lat');
schedule(i,j, 'lngM')       = jLocData(j,'lng');
schedule(i,j, 'latM')       = jLocData(j,'lat');
schedule(i,j, 'cap')        = a(i);
schedule(i,j, 'demand')     = b(j);
schedule(i,j, 'quantities') = x.l(i,j);
</code></pre>
                                    <p>In a resulting <i>GDX</i> this parameter looks as follows:</p>
                                    <div class="section-block" id="map-data">
                                        <img class="img-fluid" style= "max-height:140pt;" src="assets/images/configuration_mode/map_data.png" alt="Map data"/>
                                    </div>
                                    <p>In the configuration mode we then can configure a map.</p>
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:350pt;" src="assets/images/configuration_mode/graphs_map_config.png" alt="Map configuration"/>
                                    </div>
                                    <p>With regard to map-based graphics, a variety of possible visualizations are conceivable. In MIRO configuration mode, the following aspects can be realized on a map:</p>
                                    <ul>
                                      <li><b>Markers</b><br>
                                      Markers can be set. For this the position of the markers must be available in the data as longitude and latitude data (see <a href="#map-data" class="scrollto">table above</a>). 
                                      Marker labels can be set dynamically, i.e. based on data. In the following example, the marker label is set with <i>Market: [j]</i>. 
                                      If you now click on a marker on the resulting map, the label will not be <i>Market: [j]</i>. Instead, the <i>[j]</i> is replaced with the element of the GAMS index set belonging to the data (here: <i>Chicago</i>). 
                                      <div class="section-block">
                                        <img class="img-fluid" style= "max-height:350pt;" src="assets/images/configuration_mode/map_markers.png" alt="Map markers"/>
                                      </div>
                                      The second column of the symbol <i>schedule</i> contains the markets j. The columns lngM and latM were selected as longitude and latitude data. 
                                      For a given longitude-latitude combination, the corresponding element from the second column is now displayed as label.
                                      </li>
                                      <li><b>Flows</b><br>
                                      Between different points on the map flows can be displayed. The thickness of the arrows can depend on the flow data.
                                      The data overview from the <a href="#map-data" class="scrollto">table above</a> also helps here for the understanding: 
                                      In the example below the flows have been configured to point from <i>lngP</i>/<i>latP</i> to <i>lngM</i>/<i>latM</i>. 
                                      The thickness depends on the data column <i>quantities</i>.
                                      <div class="section-block">
                                        <img class="img-fluid" style= "max-height:350pt;" src="assets/images/configuration_mode/map_flows.png" alt="Map flows"/>
                                      </div>
                                      </li>
                                      <li><b>Charts</b><br>
                                      You can display small charts on your map. In the following example, a pie chart is displayed for each of the 16 German states.
                                      <p>Example: Model <i>Simple</i> (see <a href="./gallery.html">GAMS MIRO gallery</a>), parameter <i>energy mix report</i></p>
                                      <div class="section-block">
                                        <img class="img-fluid" style= "max-height:350pt;" src="assets/images/configuration_mode/map_charts.png" alt="Map charts"/>
                                      </div>
                                      The graph is based on the data below:
                                      <div class="section-block">
                                        <img class="img-fluid" style= "max-height:350pt;" src="assets/images/configuration_mode/map_charts2.png" alt="Map charts data"/>
                                      </div>
                                      The position of each pie chart results from a lngitude/latitude combination. 
                                      The data of the pie chart for each state were determined in configuration mode with <i>Renewable</i> and <i>Fossil</i>. <br>
                                      You also have the option of defining a time component in the charts. The data of the example covers a period of one year with a resolution of one hour. 
                                      For the configuration, the corresponding 1st column was defined as the time dimension (starting with <i>t001</i>. 
                                      Thus, for each time period, a separate pie chart can be displayed for each state (see play button at the bottom right of the map).<br><br>
                                      <b>Note</b> that all data of your entire graphic must come from the same GAMS symbol. If you want to have more sophisticated graphics, 
                                      it may be useful to combine data from different symbols into one symbol. Or you can use our <a href="./customize.html#custom-renderers">R API</a> and create your own graphics.
                                      </li>
                                    </ul>
                                    <p><b>Layers</b><br>For map visualizations it can be helpful to display different layers, e.g. with markers. 
                                    In configuration mode you can specify such layers. In the resulting graphic you can select the different layers and display only the corresponding markers.</p>
                                    <p>Example: Model <i>Transport</i>, parameter <i>shipment quantities in cases</i></p>
                                    <div class="section-block">
                                      <img class="img-fluid" style= "max-height:350pt;" src="assets/images/configuration_mode/map_layers.png" alt="Map charts data"/>
                                    </div>
                                </div><!--//section-block-->
                                <div class="section-block">
                                  <h3 class="block-title">JSON example</h3>
                                    <pre><code class="language-json">
{
  "dataRendering": {
    "schedule": {
      "outType": "graph",
      "graph": {
        "title": "shipment quantities in cases",
        "tool": "leaflet",
        "layersControl": {
          "options": {
            "collapsed": true
          },
          "position": "topright",
          "overlayGroups": ["Canning plants", "Markets"]
        },
        "markers": {
          "1": {
            "lng": "lngp",
            "lat": "latp",
            "labelOptions": {
              "textsize": "12px",
              "permanent": false
            },
            "label": "Canning plant [i]",
            "group": "Canning plants"
          },
          "2": {
            "lng": "lngm",
            "lat": "latm",
            "labelOptions": {
              "textsize": "12px",
              "permanent": false
            },
            "label": "Market [j]",
            "group": "Markets"
          }
        },
        "flows": {
          "1": {
            "lng0": "lngm",
            "lat0": "latm",
            "lng1": "lngp",
            "lat1": "latp",
            "flow": "lngp",
            "color": "#0000ff",
            "minThickness": 1,
            "maxThickness": "8"
          }
        },
        "minicharts": {}
      },
      "height": 700
    }
  }
}
                                    </code></pre>
                                </div><!--//section-block-->
                            </section>
                            <section id="timeseries-chart" class="doc-section">
                                <h2 class="section-title">Time series diagram</h2>
                                <div class="section-block">
                                  <h3 class="block-title">Configuration</h3>
                                    <p>As the name of the graphic type suggests, the graphics configured here are based on time series. 
                                    An important property of such time series is the format of the data. You should make sure that the elements of the index set, which should represent the time component of your graphic, have their data available in a date format or at least can be formatted into such a format. 
                                    A suitable syntax for a date would be <i>yyyy-mm-dd</i>, e.g. <i>2014-07-13</i>.</p>
                                    <p>Example: Model <i>Pickstock</i>, parameter <i>dow jones vs. index fund</i></p>
                                    <pre><code class="language-gams">Set date      'date'
    fHdr      'fund header'   / dj 'dow jones','index fund'  /;
                                    
$onExternalOutput    
Parameter   dowVSindex(date,fHdr)  'dow jones vs. index fund [MIRO:table]';
$offExternalOutput

dowVSindex(d,'dj')             = index(d);
dowVSindex(d,'index fund')     = fund(d);
</code></pre>
                                    <div class="row" style="margin-bottom:20pt;">
                                        <div class="col-md-6">
                                              <p>The index set <i>date</i> looks as follows:</p>
                                              <img class="img-fluid" style= "max-height:140pt;" src="assets/images/configuration_mode/timeseries_date.png" alt="Time series diagram dates"/>
                                        </div>
                                        <div class="col-md-6">
                                              <p>The parameter <i>dowVSindex</i>:</p>
                                              <img class="img-fluid" style= "max-height:140pt;" src="assets/images/configuration_mode/timeseries_data.png" alt="Time series diagram data"/>
                                        </div>
                                    </div>
                                     <p>In the configuration mode we then can configure a time series diagram:</p>
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:350pt;" src="assets/images/configuration_mode/graphs_timeseries_config.png" alt="Time series configuration"/>
                                    </div>
                                    <p>The picture in this example shows a red dotted vertical line showing the "last day of training phase". A scalar output value has been integrated into the graph to identify exactly this phase. 
                                    <br><b>Note:</b> To use such a scalar value in graph, MIRO must obviously know about this symbol. You therefore need to tag it with <code class="language-gams">$onExternalInput
                                        </code> / <code class="language-gams">$offExternalInput
                                        </code> or <code class="language-gams">$onExternalOutput
                                        </code> / <code class="language-gams">$offExternalOutput
                                        </code> in the GAMS model.</p>
                                    <div class="callout-block callout-success" style="margin-top:10px;">
                                       <div class="icon-holder">
                                           <i class="fas fa-thumbs-up"></i>
                                       </div><!--//icon-holder-->
                                       <div class="content">
                                           <b class="callout-title">Tip:</b>
                                            <p>You want to use a scalar value in a graph but not in the scalars table in MIRO? You can do this by <a href="./customize.html#hidden-scalars">hiding that symbol</a> in the general options.</p>
                                        </div><!--//content-->
                                    </div><!--//callout-block-->
                                    <p>The graphics tool in MIRO used for creating time series diagrams allows the inclusion of scalar values for the following elements:</p>
                                    <ul>
                                      <li><b>Event line</b>
                                        <div class="section-block">
                                          <img class="img-fluid" style= "max-height:250pt;" src="assets/images/configuration_mode/timeseries_event.png" alt="Vertical event"/>
                                      </div></li>
                                      <li><b>Limit line</b>
                                        <div class="section-block">
                                          <img class="img-fluid" style= "max-height:250pt;" src="assets/images/configuration_mode/timeseries_limit.png" alt="Horizontal line"/>
                                      </div></li>
                                      <li><b>Annotation</b>
                                        <div class="section-block">
                                          <img class="img-fluid" style= "max-height:250pt;" src="assets/images/configuration_mode/timeseries_annotation.png" alt="Annotation"/>
                                      </div></li>
                                      <li><b>Shading</b>
                                        <div class="section-block">
                                          <img class="img-fluid" style= "max-height:250pt;" src="assets/images/configuration_mode/timeseries_shading.png" alt="Shading"/>
                                      </div></li>
                                    </ul>
                                </div><!--//section-block-->
                                <div class="section-block">
                                  <h3 class="block-title">JSON example</h3>
                                    <pre><code class="language-json">
{
  "dataRendering": {
    "dowvsindex": {
      "outType": "graph",
      "graph": {
        "title": "dow jones vs. index fund",
        "tool": "dygraphs",
        "xdata": "date",
        "ydata": {
          "dj": {
            "label": "dow jones",
            "stemPlot": false,
            "stepPlot": false,
            "fillGraph": false,
            "drawPoints": false,
            "pointShape": "dot",
            "pointSize": 2
          },
          "index fund": {
            "label": "index fund",
            "stemPlot": false,
            "stepPlot": false,
            "fillGraph": false,
            "drawPoints": false,
            "pointShape": "dot",
            "pointSize": 2
          }
        },
        "dyOptions": {
          "includeZero": false,
          "logscale": false,
          "drawGrid": true,
          "stepPlot": false,
          "stemPlot": false,
          "fillGraph": false,
          "fillAlpha": 0.15,
          "drawPoints": false,
          "pointShape": "dot",
          "pointSize": 2
        },
        "dyHighlight": {
          "highlightSeriesBackgroundAlpha": 0.5,
          "hideOnMouseOut": true,
          "highlightCircleSize": 3
        },
        "xaxis": {
          "title": "date"
        },
        "yaxis": {
          "title": "dow jones"
        },
        "dyEvent": {
          "lastdaytraining": {
            "labelLoc": "top",
            "color": "rgb(255,0,0)",
            "strokePattern": "dashed",
            "label": "last day of training phase"
          }
        },
        "dyRangeSelector": {
          "height": 40,
          "strokeColor": "#808fab",
          "fillColor": "#a7b1c4",
          "retainDateWindow": false,
          "keepMouseZoom": true
        }
      },
      "height": 700
    }
  }
}
                                    </code></pre>
                                </div><!--//section-block-->
                            </section>
                            <section id="pivot-chart" class="doc-section">
                                <h2 class="section-title">Pivot table</h2>
                                <div class="section-block">
                                  <h3 class="block-title">Configuration</h3>
                                    <p>The live preview of the pivot table already allows you to move and change the elements directly in the graphic. 
                                    This can lead to confusion, because the actual configuration of the graphic has to be done on the left side as with all other graphics. 
                                    Only the options set there are saved.</p>
                                    <p>Example: Model <i>Transport</i>, parameter <i>shipment quantities in cases</i></p>
                                    <p>For an example in GAMS, see the <a href="#map-chart" class="scrollto">map example</a>.</p>
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:350pt;" src="assets/images/configuration_mode/graphs_pivot_config.png" alt="Pivottable configuration"/>
                                    </div>
                                </div><!--//section-block-->
                                <div class="section-block">
                                  <h3 class="block-title">JSON example</h3>
                                    <pre><code class="language-json">
{
  "dataRendering": {
    "schedule": {
      "outType": "pivot",
      "pivottable": {
        "aggregatorName": "Sum",
        "rendererName": "Heatmap",
        "locale": "en",
        "subtotals": false,
        "rows": "i",
        "cols": "j",
        "vals": "quantities"
      },
      "height": 700
    }
  }
}
                                    </code></pre>
                                </div><!--//section-block-->
                            </section>
                            <section id="gantt-chart" class="doc-section">
                                <h2 class="section-title">Gantt chart</h2>
                                <div class="section-block">
                                  <h3 class="block-title">Configuration</h3>
                                    <p>The GAMS symbol, whose data should be visualized as a gantt chart, must contain the following index sets: </p>
                                    <ul>
                                      <li>Start<br>
                                      Each gantt event must have a start. The GAMS elements of the underlying set must be in date format, e.g. <i>yyyy-mm-dd hh:mm:ss</i> (<i>hh:mm:ss</i> is not required).
                                      </li>
                                      <li>Content<br>
                                      Each gantt event must have a content which is then shown as a label. The GAMS elements of the underlying set can be of any format.</li>                                      
                                    </ul>
                                    <p>Optional index sets of the GAMS Symbol:</p>
                                    <ul>
                                      <li>End<br>
                                      If a gantt event is not a single point in time, but a range, you can provide an end date. The GAMS elements of the underlying set must be in date format.</li>
                                      <li>Title<br>
                                      A title is shown when you hover an item. The GAMS elements of the underlying set can be of any format.</li> 
                                      <li>Group<br>
                                      Items of the same groups are grouped together when specifying a group variable. The GAMS elements of the underlying set can be of any format.</li>                                     
                                    </ul>
                                    <div class="callout-block callout-warning">
                                        <div class="icon-holder">
                                            <i class="fas fa-info-circle"></i>
                                        </div><!--//icon-holder-->
                                        <div class="content">
                                            <b class="callout-title">Note:</b>
                                            <p>The index sets of the GAMS Symbol do not have to be named <i>start</i>, <i>end</i>, <i>content</i> etc. Only the mapping you define in the configuation mode is relevant.</p>
                                        </div><!--//content-->
                                    </div><!--//callout-block-->
                                    <p>As an example we use a GAMS Parameter <i>gantt</i> with index sets <i>id</i>, <i>start</i>, <i>end</i>, <i>content</i> and <i>group</i>:</p>
                                    <pre><code class="language-gams">Set
   id       'gannt_id'      / 1, 2, 3, 4, 5, 6 /
   start    'gannt_start'   / '2016-01-04 10:00:00', '2016-01-05 10:30:00', '2016-01-06 10:50:00', '2016-01-07 14:00:00', '2016-01-08 14:45:00', '2016-01-09 19:00:00' /
   end      'gannt_end'     / '2016-01-05 10:00:00', '2016-01-06 10:30:00', '2016-01-07 10:50:00', '2016-01-08 14:00:00', '2016-01-09 14:45:00', '2016-01-10 19:00:00' /
   content  'gannt_content' / test1, test2, test3, test4, test5, test6 /
   group    'gantt_group'   / a, b /
   ;

$onExternalOutput
Parameter gantt(id, start, end, content, group) 'Gantt chart parameter' ;
$offExternalOutput

gantt('1', '2016-01-04 10:00:00', '2016-01-05 10:00:00', 'test1', 'a') = 1;
gantt('2', '2016-01-05 10:30:00', '2016-01-06 10:30:00', 'test2', 'a') = 1;
gantt('3', '2016-01-06 10:50:00', '2016-01-07 10:50:00', 'test3', 'a') = 1;
gantt('4', '2016-01-07 14:00:00', '2016-01-08 14:00:00', 'test4', 'b') = 1;
gantt('5', '2016-01-08 14:45:00', '2016-01-09 14:45:00', 'test5', 'b') = 1;
gantt('6', '2016-01-09 19:00:00', '2016-01-10 19:00:00', 'test6', 'b') = 1;</code></pre>
                                    <p>In a resulting <i>GDX</i> this parameter looks as follows:</p>
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:125pt;" src="assets/images/configuration_mode/gantt_data.png" alt="Gantt chart data"/>
                                    </div>
                                    <p>In the configuration mode we then can configure a gantt chart. Note that index sets are provided with their explanatory text, not with the actual symbol names.</p>
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:350pt;" src="assets/images/configuration_mode/graphs_gantt_config.png" alt="Gantt chart configuration"/>
                                    </div>
                                    <p>More inforation on the tool we use for gantt charts can be found <a href="https://github.com/daattali/timevis" target="_blank">here</a>.</p>
                                    
                                </div><!--//section-block-->
                                <div class="section-block">
                                  <h3 class="block-title">JSON example</h3>
                                    <pre><code class="language-json">
{
  "dataRendering": {
    "gantt": {
      "outType": "graph",
      "graph": {
        "title": "asdasd",
        "tool": "timevis",
        "showZoom": true,
        "fit": true,
        "zoomFactor": 0.5,
        "series": {
          "1": {
            "content": "content",
            "start": "start",
            "type": "range",
            "end": "end",
            "title": "content",
            "group": "group",
            "groupTitle": "content"
          }
        },
        "editable": true,
        "multiselect": false,
        "showCurrentTime": false
      },
      "height": 700
    }
  }
}
                                    </code></pre>
                                </div><!--//section-block-->
                            </section>                           
                        </div><!--//content-inner-->
                    </div><!--//doc-content-->
                    <div class="doc-sidebar col-md-3 col-12 order-0 d-none d-md-flex">
                        <div id="doc-nav" class="doc-nav">
                            <nav id="doc-menu" class="nav doc-menu flex-column sticky">
                            <a class="nav-link scrollto" href="#pie-chart">Pie chart</a>
                             <a class="nav-link scrollto" href="#donut-chart">Donut chart</a>
                             <a class="nav-link scrollto" href="#bar-chart">Bar chart</a>
                             <a class="nav-link scrollto" href="#scatter-chart">Scatter plot</a>
                             <a class="nav-link scrollto" href="#line-chart">Line chart</a>
                             <a class="nav-link scrollto" href="#bubble-chart">Bubble chart</a>
                             <a class="nav-link scrollto" href="#histogram-chart">Histogram</a>
                             <a class="nav-link scrollto" href="#map-chart">Map</a>
                             <a class="nav-link scrollto" href="#timeseries-chart">Time series diagram</a>
                             <a class="nav-link scrollto" href="#pivot-chart">Pivot table</a>
                             <a class="nav-link scrollto" href="#gantt-chart">Gantt chart</a>
                            </nav><!--//doc-menu-->
                        </div>
                    </div><!--//doc-sidebar-->
                </div><!--//doc-body-->
            </div><!--//container-->
        </div><!--//doc-wrapper-->

    <!--TYPO3SEARCH_end-->
    </div><!--//page-wrapper--><!--#include virtual="/footer_miro.html" -->

    <!-- Main Javascript -->
    <script type="text/javascript" src="assets/plugins/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="assets/plugins/prism/min/prism-min.js"></script>
    <script type="text/javascript" src="assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>
    <script type="text/javascript" src="assets/plugins/lightbox/dist/ekko-lightbox.min.js"></script>
    <script type="text/javascript" src="assets/plugins/stickyfill/dist/stickyfill.min.js"></script>
    <!-- Spectrum ColorPicker plugin -->
    <script type="text/javascript" src="assets/plugins/spectrum/spectrum.js"></script>
    <!-- Moment plugin -->
    <script type="text/javascript" src="assets/plugins/moment/moment.min.js"></script>
    <!-- Bootstrap datetimepicker plugin -->
    <script type="text/javascript" src="assets/plugins/bootstrap-datetimepicker/bootstrap-datetimepicker.min.js"></script>

    <script type="text/javascript" src="assets/js/main.js"></script>
    <!-- dependencies (jquery, handlebars and bootstrap) -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>

    <!-- alpaca -->
    <script type="text/javascript" src="assets/js/alpaca.min.js"></script>
    <!-- AJV -->
    <script type="text/javascript" src="assets/js/ajv.min.js"></script>
    <!-- config generator -->
    <script type="text/javascript" src="assets/js/config-gen.js"></script>
    <!-- gifplayer plugin -->
    <script type="text/javascript" src="assets/js/gifplayer.js"></script>
    <script>
    	$('.gifplayer').gifplayer();
    </script>

</body>
</html>
