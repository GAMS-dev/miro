<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
<head>
    <title>GAMS MIRO - Model deployment</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.ico">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <!-- FontAwesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.1.1/js/all.js" integrity="sha384-BtvRZcyfv4r0x/phJt9Y9HhnN5ur1Z+kZbKVgzVBAlQZX4jvAuImlIz+bG7TS00a" crossorigin="anonymous"></script>
    <!-- Global CSS -->
    <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="assets/plugins/prism/prism.css">
    <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css">

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/styles.css">
    <!-- Cookie consent by https://cookieconsent.osano.com -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script>
    <script>
    window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#000"
        },
        "button": {
          "background": "#F39619"
        }
      }
    })});
    </script>
</head>

<body class="body-orange">
    <!--#include virtual="/wbody.html" -->
    <div class="page-wrapper">

        <!--TYPO3SEARCH_begin-->

        <!-- ******Header****** -->
        <header id="header" class="sub-header">
            <div class="container">
                <div class="branding">
                    <h1 class="logo">
                        <a href="index.html">
                          <img class="img-fluid" style="height:50px;" src="assets/images/logo.svg" onerror="this.onerror=null; this.src='assets/images/logo.png'" alt="GAMS MIRO"/>
                        </a>
                    </h1>
                </div><!--//branding-->
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                    <li class="breadcrumb-item active">Model deployment</li>
                </ol>
            </div><!--//container-->
        </header><!--//header-->
        <div class="doc-wrapper">
            <div class="container">
                <div id="doc-header" class="doc-header text-center">
                    <h1 class="doc-title"><i class="icon fa fa-paper-plane"></i> Model deployment</h1>
                </div><!--//doc-header-->
                <div class="doc-body row">
                    <div class="doc-content col-md-9 col-12 order-1">
                        <div class="content-inner">
                            <section id="introduction-section" class="doc-section">
                                <h2 class="section-title">Introduction</h2>
                                <div id="model-1"  class="section-block">
                                    <p>After testing the demo applications, let's now turn an existing GAMS model into a MIRO app. When developing GAMS MIRO, we focused on automating this process and making it possible with very few adjustments to your model. In order to get started, it's a good idea to have a look at the GAMS code of the <a href="#demo-applications" class="scrollto">demo applications</a>.</p>
                                    <p>The model <i>transport</i> is one of the demo applications that come with your GAMS MIRO installation.
                                        However, for illustration purposes we now take the original <i>trnsport.gms</i> model from the GAMS <a href="https://www.gams.com/latest/gamslib_ml/libhtml/" target="_blank">Model Library</a>.
                                        </p><p>If you want to join us in going step by step from the "raw" model to our first MIRO app, download the corresponding file from the Model Library and put it in a directory of your choice.</p>
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                            <section id="creating-section" class="doc-section">
                                <h2 class="section-title">Turn your GAMS model into a GAMS MIRO app</h2>
                                    <div  id="demo-applications"  class="section-block">
                                        <h3 class="block-title">Demo Applications</h3>
                                        <p>The MIRO demo applications can be found in the GAMS data utilities library. You can get them e.g. in GAMS Studio via the <i>Model Library Explorer</i> (shortcut <i>F6</i>). You can also find those demo applications <a href="./index.html#demo-download" target="_blank">here</a>.</p>
                                        <p>The following demos are available:</p>
                                        <ul>
                                        <li>transport<br>
                                        This problem looks for a least cost shipping schedule that meets requirements at markets and supplies at factories. More about this transportation problem, see <a href="https://www.gams.com/latest/gamslib_ml/libhtml/gamslib_trnsport.html" target="_blank">here</a>.
                                        <div class="callout-block callout-warning">
                                            <div class="icon-holder">
                                                <i class="fas fa-info-circle"></i>
                                            </div><!--//icon-holder-->
                                            <div class="content">
                                                <b class="callout-title">Note:</b>
                                                <p>The well-known model from the GAMS model library is called <i>trnsport</i>. To avoid two models of the same name, the GAMS MIRO Demo model is called <i>transport</i>.</p>
                                            </div><!--//content-->
                                        </div><!--//callout-block--></li>
                                        <li>transport_live<br>
                                        A "live" version of the transport model. Extends transport in the sense that locations of suppliers and markets can be adjusted right from within MIRO. Geographical information about the cities you entered is automatically fetched and the distance matrix calculated via <a href="https://www.gams.com/latest/docs/UG_EmbeddedCode.html" target="_blank">embedded Python code</a>.
                                        <br>This model needs an internet connection.</li>
                                        <li>pickstock<br>
                                        Optimization model to find a small subset of stocks of the Dow Jones index together with some weights, such that this portfolio has a similar behavior to the overall index.</li>
                                        <li>kport<br>
                                        This problem computes minimal cost solutions satisfying the demand of certain product portfolios. More about this optimization Problem, see <a href="https://www.gams.com/latest/gamslib_ml/libhtml/gamslib_kport.html" target="_blank">here</a>.</li>
                                        </ul>
                                    </div><!--//section-block-->
                                    <div  id="model-adjustments"  class="section-block">
                                        <h3 class="block-title">Model adjustments</h3>
                                        <p>Every GAMS model can be deployed with MIRO in just a few steps. First, those GAMS symbols that you want to be visible in the interface need to be declared. This can be done by enclosing the corresponding <i>symbol declarations</i> with the tags <code class="language-gams">$onExternalInput
                                        </code> / <code class="language-gams">$offExternalInput
                                        </code> for input data and <code class="language-gams">$onExternalOutput
                                        </code> / <code class="language-gams">$offExternalOutput
                                        </code> for output data. These tags can be used multiple times within a model. Symbols which are not tagged wonâ€™t be visible in the web interface.
                                        <p>The code below shows a small example:</p>
                                        <pre><code class="language-gams">$onExternalInput
Parameter
   symbol_1(dim1, dim2)  'Displayed in MIRO (model input data)'
   symbol_2(dim3)        'Displayed in MIRO (model input data)';
$offExternalInput

Parameter
   symbol_3(dim4)        'NOT displayed in MIRO';</code></pre>
                                        <p>Here, the parameters <span class="code">symbol_1</span> and <span class="code">symbol_2</span> are declared between the tags <code class="language-gams">$onExternalInput
                                          </code> and <code class="language-gams">$offExternalInput
                                          </code>. They will be visible in MIRO (e.g. as tables).
                                        <br><span class="code">symbol_3</span>, on the other hand, was declared outside the keywords. This parameter will not be visible in MIRO (however, of course it is still available as a GAMS symbol in your model).
                                        </p>
                                        <p>The following GAMS symbols can be used in GAMS MIRO:</p>
                                        <ul>
                                          <li><a href="https://www.gams.com/latest/docs/UG_SetDefinition.html" target="_blank">Sets</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_DataEntry.html#UG_DataEntry_Parameters" target="_blank">Parameters</a> / <a href="https://www.gams.com/latest/docs/UG_DataEntry.html#UG_DataEntry_Tables" target="_blank">Tables</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_DataEntry.html#UG_DataEntry_Scalars" target="_blank">Scalars</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_SetDefinition.html#UG_SetDefinition_SingletonSets" target="_blank">Singleton Sets</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_Variables.html" target="_blank">Variables</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_Equations.html" target="_blank">Equations</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_GamsCall.html#UG_GamsCall_SpecifyingOptionsThroughTheCommandLine" target="_blank">GAMS Options</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_GamsCall.html#UG_GamsCall_DoubleDashParametersEtcSimpleExample" target="_blank">Double dash parameters</a></li>
                                        </ul>
                                        <p>The configuration of GAMS Options and double dash parameters differs from the other symbols. Learn more about this <a href="#command-line" class="scrollto">here</a>.</p>
                                        <div class="callout-block callout-warning">
                                            <div class="icon-holder">
                                                <i class="fas fa-info-circle"></i>
                                            </div><!--//icon-holder-->
                                            <div class="content">
                                                <b class="callout-title">File encoding:</b>
                                                <p>When you want to use non-ASCII characters in MIRO, your GAMS model files need to be encoded with UTF-8. In GAMS Studio you can change the encoding of your file via <i>Edit</i> &rarr; <i>Encoding</i> &rarr; <i>convert to</i> ... &rarr; <i>UTF-8</i>. 
                                                Other file encodings are not supported in GAMS MIRO!</p>
                                                <div class="section-block" style="display:block; margin:auto; text-align:center;">
                                                    <img class="img-fluid" src="assets/images/encoding_studio.png" alt="File encoding in GAMS Studio" />
                                                </div>
                                            </div><!--//content-->
                                        </div><!--//callout-block-->
                                        
                                        <p><b>Example:</b><br>Let's try this for the model <i>trnsport</i> now. This is what the input data section of the model looks like when we have loaded it from the GAMS Model Library:</p>
                                        <pre><code class="language-gams">Set
   i 'canning plants' / seattle,  san-diego /
   j 'markets'        / new-york, chicago, topeka /;

Parameter
   a(i) 'capacity of plant i in cases'
        / seattle    350
          san-diego  600 /

   b(j) 'demand at market j in cases'
        / new-york   325
          chicago    300
          topeka     275 /;

Table d(i,j) 'distance in thousands of miles'
              new-york  chicago  topeka
   seattle         2.5      1.7     1.8
   san-diego       2.5      1.8     1.4;

Scalar f 'freight in dollars per case per thousand miles' / 90 /;

Parameter c(i,j) 'transport cost in thousands of dollars per case';</code></pre>
                                        <p>Let's import some of the data from MIRO, namely the parameters <span class="code">a</span>, <span class="code">b</span> and <span class="code">d</span> as well as the scalar <span class="code">f</span>. In order to tell MIRO that you want these symbols to come from there, we now flag them with the mentioned annotations in the symbol declarations:</p>
                                        <pre><code class="language-gams">Set
   i 'canning plants' / seattle,  san-diego /
   j 'markets'        / new-york, chicago, topeka /;

$onExternalInput
Parameter
   a(i) 'capacity of plant i in cases'
        / seattle    350
          san-diego  600 /

   b(j) 'demand at market j in cases'
        / new-york   325
          chicago    300
          topeka     275 /;

Table d(i,j) 'distance in thousands of miles'
              new-york  chicago  topeka
   seattle         2.5      1.7     1.8
   san-diego       2.5      1.8     1.4;

Scalar f 'freight in dollars per case per thousand miles' / 90 /;
$offExternalInput
</code></pre>
                                        <p>In addition, we want MIRO to display the variables of the model. To do so, we simply tag the declaration statement of the variables:</p>
                                        <pre><code class="language-gams">$onExternalOutput
Variable
   x(i,j) 'shipment quantities in cases'
   z      'total transportation costs in thousands of dollars';
$offExternalOutput
Positive Variable x;

[...]</code></pre>
                                        <p>That's it. We defined both input and output data for use in MIRO. The model is now ready to be deployed with GAMS MIRO.</p>
                                        <div class="callout-block callout-success">
                                          <div class="icon-holder">
                                              <i class="fas fa-thumbs-up"></i>
                                          </div><!--//icon-holder-->
                                          <div class="content">
                                              <b class="callout-title">Tip:</b>
                                              <p>You can also use MIRO to set GAMS options and double dash parameters for a model run. More about this is explained <a href="#pickstock_externalinput" class="scrollto">here</a>.</p>
                                          </div><!--//content-->
                                        </div><!--//callout-block-->
                                    </div><!--//section-block-->

                                    <div id="launch-miro" class="section-block">
                                        <h3 class="block-title">Launch MIRO</h3>
                                        <p>To launch MIRO from within GAMS Studio, simply click the <kbd>Launch MIRO</kbd> button or press F11.</p>
                                        <div class="section-block" style="display:block; margin:auto; text-align:center;">
                                            <img class="img-fluid" src="assets/images/launch-miro-btn.png" alt="Launch MIRO button" />
                                        </div>
                                        <p>In order to launch MIRO from the old GAMS IDE or via the command line, the GAMS option statement <span class="code" style="white-space:nowrap">miro=launch</span> has to be added to the command line (e.g. <kbd style="white-space: nowrap;">cd path/to/model && gams transport.gms miro=launch</kbd>).
                                        <div class="callout-block callout-warning">
                                            <div class="icon-holder">
                                                <i class="fas fa-info-circle"></i>
                                            </div><!--//icon-holder-->
                                            <div class="content">
                                                <b class="callout-title">Note:</b>
                                                <p>To run GAMS MIRO from the command prompt, it has to be either added to the <a href="https://en.wikipedia.org/wiki/PATH_(variable)" target="_blank">PATH</a> environment variable of your operating system or called using an absolute path!</p>
                                            </div><!--//content-->
                                        </div><!--//callout-block-->
                                        <p><br>Congratulations! Your firtst MIRO app is now up and running!</p>
                                        <div class="section-block" style="display:block; margin:auto; text-align:center;">
                                            <img class="img-fluid" src="assets/images/initial-screen.png" alt="initial GAMS MIRO screen" />
                                        </div>    
                                        <p>With the basic configuration you can upload local files, modify them from within the interface and start or stop a GAMS job. You also have access to the <i>log</i> and <i>listing</i> (<i>lst</i>) files of GAMS as well as all files generated during the run. When the model has finished the execution phase successfully, the results can be examined.
                                        Since MIRO is connected to a database, you can store results there, fetch previously saved results and modify them or use them to compare with other scenarios.</p>
                                        <div class="callout-block callout-warning">
                                            <div class="icon-holder">
                                                <i class="fas fa-info-circle"></i>
                                            </div><!--//icon-holder-->
                                            <div class="content">
                                                <b class="callout-title">Warning:</b>
                                                <p>If your model uses a GAMS <code class="language-gams">$call</code>, the execution phase variant <span class="code">execute</span> or any other command that is unable to understand the GAMS <a href="https://www.gams.com/latest/docs/UG_GamsCall.html#GAMSAOinputdir" target="_blank">input file directories</a>, you must pay attention to the path of the external files you include in this call: When your model is run from within MIRO, it is executed in a temporary working directory. Thus, you can not rely on relative paths you use in your model to work. For this reason, GAMS MIRO is providing you the path to your model file via the GAMS option <span class="code"><a href="https://www.gams.com/latest/docs/UG_GamsCall.html#GAMSAOinputdir" target="_blank">idir1</a></span>. This means that in order to e.g. import an Excel file <span class="code">test.xlsx</span>, the GDXXRW tool needs to be called like this: <code class="language-gams">$call gdxxrw i="%gams.idir1%test.xlsx"</code>. Alternatively, you can also use absolute paths (e.g. via <code class="language-gams">$setNames "%gams.input%" fp fn fe</code> (see <a href="https://www.gams.com/latest/docs/UG_DollarControlOptions.html#DOLLARsetnames" target="_blank">here</a>).</p>
                                            </div><!--//content-->
                                        </div><!--//callout-block-->
                                        <p>After the startup, you will find a new folder named <i>conf</i> in the directory where your model is located. This folder contains the file <span class="code">&lt;modelname&gt;_io.json</span>: The metadata of all input and output symbols we just defined in our model are declared here in JSON syntax. You should not modify this file.
                                            </br>Additionally, you will find a folder named <span class="code">data_&lt;modelname&gt;</span> with a gdx container named <span class="code">default.gdx</span>. This gdx file holds all the data relevant to MIRO that GAMS extracted from your model. It will be automatically imported into the MIRO database the next time you launch your app.
                                             </p>
                                             <div class="callout-block callout-success">
                                               <div class="icon-holder">
                                                   <i class="fas fa-thumbs-up"></i>
                                               </div><!--//icon-holder-->
                                               <div class="content">
                                                   <b class="callout-title">Tip:</b>
                                                   <p>All gdx files inside the <span class="code">data_&lt;modelname&gt;</span> folder will be stored into the MIRO database the next time your MIRO app is launched! The name of the gdx file determines the name of the scenario. 
                                                   This way you can easily import several scenarios at once.</p>
                                               </div><!--//content-->
                                             </div><!--//callout-block-->
                                    </div><!--//section-block-->
                            <section id="gams-symbols" class="doc-section">
                                <h2 class="section-title">GAMS symbols</h2>
                                <div  class="section-block">
                                    <p>In this section we will see how the various GAMS symbols (sets, parameters, scalars, etc.) are integrated and displayed in MIRO.</p>
                                    <p><b>Note</b>: GAMS symbols do not have to be integrated into MIRO. It is clearer and usually even advisable to integrate only those symbols which should be visible and modifiable by the user from MIRO.</p>
                                    <p><b>Note</b>: It is not possible to use the same GAMS symbol both as an input and as an output data for GAMS MIRO.</p>
                                </div><!--//section-block-->
                                <div  id="display-set"  class="section-block">
                                    <h3 class="block-title">Sets</h3>
                                    <p>Sets are fundamental elements of a GAMS model. In this chapter we show how they can be integrated into MIRO.
                                    <br>Probably the easiest way to integrate a set into MIRO is to declare it between the <code class="language-gams">$onExternalInput
                                    </code> / <code class="language-gams">$offExternalInput
                                    </code> tags:</p>
                                    <pre><code class="language-gams">$onExternalInput
Set i 'canning plants'
    j 'markets';
$offExternalInput
</pre></code>
                                    <p>If a set is included in this way, it is displayed in a separate table in MIRO.
                                    Set tables consist of one column for the set elements and one column for the explanatory text of each element.
                                    <br>Since the sets <span class="code">i</span> and <span class="code">j</span> are displayed in MIRO, their definition is handled directly in MIRO, i.e. filled with content / elements.</p>
                                    <p><b>Note</b>: If a set is loaded from MIRO and this set is part of a parameter at the same time, then the following must be considered:
                                    Every change that is made in the affected parameter can also affect the dependent set.
                                    <br>Example: If the parameter is extended by an entry, which contains a new set element, then this new set element must also be added in the table of the affected set.
                                    If this is not taken into account, a domain violation occurs when executing the GAMS model.</p>
                                    <p id="implicit-set"><b>Implicit set definition</b>
                                    <br>The definition / filling of a set can also be done implicitly, without loading the affected set directly from MIRO.
                                    This can be accomplished using the <a href="https://www.gams.com/latest/docs/UG_SetDefinition.html#UG_SetDefinition_ImplicitSetDefinition" target="_blank"><i>Implicit Set Definition</i></a> (or: <i>Domain Defining Symbol Declarations</i>).
                                    In the following example, the sets are declared outside the <code class="language-gams">$onExternalInput
                                    </code> / <code class="language-gams">$offExternalInput
                                    </code> tags. However, they are defined implicitly by the parameter <code class="language-gams">d(i&lt;,j&lt;)</code>, which is declared within these tags.</p>
                                    <pre><code class="language-gams">Set i 'canning plants'
    j 'markets';

$onExternalInput
Parameter d(i&lt;,j&lt;) 'distance in thousands of miles';
$offExternalInput
</pre></code>
                                <p>The <span class="code">&lt;</span> signs signal that the set <span class="code">i</span> will contain all elements which define the first dimension of <span class="code">d</span> and that the set <span class="code">j</span> will contain all elements which define the second dimension of <span class="code">d</span>, respectively.
                                In other words, the elements of parameter <span class="code">d</span> determine the definition of the two sets. This way, you avoid domain violations when loading symbols from MIRO.</p>
                                </div><!--//section-block-->
                                <div  id="display-parameters"  class="section-block">
                                    <h3 class="block-title">Parameters</h3>
                                    <p>Parameters are displayed in a table by default. In the default configuration, each <i>index</i> of a GAMS parameter is displayed in a separate column. The last column contains the parameter <i>values</i>.</p>
                                    <p>Example:
                                    <br>Let's have a look at the demo model <i>pickstock</i>. In this model the following input data has been tagged for use in MIRO:</p>
                                    <pre><code class="language-gams">Set date   'date'
    symbol 'stockSymbol';

$onExternalInput
Parameter price(date<,symbol<) 'Price';
$offExternalInput
</pre></code>
                                    <p>The parameter <span class="code">price</span> is declared between the mentioned tags <code class="language-gams">$onExternalInput
                                    </code> and <code class="language-gams">$offExternalInput
                                    </code>.
                                    <br>When we start GAMS MIRO and load the default scenario that was automatically created, we see the following input screen:</p>
                                    <div class="section-block" style="text-align:center;" id="no-header">
                                        <img class="img-fluid" style="max-height:200pt;" src="assets/images/deploy_pickstock2.png" alt="Pickstock: imput symbols displayed in MIRO" />
                                    </div>
                                    <p>Since each <i>index</i> is shown in a separate column, each <i>set element</i> of an index will be visible in a separate row. In the given example the parameter <span class="code">price</span> has two indices <span class="code">date</span> and <span class="code">symbol</span>.
                                    Each index is shown in a separate column named after the explanatory text of the corresponding set (or in case no explanatory text is available, the name of the symbol).
                                    The value column of a parameter is always called <i>value</i> and aliased with the explanatory text of the parameter. This type of representation of a GAMS parameter is what we call the <i>parameter view</i>.
                                    </p>
                                    <p id="table-header"><b>Definition of a table header</b>:
                                    <br>Sometimes it can be useful to show each set element of an index in a separate column; we call this the <i>table view</i> of a parameter.<br>
                                    Let's take the output parameter <span class="code">dowVSindex</span> as an example. This parameter reports the actual price of the dow jones index as well as the calculated price of the index fund. Note that the elements of the set <span class="code">fHdr</span> are fixed, namely: <span class="code">dow jones</span> and <span class="code">index fund</span>. We want to display each of these prices in a separate column so that we can easily compare them side by side. In order to achieve this type of pivot functionality, we need to <b>change the explanatory text of the parameter</b> that we want to pivot. More precisely, we need to include the keyword: <span class="code">[MIRO:table]</span>.
                                    Doing so will lead to the desired result: <span class="code">dow jones</span> and <span class="code">index fund</span> are shown as separate value columns.</p>
                                    <pre><code class="language-gams">Set date   'date'
    fHdr   'fund header'          / 'dow jones','index fund'  /;

$onExternalOutput
Parameter dowVSindex(date,fHdr)     'dow jones vs. index fund [MIRO:table]';
$offExternalOutput
</pre></code>
                                    <div class="section-block" style="text-align:center;">
                                        <img class="img-fluid" style="max-height:125pt;"  src="assets/images/multi-col-table.png" alt="Table with Demand and Production time columns" />
                                    </div>
                                    <div class="callout-block callout-warning">
                                      <div class="icon-holder">
                                          <i class="fas fa-info-circle"></i>
                                      </div><!--//icon-holder-->
                                      <div class="content">
                                          <b class="callout-title">Note:</b>
                                          <p>The keyword: <span class="code">[MIRO:table]</span> is not displayed in MIRO.</p>
                                      </div><!--//content-->
                                    </div><!--//callout-block-->
                                    <p>Let's now take a look at a case where you want to <b>avoid</b> using this type of pivot functionality: If we were to decide to pivot the index <span class="code">symbol</span> of the parameter <span class="code">price</span>, we would end up with a table where all stock symbols (<span class="code">AAPL</span>, <span class="code">AXP</span>, <span class="code">BA</span>, etc.) are displayed in a separate column:
                                        <pre><code class="language-gams">Set date   'date'
    symbol 'stockSymbol';

$onExternalInput
Parameter price(date,symbol) 'Price [MIRO:table]';
$offExternalInput
</pre></code>
                                      </p>
                                    <div class="section-block" style="text-align:center;">
                                        <img class="img-fluid" style="max-height:175pt;" src="assets/images/expand-table.png" alt="Visualization of expanded table" />
                                    </div>
                                    <p>A table width quickly increases when the number of set elements of the header index gets large. A total of, for example, 30 stocks to be represented in a table would lead to 30 additional columns. In this case we should stick to the <i>parameter view</i> as shown <a href="#no-header" class="scrollto">above</a>. Please note also that you should only use the <i>table view</i> for parameters where the header remains fixed! The database schema used internally directly depends on the structure of your parameters. This means that adding and removing columns dynamically is not possible! More on this also in the next section.</p>
                                </div><!--//section-block-->
                                <div class="section-block">
                                   <p><b>Restrictions on the use of headers</b>:
                                   <br>When you decide to pivot a parameter, you should be aware of the following restrictions:</p>
                                   <p>Only those sets can be used as headers, whose elements are not populated in any way from MIRO. In other words: The explicit or implicit <i>definition</i> of the set must be done independent of MIRO (e.g. coming from an external Excel file, a corporate database or defined right inside your GAMS model). Only sets where the number of elements as well as the values of those elements are fixed can be used!</p>
                                   <p>This means:</p>
                                   <ul>
                                     <li>The set of the of the affected parameter index must not be declared between the <span class="code">$on-/offExternalInput</span> tags.
                                     <br>Example:</p>
                                     <pre><code class="language-gams">$onExternalInput
Set date   'date'
    symbol 'stockSymbol';

Parameter price(date,symbol) 'Price [MIRO:table]';
$offExternalInput
</pre></code>
                                     <p>Here, the sets <span class="code">date</span> and <span class="code">symbol</span> are declared to be MIRO input elements.
                                     This means that they are populated and modified explicitly from MIRO. At the same time the set <span class="code">symbol</span> should serve as header for the parameter <span class="code">price</span>.
                                     As a dynamic number of set elements would result in a dynamic number of columns, this constellation is not allowed.</p>
                                   <div class="callout-block callout-warning">
                                      <div class="icon-holder">
                                          <i class="fas fa-info-circle"></i>
                                      </div><!--//icon-holder-->
                                      <div class="content">
                                          <b class="callout-title">Note:</b>
                                          <p>The database schema that GAMS MIRO uses internally depends directly on the structure of your exported parameters, equations, variables, and quantities. When you save a scenario for the first time, database tables are created according to this schema. This also means that you can't easily change the structure of your exported GAMS symbols at a later stage. You may create a new version of your model (e.g. call it mycoolmodelv2.gms) or use the <a href="#database" class="scrollto">admin mode</a> to remove existing tables.</p>
                                      </div><!--//content-->
                                    </div><!--//callout-block--></li>
                                     <li>The set of the of the affected parameter index must not be <a href="https://www.gams.com/latest/docs/UG_SetDefinition.html#UG_SetDefinition_ImplicitSetDefinition" target="_blank">defined implicitly</a> through data statements of a parameter which use these sets as domains and is displayed in MIRO at the same time.
                                     <br>Example:</p>
                                     <pre><code class="language-gams">Set date   'date'
    symbol 'stockSymbol';

$onExternalInput
Parameter price(date&lt;,symbol&lt;) 'Price [MIRO:table]';
$offExternalInput
</pre></code>
                                   <p>Here, the sets are declared outside the <span class="code">$on-/offExternalInput</span> tags. But the definition, the population with elements, takes place implicitly via the data statement <span class="code">price(date&lt;,symbol&lt;)</span>.
                                   The <a href="https://www.gams.com/latest/docs/UG_SetDefinition.html#UG_SetDefinition_ImplicitSetDefinition" target="_blank"><span class="code">&lt;</span> signs</a> signal that the sets <span class="code">date</span> and <span class="code">price</span> will be defined implicitly via the parameter <span class="code">price</span> (see also <a href="#implicit-set" class="scrollto">here</a>).
                                   Since the set <span class="code">symbol</span> should be the header of parameter <span class="code">price</span> but at the same time the set <span class="code">symbol</span> is implicitly defined in MIRO by parameter <span class="code">price</span>, this configuration is not allowed.</li>
                                   </ul>
                                   <div class="callout-block callout-warning">
                                       <div class="icon-holder">
                                           <i class="fas fa-info-circle"></i>
                                       </div><!--//icon-holder-->
                                       <div class="content">
                                           <b class="callout-title">Note:</b>
                                           <p>These restrictions only apply if the affected set acts as header for a parameter in MIRO.
                                           If a set is not used as a header, then explicit and implicit definitions as seen above are possible, see also <a href="#display-set" class="scrollto">here</a>.</p>
                                       </div><!--//content-->
                                   </div><!--//callout-block-->
                                   <p>A further restriction of the use of headers concerns the dimensionality of parameters.
                                   Only multi-dimensional parameters can be pivoted.
                                   For the parameter of the following example the option <span class="code">[MIRO:table]</span> cannot be set:
                                     <pre><code class="language-gams">$onExternalInput
*This parameter cannot be pivoted!
Parameter oneDim(dom1) 'One domain/dimension [MIRO:table]';
$onExternalOutput
</code></pre>
                                   </p>
                                </div><!--//section-block-->
                                <div  id="display-scalars"  class="section-block">
                                    <h3 class="block-title">Scalars</h3>
                                    <p>The handling of <a href="https://www.gams.com/latest/docs/UG_DataEntry.html#UG_DataEntry_Scalars" target="_blank">scalars</a> and 0- or 1-dimensional <a href="https://www.gams.com/latest/docs/UG_SetDefinition.html#UG_SetDefinition_SingletonSets" target="_blank">singleton sets</a> (&le; 1 domains and dimensions) differs from the previously discussed GAMS symbols.</p>
                                    <div class="callout-block callout-success">
                                      <div class="icon-holder">
                                          <i class="fas fa-thumbs-up"></i>
                                      </div><!--//icon-holder-->
                                      <div class="content">
                                          <b class="callout-title">Note:</b>
                                          <p>Scalars and 0- or 1-dimensional singleton sets are collected in a joint table in the interface by default.<br>
                                          In case you want each widget to be displayed on a separate sheet, there is an <a href="./customize.html#aggregate-widgets">option to do so</a>.</p>
                                      </div><!--//content-->
                                    </div><!--//callout-block-->
                                    <p>They are merged in a joint table in the interface by default. This means that all scalars defined in the GAMS model within the <span class="code">$on</span>/<span class="code">offExternalInput</span> and -<span class="code">output</span> are shown in MIRO in one single table called <span class="code">scalars</span>. 
                                    The same is also true for output scalars. These are summarized in the results section in a table called <span class="code">scalars_out</span>.
                                    This saves screen real estate and also makes adding new scalars easy as all you have to do is add a new row to the <span class="code">scalars</span> table. 
                                  Thus, it improves compactness and flexibility - especially when MIRO is connected to a database as the schema stays fixed even when you add or remove certain scalars.</p>
                                    <p>Example:</p>
                                    <pre><code class="language-gams">$onExternalInput
Scalar f    'freight in dollars per case per thousand miles' / 90 /
       minS 'minimum shipment (MIP- and MINLP-only)' / 100 /
       beta 'beta (MINLP-only)' / 0.95 /;
Singleton Set  single  'Singleton Set'    / element  /;
$offExternalInput
</pre></code>
                                    <p>Here we have declared the scalar input data <span class="code">f</span>, <span class="code">minS</span> and <span class="code">beta</span> as well as a singleton set <span class="code">single</span> between the input tags. In MIRO, they are all displayed in a single table:
                                    <div class="section-block" style="text-align:center;">
                                          <img class="img-fluid" style="max-height:200pt;" src="assets/images/scalars-table.png" alt="Visualization of scalars and singleton sets in a table" />
                                    </div>
                                    <p>Instead of representing an input scalar as a row in a table you can display it using one of the <i>input widgets</i> MIRO ships with.
                                    Scalar values are well suited for representation as a slider, dropdown menu, checkbox or date selector. You can learn more about this in the section about <a href="./customize.html#configure-widgets">widgets</a>.</p>
                                    <div class="callout-block callout-success">
                                            <div class="icon-holder">
                                                <i class="fas fa-thumbs-up"></i>
                                            </div><!--//icon-holder-->
                                            <div class="content">
                                                <b class="callout-title">Tip:</b>
                                                <p>In the scenario selection module of the <a href="./hypercube.html#scenario-selection">Hypercube mode</a> you can search for scalar data of a scenario, making it easy to find matching scenarios.</p>
                                            </div><!--//content-->
                                        </div><!--//callout-block-->
                                    </div><!--//section-block-->
                                <div  id="display-sinset"  class="section-block">
                                    <h3 class="block-title">Singleton Sets</h3>
                                    <p>A <a href="https://www.gams.com/26/docs/UG_SetDefinition.html#UG_SetDefinition_SingletonSets" target="scrollto">singleton set</a> in GAMS is a special set that has at most one element (zero elements are allowed as well).
                                    Like other sets, singleton sets may have a domain with several dimensions.
                                    As already explained <a href="#display-scalars" class="scrollto">here</a>, 0- and 1-dimensional singleton sets are displayed together with scalars in a joint table.
                                    Multi-dimensional singleton sets, on the other hand, are each displayed in a separate table.
                                    <br>Example:</p>
                                    <pre><code class="language-gams">$onExternalInput
Singleton Set
   multidim(i,j)  'multidimensional singleton set'  / seattle.topeka 'this is an explanatory text'/
   multidim2(i,j) 'another multidimensional singleton set' / seattle.chicago /;
$offExternalInput
</pre></code>
                                    <div class="section-block" style="text-align:center;">
                                          <img class="img-fluid" style="max-height:150pt;" src="assets/images/singleton-multi-table.png" alt="Visualization of multidimensional singleton sets in a table" />
                                    </div>
                                </div><!--//section-block-->
                                <div  id="display-var"  class="section-block">
                                    <h3 class="block-title">Variables</h3>
                                    <p><a href="https://www.gams.com/latest/docs/UG_Variables.html" target="blank">Variables</a> are entities whose values are unknown until after a model has been solved.
                                    For this reason, variables can only be integrated into MIRO to show results. Therefore, if we want to display a variable in MIRO, we need to declare it between the <code class="language-gams">$onExternalOutput
                                    </code> / <code class="language-gams">$offExternalOutput
                                    </code> tags.</p>
                                    <p>Another property of variables: While a GAMS parameter has a single value associated with each unique label combination, a variable has several (<span class="code">level</span>, <span class="code">marginal</span>, <span class="code">lower bound</span>, <span class="code">upper bound</span> and <span class="code">scale</span>).
                                    When you tag a variable to be displayed in MIRO, all of its attributes will be displayed. If you are only interested in a subset of these attributes, you need to assign them to a parameter and tag this parameter for display in MIRO.</p>
                                    <p>In the following example we integrate the variable <code class="language-gams">x(i,j)</code> into MIRO.</p>
                                    <pre><code class="language-gams">$onExternalOutput
Variable x(i,j) 'shipment quantities in cases';
$offExternalOutput
</pre></code>
                                    <p>The resulting table then looks like this:</p>
                                    <div class="section-block" style="text-align:center;">
                                          <img class="img-fluid" style="max-height:200pt;" src="assets/images/variable-table.png" alt="Visualization of variables in a table" />
                                    </div>
                                    <p></p>
                                </div><!--//section-block-->
                                <div  id="display-eq"  class="section-block">
                                    <h3 class="block-title">Equations</h3>
                                    <p>Equations are treated identically with variables, i.e. they have a fixed number of 4 value columns, namely <span class="code">level</span>, <span class="code">marginal</span>, <span class="code">lower bound</span>, <span class="code">upper bound</span> and <span class="code">scale</span>.
                                    <br>Example:</p>
                                    <pre><code class="language-gams">$onExternalOutput
Equation demand(j)   'satisfy demand at market j';
$offExternalOutput
</pre></code>
                                    <p>This leads to the following table:</p>
                                    <div class="section-block" style="text-align:center;">
                                          <img class="img-fluid" style="max-height:200pt;" src="assets/images/equation-table.png" alt="Visualization of equations in a table" />
                                    </div>
                                </div><!--//section-block-->
                                <div  id="display-scalar-vareq"  class="section-block">
                                    <h3 class="block-title">Scalar Variables & Equations</h3>
                                    <p>As with scalars, 0-dimensional variables and equations are also specially treated here in order to save space. Examples for 0-dimensional variables and equations are the objective function value and the objective function.
                                    Since the dimension of both types is the same, 0-dimensional variables and equations are displayed together in one table (similar to <a href="#display-scalars" class="scrollto">scalars and 0/1-dimensional singleton sets</a> here). </p>
                                    <pre><code class="language-gams">$onExternalInput
Variable z      'total transportation costs in thousands of dollars';
Equation cost   'define objective function';
$offExternalInput
</pre></code>
                                    <div class="section-block" style="text-align:center;">
                                          <img class="img-fluid" style="max-height:250pt;" src="assets/images/eq-var-table.png" alt="Visualization of equations in a table" />
                                    </div>
                                </div><!--//section-block-->
                                <div  id="command-line"  class="section-block">
                                    <h3 class="block-title">Command line parameters</h3>
                                    <p>In addition to GAMS symbols like parameters and scalars, command line parameters (<a href="https://www.gams.com/latest/docs/UG_GamsCall.html#UG_GamsCall_SpecifyingOptionsThroughTheCommandLine" target="_blank">GAMS Options</a> and <a href="https://www.gams.com/latest/docs/UG_GamsCall.html#UG_GamsCall_DoubleDashParametersEtcSimpleExample" target="_blank">Double dash parameters</a>) can also be set from within MIRO.
                                    The configuration of these command line parameters differs from that of GAMS symbols. While sets, parameters, scalars etc. are declared directly in the GAMS code and can therefore be tagged, command line parameters lack such a formal declaration.
                                    To be able to set them from MIRO, you must declare them in the <a href="./customize.html#configure-widgets">configuration mode</a> (or in the <a href="./customize.html#widgets-commandLine"><i>&lt;modelname&gt;.json</i></a> file).
                                    </p>
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                            <section id="database" class="doc-section">
                                <h2 class="section-title">Database</h2>
                                <div  id="database"  class="section-block">
                                    <p>MIRO is connected to a database where all your scenario data is stored. By default, GAMS MIRO uses the relational database <a href="https://www.sqlite.org/index.html" target="_blank">SQLite</a>.</p>
                                    <p>The first time you save a scenario in the database, the schema of your GAMS input and output symbols is analyzed and the database schema derived from that. This has important implications: in case you change the underlying model, the database schema changes as well. If the two schemas are incompatible (e.g. because you added another index to a parameter), MIRO will issue an error as it won't just overwrite existing data.
                                    To resolve this, the database tables of your model must be recreated, resulting in the loss of all previously stored data. To avoid this, you can save your database tables before removing them; manually adjust the saved records to your new schema (e.g. add/remove columns) and then use the result to restore your database. You can do so by using the admin mode built into MIRO. In addition to launching MIRO via <span class="code">miro=launch</span>, you can tell MIRO to launch in admin mode via: <span class="code">miro=launch miromode=2</span>.</p>
                                    <div class="callout-block callout-warning">
                                       <div class="icon-holder">
                                           <i class="fas fa-info-circle"></i>
                                       </div><!--//icon-holder-->
                                       <div class="content">
                                           <b class="callout-title">Note:</b>
                                           <p>In case you saved a lot of data in your database you should use the native backup capabilities of SQLite rather than using the MIRO admin mode.</p>
                                       </div><!--//content-->
                                   </div><!--//callout-block-->
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                            <section id="create-custom" class="doc-section">
                                <h2 class="section-title">Custom configuration</h2>
                                <div class="section-block">
                                    <p>When the basic interface between a GAMS model and MIRO is configured, you can start customizing MIRO to leverage its full potential. Have a look at the <a href="./customize.html">next section</a> and learn how to customize MIRO.</p>
                                    <div class="section-block" style="text-align:center;">
                                            <img class="img-fluid" src="assets/images/gams_miro.png" alt="GAMS MIRO - visualization" />
                                    </div>
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                            <section id="create-app-executable" class="doc-section">
                                <h2 class="section-title">Executable MIRO app</h2>
                                <div class="section-block">
                                    <p>As already explained, an app of a GAMS model can be started via GAMS Studio, GAMSIDE or via the command line. However, there is another option: creating an executable shortcut for your GAMS MIRO app.
                                    By adding the double-dash parameter <span class="code">--mkapp=1</span> to the GAMS call, a <i>cmd</i> file (Windows) / <i>app</i> file (MacOS) is created which you can double-click to directly launch your MIRO app.</p>
                                    <p style="display:block; text-align:center;"><span class="code">gams transport.gms miro=launch --mkapp=1</span></p>
                                    <p>You do no longer have to launch Studio or the command line to start your MIRO app. Another advantage of this approach is that the startup phase of your MIRO app is now much faster than the startup via GAMS Studio:
                                    <br>When an app is started via a shortcut, this file accesses configuration files in binary form (<i>.miroconf</i>). These configuration files are only created when a model is started with miro=launch via GAMS Studio or the command line (we call this the <a href="./faqs.html#def-development-mode">development mode</a>).
                                    In order to keep the configuration of an app started via an executable up to date, these configuration files must be recreated when MIRO-related changes are made to your model or configuration files. To learn more about this topic, read <a href="./customize.html#development-mode">here</a>.</p>
                                    <div class="callout-block callout-success">
                                      <div class="icon-holder">
                                          <i class="fas fa-thumbs-up"></i>
                                      </div><!--//icon-holder-->
                                      <div class="content">
                                          <b class="callout-title">Tip:</b>
                                          <p>On Windwos machines the standard icon for executables is used for the created file. To give it a custom look, you can create a shortcut to this file (<i>right mouse click &rarr; create shortcut</i>) and customize the icon of the shortcut (<i>right mouse click on shortcut &rarr; Properties &rarr; shortcut</i>). Under MacOS the executable is already provided with an own icon.</p>
                                      </div><!--//content-->
                                    </div><!--//callout-block-->
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                        </div><!--//content-inner-->
                    </div><!--//doc-content-->
                    <div class="doc-sidebar col-md-3 col-12 order-0 d-none d-md-flex">
                        <div id="doc-nav" class="doc-nav">
	                        <nav id="doc-menu" class="nav doc-menu flex-column sticky">
	                            <a class="nav-link scrollto" href="#introduction-section">Introduction</a>
	                            <a class="nav-link scrollto" href="#creating-section">Turn your GAMS model into a MIRO app</a>
                                  <nav class="doc-sub-menu nav flex-column">
                                    <a class="nav-link scrollto" href="#demo-applications">Demo applications</a>
                                    <a class="nav-link scrollto" href="#model-adjustments">Model adjustments</a>
                                    <a class="nav-link scrollto" href="#launch-miro">Launch MIRO</a>
                                </nav><!--//nav-->
                                <a class="nav-link scrollto" href="#gams-symbols">GAMS symbols</a>
                                  <nav class="doc-sub-menu nav flex-column">
                                    <a class="nav-link scrollto" href="#display-set">Sets</a>
                                    <a class="nav-link scrollto" href="#display-parameters">Parameters</a>
                                    <a class="nav-link scrollto" href="#display-scalars">Scalars</a>
                                    <a class="nav-link scrollto" href="#display-sinset">Singeton Sets</a>
                                    <a class="nav-link scrollto" href="#display-var">Variables</a>
                                    <a class="nav-link scrollto" href="#display-eq">Equations</a>
                                    <a class="nav-link scrollto" href="#display-scalar-vareq">Scalar Variables & Equations</a>
                                    <a class="nav-link scrollto" href="#command-line">Command line Parameters</a>
                                </nav><!--//nav-->
                                <a class="nav-link scrollto" href="#database">Database</a>
                                <a class="nav-link scrollto" href="#create-custom">Custom configuration</a>
                                <a class="nav-link scrollto" href="#create-app-executable">Executable MIRO app</a>

	                        </nav><!--//doc-menu-->
                        </div>
                    </div><!--//doc-sidebar-->
                </div><!--//doc-body-->
            </div><!--//container-->
        </div><!--//doc-wrapper-->

    <!--TYPO3SEARCH_end-->
    </div><!--//page-wrapper--><!--#include virtual="/footer_miro.html" -->

    <!-- Main Javascript -->
    <script type="text/javascript" src="assets/plugins/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>
    <script type="text/javascript" src="assets/plugins/stickyfill/dist/stickyfill.min.js"></script>
    <script type="text/javascript" src="assets/plugins/prism/min/prism-min.js"></script>
    <script type="text/javascript" src="assets/js/main.js"></script>

</body>
</html>
