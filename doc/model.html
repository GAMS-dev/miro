<!DOCTYPE html>
<html lang="en">
<head>
    <title>GAMS MIRO documentation</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.ico">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <!-- FontAwesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.1.1/js/all.js" integrity="sha384-BtvRZcyfv4r0x/phJt9Y9HhnN5ur1Z+kZbKVgzVBAlQZX4jvAuImlIz+bG7TS00a" crossorigin="anonymous"></script>
    <!-- Global CSS -->
    <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="assets/plugins/prism/prism.css">
    <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css">

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/styles.css">

</head>

<body class="body-orange">
    <div class="page-wrapper">
        <!-- ******Header****** -->
        <header id="header" class="header">
            <div class="container">
                <div class="branding">
                    <h1 class="logo">
                        <a href="index.html">
                          <img class="img-fluid" style="height:50px;" src="assets/images/logo.svg" onerror="this.onerror=null; this.src='assets/images/logo.png'" alt="logo"/>
                            <span class="text-highlight">GAMS</span><span class="text-bold">MIRO</span>
                        </a>
                    </h1>
                </div><!--//branding-->
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                    <li class="breadcrumb-item active">Model deployment</li>
                </ol>
            </div><!--//container-->
        </header><!--//header-->
        <div class="doc-wrapper">
            <div class="container">
                <div id="doc-header" class="doc-header text-center">
                    <h1 class="doc-title"><i class="icon fa fa-paper-plane"></i> Model deployment</h1>
                    <div class="meta"><i class="far fa-clock"></i> Last updated: Jauary 28th, 2019</div>
                </div><!--//doc-header-->
                <div class="doc-body row">
                    <div class="doc-content col-md-9 col-12 order-1">
                        <div class="content-inner">
                            <section id="introduction-section" class="doc-section">
                                <h2 class="section-title">Introduction</h2>
                                <div id="model-1"  class="section-block">
                                    <p>After testing the demo applications, let's now prepare an existing GAMS model for use with MIRO. An essential feature of GAMS MIRO is that this can be done in a fast, easy and automated way. For a better understanding it may be helpful to have a look at the GAMS code of the <a href="./start.html#start-1">demo applications</a>.</p>
                                    <p>The model <i>trnsport</i> is one of the demo applications that come with your MIRO installation. 
                                        However, for illustration purposes we now take the original trnsport.gms model from the GAMS <a href="https://www.gams.com/latest/gamslib_ml/libhtml/" target="_blank">Model Library</a>. This model will be adapted for use with MIRO in a few steps and within a few minutes.
                                        </p><p>If you want to go through the step by step instructions with the <i>trnsport</i> model, download the corresponding file from the Model Library and put it in a directory of your choice.</p>
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                            <section id="creating-section" class="doc-section">
                                <h2 class="section-title">Turn your GAMS model into a MIRO app</h2>
                                    <div  id="create-1"  class="section-block">
                                        <p>To be able to use MIRO, an interface must be created between MIRO and the GAMS model to be deployed. This interface primarily consists of the information which symbols of the GAMS model should be visible (and modifiable) to the user from within MIRO. Those GAMS symbols must be flagged in the code. </p>
                                        <div class="callout-block callout-success">
                                            <div class="icon-holder">
                                                <i class="fas fa-thumbs-up"></i>
                                            </div><!--//icon-holder-->
                                            <div class="content">
                                                <h4 class="callout-title">Note:</h4>
                                                <p>A GAMS model still can be used in the normal way (via <i>GAMS Studio</i>, <i>GAMSIDE</i> or the console) after the following adjustments</p>
                                            </div><!--//content-->
                                        </div>
                                        <p>In principle, only three steps are required:</p>
                                        <ol>
                                          <li>Flag input data with <code class="language-gams">$onExternalInput
                                          </code> / <code class="language-gams">$offExternalInput
                                          </code> or <code class="language-gams">'UIInput: '</code></li>
                                          <li>Flag output data with <code class="language-gams">$onExternalOutput
                                          </code> / <code class="language-gams">$offExternalOutput
                                          </code> or <code class="language-gams">'UIOutput: '</code></li>
                                          <li>At the very end of the model include (<span class="code"><a href="https://www.gams.com/latest/docs/UG_DollarControlOptions.html#DOLLARlibinclude" target="_blank">$libinclude</a></span>) the file <span class="code">webui</span> with <code class="language-gams">$libinclude 
                                          webui</code></li>
                                        </ol>
                                        We will examine these steps more closely in the following.
                                    </div><!--//section-block-->
                                    <div  id="create-2"  class="section-block">
                                        <h3 class="block-title">Model adjustments</h3>
                                        <p>Every GAMS model can be deployed with MIRO in just a few steps. First, those GAMS symbols that you want to be visible in the interface need to be declared. This can be done by wrapping the corresponding symbols with the tags <code class="language-gams">$onExternalInput
                                        </code> / <code class="language-gams">$offExternalInput
                                        </code> for input data and <code class="language-gams">$onExternalOutput
                                        </code> / <code class="language-gams">$offExternalOutput
                                        </code> for output data. These tags can be used multiple times within a model. Alternatively one can write <code class="language-gams">'UIInput: '</code> or <code class="language-gams">'UIOutput: '</code> at the beginning of the explanatory text of a GAMS symbol to include this symbol in MIRO. Symbols which are not tagged with one of these markers wonâ€™t be visible in the web interface.
                                        <p>The code below shows a small example:</p>
                                        <pre><code class="language-gams">$onExternalInput
Parameter
   symbol_1(dim1, dim2)  'Displayed in WebUI (model input data)'
   symbol_2(dim3)        'Displayed in WebUI (model input data)';
$offExternalInput

Parameter
   symbol_3(dim4)        'NOT displayed in WebUI'
   symbol_4(dim5)        'UIOutput: Displayed in WebUI (model output data)';</code></pre> 
                                        <p>Here, the parameters <span class="code">symbol_1</span> and <span class="code">symbol_2</span> are declared between the tags <span class="code">$onExternalInput</span> and <span class="code">$offExternalInput</span>. They will be visible in MIRO (e.g. as tables).
                                        <br><span class="code">symbol_3</span>, on the other hand, was declared outside the keywords. This parameter will not be visible in MIRO (however, it is still available as "normal" parameter in your model).
                                        <br><span class="code">symbol_4</span> will be displayed in MIRO as output data because its explanatory text starts with <span class="code">UIOutput</span>.</p>
                                        <p>The following GAMS symbols can be used in MIRO:</p>
                                        <ul>
                                          <li><a href="https://www.gams.com/latest/docs/UG_SetDefinition.html" target="_blank">Sets</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_DataEntry.html#UG_DataEntry_Parameters" target="_blank">Parameters</a> / <a href="https://www.gams.com/latest/docs/UG_DataEntry.html#UG_DataEntry_Tables" target="_blank">Tables</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_DataEntry.html#UG_DataEntry_Scalars" target="_blank">Scalars</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_SetDefinition.html#UG_SetDefinition_SingletonSets" target="_blank">Singleton Sets</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_Variables.html" target="_blank">Variables</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_Equations.html" target="_blank">Equations</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_GamsCall.html#UG_GamsCall_SpecifyingOptionsThroughTheCommandLine" target="_blank">GAMS Options</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_GamsCall.html#UG_GamsCall_DoubleDashParametersEtcSimpleExample" target="_blank">Double dash parameters</a></li>
                                        </ul>
                                        <p>The configuration of GAMS Options and double dash parameters differs from the other symbols. Learn more about this <a href="#create-compile" class="scrollto">here</a>.</p>
                                        <p>Let's try this for our demo model <i>trnsport</i> now. This is what the input data section of the model looks like when we have loaded it from the GAMS Model Library:</p>
                                        <pre><code class="language-gams">Set
   i 'canning plants' / seattle,  san-diego /
   j 'markets'        / new-york, chicago, topeka /;

Parameter
   a(i) 'capacity of plant i in cases'
        / seattle    350
          san-diego  600 /

   b(j) 'demand at market j in cases'
        / new-york   325
          chicago    300
          topeka     275 /;

Table d(i,j) 'distance in thousands of miles'
              new-york  chicago  topeka
   seattle         2.5      1.7     1.8
   san-diego       2.5      1.8     1.4;

Scalar f 'freight in dollars per case per thousand miles' / 90 /;

Parameter c(i,j) 'transport cost in thousands of dollars per case';</code></pre> 
                                        <p>Meaningful input data for MIRO could be the symbols <span class="code">a</span>, <span class="code">b</span>, <span class="code">d</span> and <span class="code">f</span>. In order to make these symbols visible in MIRO, we now mark them with the tags mentioned:</p>
                                        <pre><code class="language-gams">Set
   i 'canning plants' / seattle,  san-diego /
   j 'markets'        / new-york, chicago, topeka /;
   
$onExternalInput
Parameter
   a(i) 'capacity of plant i in cases'
        / seattle    350
          san-diego  600 /

   b(j) 'demand at market j in cases'
        / new-york   325
          chicago    300
          topeka     275 /;

Table d(i,j) 'distance in thousands of miles'
              new-york  chicago  topeka
   seattle         2.5      1.7     1.8
   san-diego       2.5      1.8     1.4;

Scalar f 'freight in dollars per case per thousand miles' / 90 /;
$offExternalInput
</code></pre> 
                                        <p>In addition, we want MIRO to display the variables of the model. To do so, we simply tag the declaration statement of the variables:</p>
                                        <pre><code class="language-gams">[...]
                                        
$onExternalOutput
Variable
   x(i,j) 'shipment quantities in cases'
   z      'total transportation costs in thousands of dollars';
$offExternalOutput
Positive Variable x;

[...]</code></pre> 
                                        <p>We now defined both input and output data for use in MIRO. 
                                        <br>A last step now is to include the script: <span class="code">webui.gms</span> via: <code class="language-gams">$libinclude 
                                        webui</code> <b>at the very end of the GAMS model</b>. With the help of this file, all model specific configuration files are created automatically.</p>
                                        <pre><code class="language-gams">[...]
                                        
Model transport / all /;

solve transport using lp minimizing z;
display x.l, x.m;

$libInclude webui
</code></pre> 
                                        <p><b>Note</b>: The file webui.gms is copied into the <i> GAMS library include directory</i> (by default, this is the directory <i>inclib</i> in the GAMS system directory) during the WebUI installation and can be included with a <span class="code"><a href="https://www.gams.com/latest/docs/UG_DollarControlOptions.html#DOLLARlibinclude" target="_blank">$libinclude</a></span>.</p>
                                        <p>That's it. The model is now ready to be deployed with GAMS MIRO.</p>
                                        <div class="callout-block callout-success">
                                          <div class="icon-holder">
                                              <i class="fas fa-thumbs-up"></i>
                                          </div><!--//icon-holder-->
                                          <div class="content">
                                              <h4 class="callout-title">Note:</h4>
                                              <p>You can also use MIRO to set GAMS options and double dash parameters for a model run. More about this is explained <a href="#pickstock_externalinput" class="scrollto">here</a>.</p>
                                          </div><!--//content-->
                                        </div><!--//callout-block-->
                                    </div><!--//section-block-->
                                        
                                    <div id="create-5" class="section-block">
                                        <h3 class="block-title">Generating model-specific configuration files</h3>
                                        <p>In the next step the model-specific configuration files for MIRO are created.</p>
                                        <ul>
                                          <li>Run the model with the compile time parameter <span class="code">--miro=build</span>.
                                            <div class="section-block" style="text-align:center;">
                                                <img class="img-fluid" style="max-height:45pt;" src="assets/images/miro-build.png" alt="--miro=build" />
                                            </div>
                                            <div class="callout-block callout-warning">
                                                <div class="icon-holder">
                                                    <i class="fas fa-info-circle"></i>
                                                </div><!--//icon-holder-->
                                                <div class="content">
                                                    <h4 class="callout-title">Warning:</h4>
                                                    <p>If you use a GAMS <span class="code">$call</span> inside a model you need to pay attention to the path of external files you might include in this call. When you run your model from MIRO, it is executed in a temporary working directory. Thus, you can not rely on relative paths you use in your model to work. For this reason, GAMS MIRO is providing you the path to your model file via the GAMS option <span class="code"><a href="https://www.gams.com/latest/docs/UG_GamsCall.html#GAMSAOinputdir" target="_blank">idir1</a></span>. This means that in order to e.g. import an Excel file <span class="code">test.xlsx</span>, the GDXXRW tool needs to be called like this: <kbd>$call gdxxrw i="%gams.idir1%test.xlsx"</kbd>. Alternatively, you may use absolute paths.</p>
                                                </div><!--//content-->
                                            </div><!--//callout-block-->
                                          </li>
                                          <li>After the build process is completed, a new folder named <i>conf</i> is automatically created inside your working directory. This folder contains the file <span class="code">GMSIO_config.json</span>. The metadata of all input and output symbols we just defined in our model are declared here in JSON Synax.
                                            </br>The model folder also contains an Excel file with the same name as your model file. This Excel file contains all the relevant input data that was extracted from your model and can be used to populate MIRO.
                                            <div class="callout-block callout-warning">
                                                <div class="icon-holder">
                                                    <i class="fas fa-info-circle"></i>
                                                </div><!--//icon-holder-->
                                                <div class="content">
                                                    <h4 class="callout-title">Note:</h4>
                                                    <p>In case you don't find an Excel file with the data, please make sure the <span class="code">xlsxwriter</span> Python module was successfully installed (c.f. <a href="./start.html#pip_install">here</a>).</p>
                                                </div><!--//content-->
                                            </div><!--//callout-block-->
                                          </li>
                                          <li>The very basic configuration is now done. You can start MIRO by running the model again, this time with <span class="code" style="white-space:nowrap">--miro=launch</span>.
                                            <div class="section-block" style="text-align:center;">
                                                <img class="img-fluid" src="assets/images/webui-launch.png" alt="--webui=launch" />
                                            </div>
                                            The first time you launch MIRO, all the required R packages are installed automatically. This may take a while. When the installation is complete, GAMS MIRO launches in the default browser of your operating system.
                                          </li>
                                        </ul>
                                        <p><br>Congratulations! Your firtst MIRO app is now up and running!</p>
                                        <div class="section-block" style="display:block; margin:auto; text-align:center;"> 
                                            <img class="img-fluid" src="assets/images/initial-screen.png" alt="initial WebUI screen" />
                                        </div>
                                        <p>With the basic configuration you can upload Excel files, modify them from within the interface and start or stop a GAMS job. You also have access to the <i>log</i> and <i>lst</i> files of GAMS as well as all files generated during the run. When the model has finished execution successfully, the results can be examined. 
                                        Since the WebUI is connected to a database, you can store results there, reload data and compare scenarios.</p>
                                    </div><!--//section-block-->    
                            </section><!--//doc-section-->
                            <section id="conventions-section" class="doc-section">
                                <h2 class="section-title">Visualizing GAMS symbols</h2>
                                <div  class="section-block">
                                    <p>In this section we will see how the various GAMS symbols (sets, parameters, scalars, etc.) are integrated and displayed in MIRO.</p>
                                    <p><b>Note</b>: GAMS symbols do not have to be integrated into MIRO. It is clearer and usually even advisable to integrate only those symbols which should be visible and modifiable by the user in the WebUI. If a GAMS symbol is not integrated into MIRO, it will be treated like any other symbol in the model.</p>
                                </div><!--//section-block-->
                                <div  id="display-set"  class="section-block">
                                    <h3 class="block-title">Sets</h3>
                                    <p>Sets are fundamental elements of a GAMS model. In this chapter we show how they can be integrated into MIRO.
                                    <br>Probably the easiest way to integrate a set into MIRO is to declare it between the <code class="language-gams">$onExternalInput
                                    </code> / <code class="language-gams">$offExternalInput
                                    </code> tags:</p>
                                    <pre><code class="language-gams">$onExternalInput
Set
   i 'canning plants'
   j 'markets';
$offExternalInput
</pre></code>
                                    <p>If a set is included in this way, it is displayed in a separate table in MIRO. 
                                    Set tables consist of one column for the set elements and one column for the explanatory text of each element.
                                    <br>Since the sets <span class="code">i</span> and <span class="code">j</span> are displayed in MIRO, their definition is handled directly in MIRO, i.e. filled with content / elements.</p>
                                    <p><b>Note</b>: If a set is loaded from MIRO and this set is part of a parameter at the same time, then the following must be considered:
                                    Every change that is made in the affected parameter can also affect the dependent set. 
                                    <br>Example: If the parameter is extended by an entry, which contains a new set element, then this new set element must also be added in the table of the affected set. 
                                    If this is not taken into account, a domain violation occurs when executing the GAMS model.</p>
                                    <p id="implicit-set"><b>Implicit set definition</b>
                                    <br>The definition / filling of a set can also be done implicitly, without loading the affected set directly from MIRO. 
                                    This can be accomplished using the <a href="https://www.gams.com/latest/docs/UG_SetDefinition.html#UG_SetDefinition_ImplicitSetDefinition" target="_blank"><i>Implicit Set Definition</i></a> (or: <i>Domain Defining Symbol Declarations</i>).
                                    In the following example, the sets are declared outside the <code class="language-gams">$onExternalInput
                                    </code> / <code class="language-gams">$offExternalInput
                                    </code> tags. However, they are defined implicitly by the parameter <code class="language-gams">d(i&lt;,j&lt;)</code>, which is declared within these tags.</p>
                                    <pre><code class="language-gams">Set
   i 'canning plants'
   j 'markets';

$onExternalInput
Parameter d(i&lt;,j&lt;) 'distance in thousands of miles'
$offExternalInput
</pre></code>
                                <p>The <span class="code">&lt;</span> signs signal that the set <span class="code">i</span> will contain all elements which define the first dimension of <span class="code">d</span> and that the set <span class="code">j</span> will contain all elements which define the second dimension of <span class="code">d</span>, respectively.
                                In other words, the elements of parameter <span class="code">d</span> determine the definition of the two sets. This way, you avoid domain violations when loading symbols from MIRO.</p>
                                </div><!--//section-block--> 
                                <div  id="create-3"  class="section-block">
                                    <h3 class="block-title">Parameters</h3>
                                    <p>Parameters are displayed in a table by default. In the default configuration, each <i>index</i> of a GAMS parameter is displayed in a separate column. The last column contains the parameter <i>values</i>. </p>
                                    <p>Example:
                                    <br>Let's have a look at the demo model <i>pickstock</i>. In this model the following input data has been tagged for use in MIRO:</p>
                                    <pre><code class="language-gams">Set date   'date'
    symbol 'stockSymbol';

$onExternalInput    
Parameter price(date,symbol) 'Price';
$offExternalInput
</pre></code>
                                    <p>The parameter <span class="code">price</span> is declared between the mentioned tags <code class="language-gams">$onExternalInput
                                    </code> and <code class="language-gams">$offExternalInput
                                    </code>.
                                    <br>When we start MIRO via <span class="code">--miro=launch</span> and load the <a href="./start.html#create-excel">excel spreadsheet</a> that was automatically created, we see the following input screen:</p>
                                    
                                    <div class="section-block" style="text-align:center;" id="no-header">
                                        <img class="img-fluid" style="max-height:300pt;" src="assets/images/deploy_pickstock2.png" alt="Pickstock: imput symbols displayed in MIRO" />
                                    </div>
                                    
                                    
                                    <p>Since each <i>index</i> is shown in a separate column, each <i>set element</i> of an index will be visible in a separate row. In the given example the parameter <span class="code">price</span> has two indices <span class="code">date</span> and <span class="code">symbol</span>. 
                                    Each index is shown in a separate column named after the explanatory text of the corresponding set (or in case no explanatory text is available, the name of the symbol). 
                                    The value column of a parameter is always named after the explanatory text of the parameter.
                                    </p>
                                    <div class="callout-block callout-success">
                                        <div class="icon-holder">
                                            <i class="fas fa-thumbs-up"></i>
                                        </div><!--//icon-holder-->
                                        <div class="content">
                                            <h4 class="callout-title">Tip:</h4>
                                            <p>You want to see not only tables, but beautiful and meaningful graphics in the WebUI? More about visualization and custom graphics can be found <a href="./customize.html">here</a>.</p>
                                        </div><!--//content-->
                                    </div><!--//callout-block-->
                                    <p><b>Definition of a table header</b>:
                                    <br>Sometimes it can be useful to show each set element of an index in a separate column. Let's take the output parameter <span class="code">dowVSindex</span> as an example. This parameter reports the actual price of the dow jones index as well as the calculated price of the index fund. Note that the elements of the set <span class="code">fHdr</span> are fixed, namely: <span class="code">dow jones</span> and <span class="code">index fund</span>. We want to display each of these prices in a separate column so that we can easily compare them side by side. In order to achieve this type of pivot functionality, we need to <b>change the explanatory text of the parameter</b> that we want to pivot. More precisely, we need to include the keyword: <span class="code">[MIRO:pivot]</span>. 
                                    Doing so will lead to the desired result: <span class="code">dow jones</span> and <span class="code">index fund</span> are shown as separate value columns.</p>
                                    <pre><code class="language-gams">Set date   'date'
    fHdr   'fund header'          / 'dow jones','index fund'  /;

$onExternalOutput    
Parameter dowVSindex(date,fHdr)     'dow jones vs. index fund [MIRO:pivot]';
$offExternalOutput
</pre></code>    
                                    <div class="section-block" style="text-align:center;">
                                        <img class="img-fluid" style="max-height:150pt;"  src="assets/images/multi-col-table.png" alt="Table with Demand and Production time columns" />
                                    </div>
                                    <div class="callout-block callout-warning">
                                      <div class="icon-holder">
                                          <i class="fas fa-info-circle"></i>
                                      </div><!--//icon-holder-->
                                      <div class="content">
                                          <h4 class="callout-title">Note:</h4>
                                          <p>A keyword added to the explanatory text is not displayed in the web interface.</p>
                                      </div><!--//content-->
                                    </div><!--//callout-block-->
                                    <p>Let's now take an example where you want to <b>avoid</b> using this type of pivot functionality: If we were to decide to pivot the index <span class="code">symbol</span> of the parameter <span class="code">price</span>, we would end up with a table where all stock symbols (<span class="code">AAPL</span>, <span class="code">AXP</span>, <span class="code">BA</span>, etc.) would end up being displayed in a separate column:
                                        <pre><code class="language-gams">Set date   'date'
    symbol 'stockSymbol';
    
$onExternalInput
Parameter price(date,symbol) 'Price [MIRO:pivot]';
$offExternalInput
</pre></code>
                                      </p>
                                    <div class="section-block" style="text-align:center;">
                                        <img class="img-fluid" src="assets/images/expand-table.png" alt="Visualization of expanded table" />
                                    </div>
                                    <p>A table width quickly increases when the number of set elements of the header index gets large. A number of, for example, 30 stocks to be represented in a table would lead to 30 stock columns. In this case, we most likely want to stick to the default configuration for a table as shown <a href="#no-header" class="scrollto">first</a>. Please note also that you should only pivot tables where the header remains fixed. The database schema used internally directly depends on the structure of your parameters. This means that adding and removing columns dynamically is not possible! More on this also in the next section.</p>
                                </div><!--//section-block--> 
                                <div class="section-block">
                                   <p><b>Restrictions on the use of headers</b>:
                                   <br>When you decide to pivot a parameter, you should be aware of the following restrictions:</p>
                                   <p>Only those sets can be used as headers, whose elements are not populated in any way from the WebUI. In other words: The explicit or implicit <i>definition</i> of the set must be done outside MIRO. Only sets where the number of elements as well as the values of those elements are fixed can be used!</p>
                                   <p>This means:</p>
                                   <ul>
                                     <li>The set of the of the affected parameter index must not be declared between the <span class="code">$on-/offExternalInput</span> tags.
                                     <br>Example:
                                     <pre><code class="language-gams">$onExternalInput
Set date   'date'
    symbol 'stockSymbol';
    
Parameter price(date,symbol) 'Price [MIRO:pivot]';
$offExternalInput
</pre></code>
                                     <br>Here, the sets <span class="code">date</span> and <span class="code">symbol</span> are declared to be MIRO input elements. 
                                     This means that they are populated and modified explicitly from MIRO. At the same time the set <span class="code">symbol</span> should serve as header for the parameter <span class="code">price</span>. 
                                     Due to the discontinuous number of set elements and the resulting <a href="">discontinuous database structure [link missing]</a> of parameter <span class="code">price</span>, this constellation is not allowed.</li>
                                     <li>The set of the of the affected parameter index must not be <a href="https://www.gams.com/latest/docs/UG_SetDefinition.html#UG_SetDefinition_ImplicitSetDefinition" target="_blank">defined implicitly</a> through data statements of a parameter which use these sets as domains and is displayed in the WebUI at the same time.  
                                     <br>Example:
                                     <pre><code class="language-gams">Set date   'date'
    symbol 'stockSymbol';
 
$onExternalInput 
Parameter price(date&lt;,symbol&lt;) 'Price [MIRO:pivot]';
$offExternalInput
</pre></code>
                                   <br>Here, the sets are declared outside the <span class="code">$on-/offExternalInput</span> tags. But the definition, the population with elements, takes place implicitly via the data statement <span class="code">price(date&lt;,symbol&lt;)</span>. 
                                   The <a href="https://www.gams.com/latest/docs/UG_SetDefinition.html#UG_SetDefinition_ImplicitSetDefinition" target="_blank"><span class="code">&lt;</span> signs</a> signal that the sets <span class="code">date</span> and <span class="code">price</span> will be defined implicitly via the parameter <span class="code">price</span> (see also <a href="#implicit-set" class="scrollto">here</a>).
                                   Since the set <span class="code">symbol</span> should be the header of parameter <span class="code">price</span> but at the same time the set <span class="code">symbol</span> is implicitly defined in the WebUI by parameter <span class="code">price</span>, this constellation is not allowed.</li>
                                   </ul>
                                   <div class="callout-block callout-warning">
                                       <div class="icon-holder">
                                           <i class="fas fa-info-circle"></i>
                                       </div><!--//icon-holder-->
                                       <div class="content">
                                           <h4 class="callout-title">Note:</h4>
                                           <p>These restrictions only apply if the affected set acts as header for a parameter in MIRO.
                                           If a set is not used as a header, then explicit and implicit definitions as seen above are possible, see also <a href="#display-set" class="scrollto">here</a>.</p>
                                       </div><!--//content-->
                                   </div><!--//callout-block-->
                                   <p></p>
                                </div><!--//section-block-->  
                                <div  id="create-4"  class="section-block">
                                    <h3 class="block-title">Scalars</h3>
                                    <p>The handling of <a href="https://www.gams.com/latest/docs/UG_DataEntry.html#UG_DataEntry_Scalars" target="_blank">scalars</a> and 0- or 1-dimensional <a href="https://www.gams.com/latest/docs/UG_SetDefinition.html#UG_SetDefinition_SingletonSets" target="_blank">singleton sets</a> (&le; 1 domains and dimensions) differs from the previously discussed parameters. 
                                    <div class="callout-block callout-success">
                                      <div class="icon-holder">
                                          <i class="fas fa-thumbs-up"></i>
                                      </div><!--//icon-holder-->
                                      <div class="content">
                                          <h4 class="callout-title">Note:</h4>
                                          <p>Scalars and 0- or 1-dimensional singleton sets are collected in a joint table in the interface by default.</p>
                                      </div><!--//content-->
                                    </div><!--//callout-block-->
                                    They are merged in a joint table in the interface by default. This means that all scalars defined in the GAMS model within the <span class="code">$on</span>/<span class="code">offExternalInput</span> and -<span class="code">output</span> are shown in MIRO in one single table called <span class="code">scalars</span>. The same is also true for output scalars. These are summarized in the results section in table called <span class="code">scalars_out</span>.
                                    <br>Example:</p>
                                    <pre><code class="language-gams">$onExternalInput 
Scalar f    'freight in dollars per case per thousand miles' / 90 /
       minS 'minimum shipment (MIP- and MINLP-only)' / 100 /
       beta 'beta (MINLP-only)' / 0.95 /;
Singleton Set  single  'Singleton Set'    / element  /;
$offExternalInput
</pre></code>
                                    <p>Here we have declared the scalar input data <span class="code">f</span>, <span class="code">minS</span> and <span class="code">beta</span> as well as a singleton set <span class="code">single</span> between the input tags. In MIRO, they are all displayed in a single table:
                                    <div class="section-block" style="text-align:center;">
                                          <img class="img-fluid" style="max-height:200pt;" src="assets/images/scalars-table.png" alt="Visualization of scalars and singleton sets in a table" />
                                    </div>
                                    <p>Instead of representing an input scalar as a row in a table, you can opt to display it using one of the <i>input widgets</i> MIRO ships with.
                                    Scalar values are well suited for representation as a slider, dropdown menu, checkbox or date selector. You can learn more about this <a href="./customize.html#widgets-scalars">here</a>.</p>
                                    <div class="callout-block callout-success">
                                            <div class="icon-holder">
                                                <i class="fas fa-thumbs-up"></i>
                                            </div><!--//icon-holder-->
                                            <div class="content">
                                                <h4 class="callout-title">Tip:</h4>
                                                <p>In the scenario selection module of the <a href="./hypercube.html#analyze-2">Hypercube mode</a> you can search for scalar data of a scenario, making it easy to find matching scenarios.</p>
                                            </div><!--//content-->
                                        </div><!--//callout-block-->
                                    </div><!--//section-block-->
                                <div  id="display-sinset"  class="section-block">
                                    <h3 class="block-title">Singleton Sets</h3>
                                    <p>A <a href="https://www.gams.com/26/docs/UG_SetDefinition.html#UG_SetDefinition_SingletonSets" target="scrollto">singleton set</a> in GAMS is a special set that has at most one element (zero elements are allowed as well). 
                                    Like other sets, singleton sets may have a domain with several dimensions. 
                                    As already explained <a href="#create-4" class="scrollto">here</a>, 0- and 1-dimensional singleton sets are displayed together with scalars in a joint table. 
                                    Multi-dimensional singleton sets, on the other hand, are each displayed in a separate table.
                                    <br>Example:</p>
                                    <pre><code class="language-gams">$onExternalInput 
Singleton Set 
   multidim(i,j)  'multidimensional singleton set'  / seattle.topeka /
   multidim2(i,j) 'another multidimensional singleton set' / seattle.chicago /;
$offExternalInput
</pre></code>
                                    <div class="section-block" style="text-align:center;">
                                          <img class="img-fluid" style="max-height:200pt;" src="assets/images/singleton-multi-table.png" alt="Visualization of multidimensional singleton sets in a table" />
                                    </div>
                                </div><!--//section-block--> 
                                <div  id="display-var"  class="section-block">
                                    <h3 class="block-title">Variables</h3>
                                    <p><a href="https://www.gams.com/latest/docs/UG_Variables.html" target="blank">Variables</a> are entities whose values are unknown until after a model has been solved. 
                                    For this reason, variables can only be integrated into MIRO to show results. Therefore, if we want to display a variable in MIRO, we need to declare it between the <code class="language-gams">$onExternalOutput
                                    </code> / <code class="language-gams">$offExternalOutput
                                    </code> tags.</p>
                                    <p>Another property of variables: While a GAMS parameter has a single value associated with each unique label combination, a variable has several (<span class="code">level</span>, <span class="code">marginal</span>, <span class="code">lower bound</span>, <span class="code">upper bound</span> and <span class="code">scale</span>).
                                    When you tag a variable to be displayed in MIRO, all of its attributes will be displayed. If you are only interested in a subset of the attributes, you need to assign them to a parameter and tag this parameter for display in MIRO.</p>
                                    <p>In the following example we integrate the variable <span class="code">x</span> into MIRO.</p>
                                    <pre><code class="language-gams">$onExternalOutput 
Variable x(i,j) 'shipment quantities in cases';
$offExternalOutput
</pre></code>
                                    <p>The resulting table then looks like this:</p>
                                    <div class="section-block" style="text-align:center;">
                                          <img class="img-fluid" style="max-height:200pt;" src="assets/images/variable-table.png" alt="Visualization of variables in a table" />
                                    </div>
                                    <p></p>
                                </div><!--//section-block--> 
                                <div  id="display-eq"  class="section-block">
                                    <h3 class="block-title">Equations</h3>
                                    <p>Equations are treated identically with variables, i.e. they have a fixed number of 4 value columns, namely <span class="code">level</span>, <span class="code">marginal</span>, <span class="code">lower bound</span>, <span class="code">upper bound</span> and <span class="code">scale</span>.
                                    <br>Example:</p>
                                    <pre><code class="language-gams">$onExternalOutput 
Equation
  demand(j)   'satisfy demand at market j' ;
$offExternalOutput
</pre></code>
                                    <p>This leads to the following table:</p>
                                    <div class="section-block" style="text-align:center;">
                                          <img class="img-fluid" style="max-height:200pt;" src="assets/images/equation-table.png" alt="Visualization of equations in a table" />
                                    </div>
                                </div><!--//section-block--> 
                                <div  id="display-scalar-vareq"  class="section-block">
                                    <h3 class="block-title">Scalar Variables & Equations</h3>
                                    <p>As with scalars, 0-dimensional variables and equations are also specially treated here in order to save space. Examples for 0-dimensional variables and equations are the objective function value and the objective function. 
                                    Since the dimension of both types is the same, 0-dimensional variables and equations are displayed together in one table (similar to <a href="#create-4" class="scrollto">scalars and 0/1-dimensional singleton sets</a> here). </p>
                                    <pre><code class="language-gams">$onExternalInput
Variable z      'total transportation costs in thousands of dollars';
Equation cost   'define objective function';
$offExternalInput
</pre></code>
                                    <div class="section-block" style="text-align:center;">
                                          <img class="img-fluid" style="max-height:200pt;" src="assets/images/eq-var-table.png" alt="Visualization of equations in a table" />
                                    </div>
                                </div><!--//section-block--> 
                                <div  id="create-compile"  class="section-block">
                                    <h3 class="block-title">Command line parameters</h3>
                                    <p>In addition to GAMS symbols like parameters and scalars, command line parameters (<a href="https://www.gams.com/latest/docs/UG_GamsCall.html#UG_GamsCall_SpecifyingOptionsThroughTheCommandLine" target="_blank">GAMS Options</a> and <a href="https://www.gams.com/latest/docs/UG_GamsCall.html#UG_GamsCall_DoubleDashParametersEtcSimpleExample" target="_blank">Double dash parameters</a>) can also be set from within MIRO.
                                    The configuration of these command line parameters differs from that of GAMS symbols. While sets, parameters, scalars etc. are declared directly in the GAMS code and can therefore be tagged, command line parameters lack such a formal declaration. 
                                    To be able to set them from MIRO, you must declare them in the config.json file. 
                                    Read more about this topic <a href="./customize.html#widgets-commandLine">here</a>.
                                    </p>
                                </div><!--//section-block-->
                                <div  id="create-db"  class="section-block">
                                    <h3 class="block-title">Database</h3>
                                    <p>MIRO is connected to a database where all your scenario data is stored. By default, MIRO uses the relational database <a href="https://www.sqlite.org/index.html" target=_blank">SQLite</a>.</p>
                                    <p>The first time you save a scenario in the database, the schema of your GAMS input and output symbols is analyzed and the database schema derived from that. This has important implications: in case you change the underlying model, the database schema changes as well. If the two schemas are incompatible (e.g. because you added another index to a parameter), MIRO will issue an error as it won't just overwrite existing data. 
                                    To resolve this, the database tables of your model must be recreated, resulting in the loss of all previously stored data. To avoid this, you can save your database tables before removing them; manually adjust the saved records to your new schema (e.g. add/remove columns) and then use the result to restore your database. You can do so by using the admin mode built into MIRO. In addition to launching MIRO via <span class="code">--miro=launch</span>, you can tell MIRO to launch in admin mode via: <span class="code">--miromode=admin</span>.</p>
                                    <div class="callout-block callout-warning">
                                       <div class="icon-holder">
                                           <i class="fas fa-info-circle"></i>
                                       </div><!--//icon-holder-->
                                       <div class="content">
                                           <h4 class="callout-title">Note:</h4>
                                           <p>In case you saved a lot of data in your database you should use the native backup capabilities of SQLite rather than using the MIRO admin mode.</p>
                                       </div><!--//content-->
                                   </div><!--//callout-block-->
                                </div><!--//section-block-->
                                <div  id="create-custom"  class="section-block">
                                    <h3 class="block-title">Custom configuration</h3>
                                    <p>When the basic interface between a GAMS model and MIRO is configured, you can start customizing MIRO to leverage its full potential. GAMS MIRO comes with various pre-implemented graphic tools: at the moment these are pie charts, bar charts, line charts, scatter plots, histograms and pivot tables. To create graphics that are perfectly tailored to your data, you can use MIRO's R-API.</p>
                                    <div class="section-block" style="text-align:center;">
                                            <img class="img-fluid" src="assets/images/gams_webui.png" alt="GAMS WebUI - visualization" />
                                    </div>
                                    <p>Have a look at the <a href="./customize.html">next section</a> and learn how to customize MIRO.</p>
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                        </div><!--//content-inner-->
                    </div><!--//doc-content-->
                    <div class="doc-sidebar col-md-3 col-12 order-0 d-none d-md-flex">
                        <div id="doc-nav" class="doc-nav">
	                        <nav id="doc-menu" class="nav doc-menu flex-column sticky">
	                            <a class="nav-link scrollto" href="#creating-section">Turn your GAMS model into a MIRO app</a>
                                  <nav class="doc-sub-menu nav flex-column">
                                    <a class="nav-link scrollto" href="#create-2">Model adjustments</a>
                                    <a class="nav-link scrollto" href="#create-5">Generating model-specific configuration files</a>
                                </nav><!--//nav-->
                                <a class="nav-link scrollto" href="#conventions-section">Visualizing GAMS symbols</a>
                                  <nav class="doc-sub-menu nav flex-column">
                                    <a class="nav-link scrollto" href="#display-set">Sets</a>
                                    <a class="nav-link scrollto" href="#create-3">Parameters</a>
                                    <a class="nav-link scrollto" href="#create-4">Scalars</a>
                                    <a class="nav-link scrollto" href="#display-sinset">Singeton Sets</a>
                                    <a class="nav-link scrollto" href="#display-var">Variables</a>
                                    <a class="nav-link scrollto" href="#display-eq">Equations</a>
                                    <a class="nav-link scrollto" href="#display-scalar-vareq">Scalar Variables & Equations</a>
                                </nav><!--//nav-->
                                <a class="nav-link scrollto" href="#create-compile">Command line Parameters</a>
                                <a class="nav-link scrollto" href="#create-db">Database</a>
                                <a class="nav-link scrollto" href="#create-custom">Custom configuration</a>
                                  
	                        </nav><!--//doc-menu-->
                        </div>
                    </div><!--//doc-sidebar-->
                </div><!--//doc-body-->
            </div><!--//container-->
        </div><!--//doc-wrapper-->

    </div><!--//page-wrapper-->

    <footer id="footer" class="footer text-center">
        <div class="container">
            <!--/* This template is released under the Creative Commons Attribution 3.0 License. Please keep the attribution link below when using for your own project. Thank you for your support. :) If you'd like to use the template without the attribution, you can buy the commercial license via our website: themes.3rdwavemedia.com */-->
            

        </div><!--//container-->
    </footer><!--//footer-->


    <!-- Main Javascript -->
    <script type="text/javascript" src="assets/plugins/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>
    <script type="text/javascript" src="assets/plugins/stickyfill/dist/stickyfill.min.js"></script>
    <script type="text/javascript" src="assets/plugins/prism/min/prism-min.js"></script>
    <script type="text/javascript" src="assets/js/main.js"></script>

</body>
</html>
