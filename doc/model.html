<!DOCTYPE html>
<html lang="en">
<head>
    <title>GAMS WebUI documentation</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.ico">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <!-- FontAwesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.1.1/js/all.js" integrity="sha384-BtvRZcyfv4r0x/phJt9Y9HhnN5ur1Z+kZbKVgzVBAlQZX4jvAuImlIz+bG7TS00a" crossorigin="anonymous"></script>
    <!-- Global CSS -->
    <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="assets/plugins/prism/prism.css">
    <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css">

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/styles.css">

</head>

<body class="body-orange">
    <div class="page-wrapper">
        <!-- ******Header****** -->
        <header id="header" class="header">
            <div class="container">
                <div class="branding">
                    <h1 class="logo">
                        <a href="index.html">
                          <img class="img-fluid" style="height:50px;" src="assets/images/logo.svg" onerror="this.onerror=null; this.src='assets/images/logo.png'" alt="logo"/>
                            <span class="text-highlight">GAMS</span><span class="text-bold">WebUI</span>
                        </a>
                    </h1>
                </div><!--//branding-->
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                    <li class="breadcrumb-item active">Model deployment</li>
                </ol>
            </div><!--//container-->
        </header><!--//header-->
        <div class="doc-wrapper">
            <div class="container">
                <div id="doc-header" class="doc-header text-center">
                    <h1 class="doc-title"><i class="icon fa fa-paper-plane"></i> Model deployment</h1>
                    <div class="meta"><i class="far fa-clock"></i> Last updated: Jauary 14th, 2019</div>
                </div><!--//doc-header-->
                <div class="doc-body row">
                    <div class="doc-content col-md-9 col-12 order-1">
                        <div class="content-inner">
                            <section id="introduction-section" class="doc-section">
                                <h2 class="section-title">Introduction</h2>
                                <div id="model-1"  class="section-block">
                                    <p>After testing the demo applications, let's now prepare an existing GAMS model for use with the WebUI. An essential feature of GAMS WebUI is that this can be done in a fast, easy and automated way. For a better understanding it may be helpful to have a look at the GAMS code of the <a href="./start.html#start-1">demo applications</a>.</p>
                                    <p>The well-established trnsport model is included as fully integrated demo application in the WebUI. 
                                        However, for illustration purposes we now take the original trnsport.gms model from the GAMS <a href="https://www.gams.com/latest/gamslib_ml/libhtml/" target="_blank">model library</a>. This model will be adapted for use with the WebUI in a few steps and within a few minutes.
                                        </p><p>If you want to go through the step by step instructions with the trnsport model, then download the corresponding file from the Model library and put it in a directory of your choice.</p>
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                            <section id="creating-section" class="doc-section">
                                <h2 class="section-title">Turn your GAMS model into a WebUI</h2>
                                    <div  id="create-1"  class="section-block">
                                        <p>To be able to use the WebUI, an interface must be created between WebUI and the GAMS model to be deployed. This interface primarily consists of the information which symbols of the GAMS model should be visible (and changeable) by the user from within the WebUI. Those GAMS symbols must be flagged in the GAMS code. </p>
                                        <div class="callout-block callout-success">
                                            <div class="icon-holder">
                                                <i class="fas fa-thumbs-up"></i>
                                            </div><!--//icon-holder-->
                                            <div class="content">
                                                <h4 class="callout-title">Note:</h4>
                                                <p>A GAMS model still can be used in the normal way (via <i>GAMS Studio</i>, <i>GAMSIDE</i> or the console) after the following adjustments</p>
                                            </div><!--//content-->
                                        </div>
                                        <p>In principle, there are only three steps to be done:</p>
                                        <ol>
                                          <li>Flag input data with <code class="language-gams">$onExternalInput
                                          </code> / <code class="language-gams">$offExternalInput
                                          </code> or <code class="language-gams">'UIInput: '</code></li>
                                          <li>Flag output data with <code class="language-gams">$onExternalInput
                                          </code> / <code class="language-gams">$offExternalInput
                                          </code> or <code class="language-gams">'UIOutput: '</code></li>
                                          <li>At the very end of the model include (<span class="code"><a href="https://www.gams.com/latest/docs/UG_DollarControlOptions.html#DOLLARlibinclude" target="_blank">$libinclude</a></span>) the file <span class="code">webui</span> with <code class="language-gams">$libinclude 
                                          webui</code></li>
                                        </ol>
                                        We will examine these steps more closely in the following.
                                    </div><!--//section-block-->
                                    <div  id="create-2"  class="section-block">
                                        <h3 class="block-title">Model adjustments</h3>
                                        <p>Every GAMS model can be launched inside the WebUI in just a few steps. First, those GAMS symbols that you want to be visible in the interface need to be declared. This can be done by framing the corresponding symbols with the tags <code class="language-gams">$onExternalInput
                                        </code> / <code class="language-gams">$offExternalInput
                                        </code> for input data and <code class="language-gams">$onExternalOutput
                                        </code> / <code class="language-gams">$offExternalOutput
                                        </code> for output data. These tags can be used multiple times within a model. Alternatively one can write <code class="language-gams">'UIInput: '</code> or <code class="language-gams">'UIOutput: '</code> at the beginning of the explanatory text of a GAMS symbol to include this symbol in the WebUI. Symbols which are not tagged with one of these markers wonâ€™t be visible in the Web Interface, but they are used within the model run in the background.
                                        </p><p><b>Note:</b> Those symbols which shall be displayed in the WebUI must have an explanatory text in case you are using a GAMS version below 25.2.</p>
                                        <p>The code below shows a simple example for this:</p>
                                        <pre><code class="language-gams">$onExternalInput
Parameter
   symbol_1(dim1, dim2)  'Displayed in WebUI (model input data)'
   symbol_2(dim3)        'Displayed in WebUI (model input data)';
$offExternalInput

Parameter
   symbol_3(dim4)        'NOT displayed in WebUI'
   symbol_4(dim5)        'UIOutput: Displayed in WebUI (model output data)';</code></pre> 
                                        <p>Here, the parameters <span class="code">symbol_1</span> and <span class="code">symbol_2</span> are declared between the mentioned tags <span class="code">$onExternalInput</span> and <span class="code">$offExternalInput</span>. They will be visible in the WebUI (e.g. as tables).
                                        <br><span class="code">symbol_3</span>, on the other hand, was declared outside of said keywords. This parameter will not be visible in the WebUI, however, it is still used as normal parameter in the GAMS model.
                                        <br><span class="code">symbol_4</span> will be displayed in the WebUI as output data because its explanatory text starts with <span class="code">UIOutput</span>.</p>
                                        <p>The following Symbols can be communicated via the WebUI:</p>
                                        <ul>
                                          <li><a href="https://www.gams.com/latest/docs/UG_SetDefinition.html" target="_blank">Sets</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_DataEntry.html#UG_DataEntry_Parameters" target="_blank">Parameters</a> / <a href="https://www.gams.com/latest/docs/UG_DataEntry.html#UG_DataEntry_Tables" target="_blank">Tables</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_DataEntry.html#UG_DataEntry_Scalars" target="_blank">Scalars</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_SetDefinition.html#UG_SetDefinition_SingletonSets" target="_blank">Singleton Sets</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_Variables.html" target="_blank">Variables</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_Equations.html" target="_blank">Equations</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_GamsCall.html#UG_GamsCall_SpecifyingOptionsThroughTheCommandLine" target="_blank">GAMS Options</a></li>
                                          <li><a href="https://www.gams.com/latest/docs/UG_GamsCall.html#UG_GamsCall_DoubleDashParametersEtcSimpleExample" target="_blank">Compile-time Variables</a></li>
                                        </ul>
                                        <p>The configuration of GAMS Options and Compile-time Variables differs from the other symbols. Learn more about this <a href="#create-compile" class="scrollto">here</a>.</p>
                                        <p>Let's try this for our demo model <i>trnsport</i> now. This is what the input data section of the model looks like when we have loaded it from the Model library:</p>
                                        <pre><code class="language-gams">Set
   i 'canning plants' / seattle,  san-diego /
   j 'markets'        / new-york, chicago, topeka /;

Parameter
   a(i) 'capacity of plant i in cases'
        / seattle    350
          san-diego  600 /

   b(j) 'demand at market j in cases'
        / new-york   325
          chicago    300
          topeka     275 /;

Table d(i,j) 'distance in thousands of miles'
              new-york  chicago  topeka
   seattle         2.5      1.7     1.8
   san-diego       2.5      1.8     1.4;

Scalar f 'freight in dollars per case per thousand miles' / 90 /;

Parameter c(i,j) 'transport cost in thousands of dollars per case';</code></pre> 
                                        <p>Meaningful input data for the WebUI could be the symbols <span class="code">a</span>, <span class="code">b</span>, <span class="code">d</span> and <span class="code">f</span>. In order to make these symbols visible in the WebUI, we now mark them with said tags:</p>
                                        <pre><code class="language-gams">Set
   i 'canning plants' / seattle,  san-diego /
   j 'markets'        / new-york, chicago, topeka /;
   
$onExternalInput
Parameter
   a(i) 'capacity of plant i in cases'
        / seattle    350
          san-diego  600 /

   b(j) 'demand at market j in cases'
        / new-york   325
          chicago    300
          topeka     275 /;

Table d(i,j) 'distance in thousands of miles'
              new-york  chicago  topeka
   seattle         2.5      1.7     1.8
   san-diego       2.5      1.8     1.4;

Scalar f 'freight in dollars per case per thousand miles' / 90 /;
$offExternalInput
</code></pre> 
                                        <p>As output data the final objective function value can be used, for example. Since variables cannot be displayed in the WebUI, we define a new scalar for this purpose, mark it as output value for the WebUI and assign it the final objective function value after the completed calculations:</p>
                                        <pre><code class="language-gams">[...]
                                        
Model transport / all /;

solve transport using lp minimizing z;
display x.l, x.m;


$onExternalOutput
Scalar total_cost 'total transportation costs in thousands of dollars';
$offExternalOutput

total_cost = z.l;</code></pre> 
                                        <p>With this we have defined both input and output data for use in the WebUI. 
                                        <br> A last step now is to include a file <span class="code">webui.gms</span> by a <code class="language-gams">$libinclude 
                                        webui</code> <b>at the very end of the GAMS model</b>. With the help of this file all model specific configuration files are created automatically.</p>
                                        <pre><code class="language-gams">[...]
                                        
Model transport / all /;

solve transport using lp minimizing z;
display x.l, x.m;


$onExternalOutput
Scalar total_cost 'total transportation costs in thousands of dollars';
$offExternalOutput

total_cost = z.l;

$libInclude webui
</code></pre> 
                                        <p><b>Note</b>: The file webui.gms is copied into the <i> GAMS library include directory</i> (by default, this is the directory <i>inclib</i> in the GAMS system directory) during the WebUI installation and can be included with a <span class="code"><a href="https://www.gams.com/latest/docs/UG_DollarControlOptions.html#DOLLARlibinclude" target="_blank">$libinclude</a></span>.</p>
                                        <p>That's it. The model is now ready in a first version for use with the WebUI.</p>
                                        <div class="callout-block callout-success">
                                          <div class="icon-holder">
                                              <i class="fas fa-thumbs-up"></i>
                                          </div><!--//icon-holder-->
                                          <div class="content">
                                              <h4 class="callout-title">Note:</h4>
                                              <p>You can also use the WebUI to set GAMS options and compile-time variables for a model run. More about this is explained <a href="#pickstock_externalinput" class="scrollto">here</a>.</p>
                                          </div><!--//content-->
                                        </div><!--//callout-block-->
                                    </div><!--//section-block-->
                                        
                                    <div id="create-5" class="section-block">
                                        <h3 class="block-title">Generating model-specific configuration files</h3>
                                        <p>In the next step the model-specific configuration files for the Web Interface are created.</p>
                                        <ul>
                                          <li>Run the model with the compile time parameter <span class="code">--webui=build</span>.
                                            <div class="section-block" style="text-align:center;">
                                                <img class="img-fluid" style="max-height:45pt;" src="assets/images/webui-compile.png" alt="--webui=build" />
                                            </div>
                                            <div class="callout-block callout-warning">
                                                <div class="icon-holder">
                                                    <i class="fas fa-info-circle"></i>
                                                </div><!--//icon-holder-->
                                                <div class="content">
                                                    <h4 class="callout-title">Warning:</h4>
                                                    <p>If you use a GAMS <span class="code">$call</span> inside a model you need to pay attention to the path of external files you might include in this call. This is due to the different working directories depending on whether a GAMS model is run from the WebUI or not. The GAMS WebUI is providing you the path to your model file via the GAMS option <span class="code"><a href="https://www.gams.com/latest/docs/UG_GamsCall.html#GAMSAOinputdir" target="_blank">idir1</a></span>. This means that in order to e.g. import an Excel file <span class="code">test.xlsx</span>, the GDXXRW tool needs to be called like this: <kbd>$call gdxxrw i="%gams.idir1%test.xlsx"</kbd>. Alternatively, you may use absolute paths.</p>
                                                </div><!--//content-->
                                            </div><!--//callout-block-->
                                          </li>
                                          <li>After the run, a new folder named <i>conf</i> is automatically created in your model directory. This folder contains the file <span class="code">GMSIO_config.json</span>. In this file you can find the configuration of the input and output symbols in JSON Synax, which were previously defined in the GAMS model between the <span class="code">$on</span>/<span class="code">offExternalInput</span> and -<span class="code">output</span> tags.
                                            </br>The model folder also contains an Excel file with the same name as your model file. This Excel file contains all the relevant input data that was extracted from your model and can be used to populate your WebUI.
                                            <div class="callout-block callout-warning">
                                                <div class="icon-holder">
                                                    <i class="fas fa-info-circle"></i>
                                                </div><!--//icon-holder-->
                                                <div class="content">
                                                    <h4 class="callout-title">Note:</h4>
                                                    <p>In case you don't find an Excel file with the data, please make sure the <span class="code">xlsxwriter</span> Python module was successfully installed (c.f. <a href="./start.html#pip_install">here</a>).</p>
                                                </div><!--//content-->
                                            </div><!--//callout-block-->
                                          </li>
                                          <li>The very basic configuration is now done. You can start the WebUI by running the model again, this time with <span class="code" style="white-space:nowrap">--webui=launch</span>.
                                            <div class="section-block" style="text-align:center;">
                                                <img class="img-fluid" src="assets/images/webui-launch.png" alt="--webui=launch" />
                                            </div>
                                            The first time this is done, all R packages needed for the WebUI will be automatically installed. This may take a while. When the installation is complete, the WebUI opens with the default browser of the operating system.
                                          </li>
                                        </ul>
                                        <p><br>Congratulations! A first version of your new WebUI is now up and running!</p>
                                        <div class="section-block" style="display:block; margin:auto; text-align:center;"> 
                                            <img class="img-fluid" src="assets/images/initial-screen.png" alt="initial WebUI screen" />
                                        </div>
                                        <p>With the basic configuration you can upload Excel files, modify them from within the interface and start or stop a GAMS job. You also have access to the <i>log</i> and <i>lst</i> files of GAMS. When the model run has finished successfully, the results can be examined. 
                                        Since the WebUI is connected to a database, you can store results there, reload data and compare scenarios.</p>
                                    </div><!--//section-block-->    
                            </section><!--//doc-section-->
                            <section id="conventions-section" class="doc-section">
                                <h2 class="section-title">Display of GAMS Symbols</h2>
                                <div  class="section-block">
                                    <p>In this section we will see how the various GAMS symbols (sets, parameters, scalars, etc.) are integrated and displayed in the WebUI.</p>
                                    <p><b>Note</b>: GAMS symbols do not have to be integrated into the WebUI. It is clearer and usually even advisable to integrate only those symbols which should be visible and modifiable by the user in the WebUI. If a GAMS symbol is not integrated into the WebUII, it will be treated like any other symbol in the model.</p>                                    
                                </div><!--//section-block-->
                                <div  id="display-set"  class="section-block">
                                    <h3 class="block-title">Sets</h3>
                                    <p>Sets are fundamental elements of a GAMS model. In this chapter we show how they can be integrated into the WebUI.
                                    <br>Probably the easiest way to integrate a set into the WebUI is to declare them between the <code class="language-gams">$onExternalInput
                                    </code> / <code class="language-gams">$offExternalInput
                                    </code> tags:</p>
                                    <pre><code class="language-gams">$onExternalInput
Set
   i 'canning plants'
   j 'markets';
$offExternalInput
</pre></code>
                                    <p>If a set is included in this way, it is displayed in a separate table in the WebUI. 
                                    Set tables consist of one column for the set elements and one column for the explanatory text of each element.
                                    <br>Since the sets <span class="code">i</span> and <span class="code">j</span> are displayed in the WebUI, they are defined for a model run directly from the WebUI, i.e. filled with content / elements.</p>
                                    <p><b>Note</b>: If a set is integrated into the Webui and this set is part of a parameter at the same time, then the following must be considered:
                                    Every change that is made in the affected parameter from within the WebUI can also affect the included set. 
                                    <br>Example: If the parameter is extended by an entry, which contains a new set element, then this new set element must also be added in the table of the affected set. 
                                    If this is not taken into account, a domain violation occurs when executing the GAMS model.</p>
                                    <p id="implicit-set"><b>Implicit set definition</b>
                                    <br>The definition / filling of a set can also be done implicitly via the WebUI, without the affected set being integrated into the WebUI. 
                                    This can be done using the <a href="https://www.gams.com/latest/docs/UG_SetDefinition.html#UG_SetDefinition_ImplicitSetDefinition" target="_blank"><i>Implicit Set Definition</i></a> (or: <i>Domain Defining Symbol Declarations</i>).
                                    In the following example, the sets are declared outside the <code class="language-gams">$onExternalInput
                                    </code> / <code class="language-gams">$offExternalInput
                                    </code> tags. However, they are defined implicitly by the parameter <code class="language-gams">d(i&lt;,j&lt;)</code>, which is declared within these tags.</p>
                                    <pre><code class="language-gams">Set
   i 'canning plants'
   j 'markets';

$onExternalInput
Parameter d(i&lt;,j&lt;) 'distance in thousands of miles'
$offExternalInput
</pre></code>
                                <p>The <span class="code">&lt;</span> signs signal, that the set <span class="code">i</span> will contain all elements which define the first dimension of <span class="code">d</span> and that the set <span class="code">j</span> will contain all elements which define the second dimension of <span class="code">d</span>, respectively.
                                In other words, the Elements of parameter <span class="code">d</span> in the WebUI determines the definition of the two sets.</p>
                                </div><!--//section-block--> 
                                <div  id="create-3"  class="section-block">
                                    <h3 class="block-title">Parameters</h3>
                                    <p>Parameters are displayed in a table by default. In the default WebUI configuration, each <i>index</i> of a GAMS Parameter is shown in a separate column. The last column contains the parameter <i>values</i>. </p>
                                    <p>Example:
                                    <br>Let's have a look at the demo model Pickstock. In this model the following input data has been marked for use within the WebUI (extract):</p>
                                    <pre><code class="language-gams">Set date   'date'
    symbol 'stockSymbol';

$onExternalInput    
Parameter price(date,symbol) 'Price';
$offExternalInput
</pre></code>
                                    <p>The parameter <span class="code">price</span> is declared between the mentioned tags <code class="language-gams">$onExternalInput
                                    </code> and <code class="language-gams">$offExternalInput
                                    </code>.
                                    <br>When starting the WebUI via <span class="code">--webui=launch</span> and loading the <a href="./start.html#create-excel">newly created excel spreadsheet</a> into the WebUI, the following input screen appears:</p>
                                    
                                    <div class="section-block" style="text-align:center;" id="no-header">
                                        <img class="img-fluid" style="max-height:300pt;" src="assets/images/deploy_pickstock2.png" alt="Pickstock: imput symbols displayed in the WebUI" />
                                    </div>
                                    
                                    
                                    <p>Since each <i>index</i> is shown in a separate column, each <i>set element</i> of an index will be visible in a separate row. In the given example the Parameter <span class="code">price</span> has two indices <span class="code">date</span> and <span class="code">symbol</span>. 
                                    Each index is shown in a separate column named after the explanatory text of the corresponding set (or in case no explanatory text is available, the name of the symbol). 
                                    The value column of a parameter is always named '<i>value</i>'.
                                    </p>
                                    <div class="callout-block callout-success">
                                        <div class="icon-holder">
                                            <i class="fas fa-thumbs-up"></i>
                                        </div><!--//icon-holder-->
                                        <div class="content">
                                            <h4 class="callout-title">Tip:</h4>
                                            <p>You want to see not only tables, but beautiful and meaningful graphics in the WebUI? More about visualization and custom graphics can be found <a href="./customize.html">here</a>.</p>
                                        </div><!--//content-->
                                    </div><!--//callout-block-->
                                    <p><b>Definition of a table header</b>:
                                    <br>Sometimes it can be useful to show each set element of an index in a separate column of the table. For the parameter of the example above this would mean to have a column not for the set <span class="code">symbol</span> ("<span class="code">stockSymbol</span>") itself but for all its elements <span class="code">AAPL</span>, <span class="code">AXP</span>, <span class="code">BA</span>, etc. 
                                    <br>In order to achieve this type of pivot functionality, we need to <b>change the explanatory text of the parameter</b> which should have a header. More precisely, we need to add a <i>keyword</i> to the explanatory text. 
                                    <br>Keywords are: <span class="code">header</span>, <span class="code">hdr</span> and <span class="code">pivot</span>.</p>
                                    <p>In the example this is done with parameter <span class="code">price</span>:</p>
                                        <pre><code class="language-gams">Set date   'date'
    symbol 'stockSymbol';
    
$onExternalInput
Parameter price(date,symbol) 'Price [pivot]';
$offExternalInput
</pre></code>
                                      </p>
                                    
                                    <p>Behind the original description of the parameter we simply write '<i>[pivot]</i>'. When internally parsing through a parameter and one of the keywords is found, the elements of the last index of that parameter will be displayed in the header.
                                    <br>The result is shown in below:</p>
                                    <div class="section-block" style="text-align:center;">
                                        <img class="img-fluid" src="assets/images/expand-table.png" alt="Visualization of expanded table" />
                                    </div>
                                    <p>Each element of <span class="code">symbol</span> (<span class="code">AAPL</span>, <span class="code">AXP</span>, <span class="code">BA</span>, etc.) is now represented in its own column.</p>
                                    <div class="callout-block callout-warning">
                                      <div class="icon-holder">
                                          <i class="fas fa-info-circle"></i>
                                      </div><!--//icon-holder-->
                                      <div class="content">
                                          <h4 class="callout-title">Note:</h4>
                                          <p>A keyword added to the explanatory text is not displayed in the web interface.</p>
                                      </div><!--//content-->
                                    </div><!--//callout-block-->
                                    <p>A table width quickly increases when the number of set elements of the header index gets higher. A number of, for example, 30 stocks to be represented in a table would lead to 30 stock columns. In this case the default configuration for a table as shown <a href="#no-header" class="scrollto">first</a> might be better.</p>
                                    <p>If a Parameters with <b>multiple value columns</b> has to be displayed within the WebUI, a manual definition of the header is <b>mandatory</b>. In the pickstock model considered here, this is done with the result parameter <span class="code">dowVSindex</span>. By defining the Index <span class="code">fHdr</span> as last index of <span class="code">dowVSindex</span>, the set elements <span class="code">dow jones</span> and <span class="code">index fund</span> are shown as value columns in the WebUI table.</p>
                                    <pre><code class="language-gams">Set date   'date'
    fHdr   'fund header'          / 'dow jones','index fund'  /;

$onExternalOutput    
Parameter dowVSindex(date,fHdr)     'dow jones vs. index fund [pivot]';
$offExternalOutput
</pre></code>    
                                    <p><br>Resulting in the following table:</p>
                                    <div class="section-block" style="text-align:center;">
                                        <img class="img-fluid" style="max-height:150pt;"  src="assets/images/multi-col-table.png" alt="Table with Demand and Production time columns" />
                                    </div>
                                </div><!--//section-block--> 
                                <div class="section-block">
                                   <p><b>Restrictions on the use of headers</b>:
                                   <br>If a domain of a parameter (here: the set elements of the last index) is to be displayed as header, the following restrictions must be followed:</p>
                                   <p>Only those Sets can be used as headers, whose elements are not populated in any way from the WebUI. In other words: The explicit or implicit <i>definition</i> of the set must be done outside the WebUI.</p>
                                   <p>This means:</p>
                                   <ul>
                                     <li>The set of the of the affected parameter index must not be declared between the <span class="code">$on-/offExternalInput</span> tags.
                                     <br>Example:
                                     <pre><code class="language-gams">$onExternalInput
Set date   'date'
    symbol 'stockSymbol';
    
Parameter price(date,symbol) 'Price [pivot]';
$offExternalInput
</pre></code>
                                     <br>Here, the Sets <span class="code">date</span> and <span class="code">symbol</span> are declared between the WebUI tags. 
                                     So they are displayed in separate tables in the WebUI and can be changed from there. The definition of the sets, i.e. the filling with elements, is explicitly done by the WebUI. 
                                     At the same time the set <span class="code">symbol</span> should serve as header for the parameter <span class="code">price</span>. 
                                     Due to the discontinuous number of set elements and the resulting <a href="">discontinuous database structure [link missing]</a> of parameter <span class="code">price</span>, this constellation is not allowed.</li>
                                     <li>The set of the of the affected parameter index must not be <a href="https://www.gams.com/latest/docs/UG_SetDefinition.html#UG_SetDefinition_ImplicitSetDefinition" target="_blank">defined implicitly</a> through data statements of a parameter which use these sets as domains and is displayed in the WebUI at the same time.  
                                     <br>Example:
                                     <pre><code class="language-gams">Set date   'date'
    symbol 'stockSymbol';
 
$onExternalInput 
Parameter price(date&lt;,symbol&lt;) 'Price [pivot]';
$offExternalInput
</pre></code>
                                   <br>Here, the sets are declared outside the <span class="code">$on-/offExternalInput</span> tags. But the declaration, the filling with elements, is done implicitly through the data statement <span class="code">price(date&lt;,symbol&lt;)</span>. 
                                   The <a href="https://www.gams.com/latest/docs/UG_SetDefinition.html#UG_SetDefinition_ImplicitSetDefinition" target="_blank"><span class="code">&lt;</span> signs</a> signal, that the set <span class="code">date</span> will contain all elements which define the first dimension of <span class="code">price</span> and that the set <span class="code">symbol</span> will contain all elements which define the second dimension of <span class="code">price</span>, respectively (see also <a href="#implicit-set" class="scrollto">here</a>).
                                   Since the Set <span class="code">symbol</span> should be the header of parameter <span class="code">price</span> but at the same time the Set <span class="code">symbol</span> is implicitly defined in the WebUI by parameter <span class="code">price</span>, this constellation is not allowed.</li>
                                   </ul>
                                   <div class="callout-block callout-warning">
                                       <div class="icon-holder">
                                           <i class="fas fa-info-circle"></i>
                                       </div><!--//icon-holder-->
                                       <div class="content">
                                           <h4 class="callout-title">Note:</h4>
                                           <p>These restrictions only apply if the affected Set acts as header for a parameter in the WebUI.
                                           If a set is not used as a header, then explicit and implicit definitions as seen above are possible, see also <a href="#display-set" class="scrollto">here</a>.</p>
                                       </div><!--//content-->
                                   </div><!--//callout-block-->
                                   <p></p>
                                </div><!--//section-block-->  
                                <div  id="create-4"  class="section-block">
                                    <h3 class="block-title">Scalars</h3>
                                    <p>The handling of <a href="https://www.gams.com/latest/docs/UG_DataEntry.html#UG_DataEntry_Scalars" target="_blank">scalars</a> and 0- or 1-dimensional <a href="https://www.gams.com/latest/docs/UG_SetDefinition.html#UG_SetDefinition_SingletonSets" target="_blank">singleton sets</a> (&le; 1 domains and dimensions) differs from the previously discussed parameters. 
                                    <div class="callout-block callout-success">
                                      <div class="icon-holder">
                                          <i class="fas fa-thumbs-up"></i>
                                      </div><!--//icon-holder-->
                                      <div class="content">
                                          <h4 class="callout-title">Note:</h4>
                                          <p>Scalars and 0- or 1-dimensional singleton sets are collected in a joint table in the interface by default.</p>
                                      </div><!--//content-->
                                    </div><!--//callout-block-->
                                    They are collected in a joint table in the interface by default. This means that all scalars defined in the GAMS model within the <span class="code">$on</span>/<span class="code">offExternalInput</span> and -<span class="code">output</span> are shown in the Web interface in one single 'scalars' table. The same is also true for scalar output scalars. These are summarized in the results section in a separate table.
                                    <br>Example:</p>
                                    <pre><code class="language-gams">$onExternalInput 
Scalar f    'freight in dollars per case per thousand miles' / 90 /
       minS 'minimum shipment (MIP- and MINLP-only)' / 100 /
       beta 'beta (MINLP-only)' / 0.95 /;
Singleton Set  single  'Singleton Set'    / element  /;
$offExternalInput
</pre></code>
                                    <p>Here we have declared the scalar input data <span class="code">f</span>, <span class="code">minS</span> and <span class="code">beta</span> as well as a Singleton Set <span class="code">single</span> between the input tags. In the WebUI, they are displayed aggregated in a table.
                                    <div class="section-block" style="text-align:center;">
                                          <img class="img-fluid" style="max-height:200pt;" src="assets/images/scalars-table.png" alt="Visualization of scalars and Singleton Sets in a table" />
                                    </div>
                                    <p>Not only parameters, but also scalar values can be displayed with appealing and useful graphics (we call them <i>widgets</i> in this case).
                                    Scalar values are great for representation as a slider, dropdown menu, checkbox or date selector. You can learn more about this <a href="./customize.html#widgets-scalars">here</a>.</p>
                                    <div class="callout-block callout-success">
                                            <div class="icon-holder">
                                                <i class="fas fa-thumbs-up"></i>
                                            </div><!--//icon-holder-->
                                            <div class="content">
                                                <h4 class="callout-title">Tip:</h4>
                                                <p>In the database query of the <a href="./customize.html">Hypercube mode</a> you can search for scalar data of a scenario, making it easy to find matching scenarios.</p>
                                            </div><!--//content-->
                                        </div><!--//callout-block-->
                                    </div><!--//section-block-->
                                <div  id="display-sinset"  class="section-block">
                                    <h3 class="block-title">Singleton Sets</h3>
                                    <p>A <a href="https://www.gams.com/26/docs/UG_SetDefinition.html#UG_SetDefinition_SingletonSets" target="scrollto">singleton set</a> in GAMS is a special set that has at most one element (zero elements are allowed as well). 
                                    Like other sets, singleton sets may have a domain with several dimensions. 
                                    As already explained <a href="#create-4" class="scrollto">here</a>, 0- and 1-dimensional singleton sets are displayed together with scalars in a joint table. 
                                    Multi-dimensional singleton sets, on the other hand, are each displayed in a separate table.
                                    <br>Example:</p>
                                    <pre><code class="language-gams">$onExternalInput 
Singleton Set 
   multidim(i,j)  'multidimensional singleton set'  / seattle.topeka /
   multidim2(i,j) 'another multidimensional singleton set' / seattle.chicago /;
$offExternalInput
</pre></code>
                                    <div class="section-block" style="text-align:center;">
                                          <img class="img-fluid" style="max-height:200pt;" src="assets/images/singleton-multi-table.png" alt="Visualization of multidimensional singleton sets in a table" />
                                    </div>
                                </div><!--//section-block--> 
                                <div  id="display-var"  class="section-block">
                                    <h3 class="block-title">Variables</h3>
                                    <p><a href="https://www.gams.com/latest/docs/UG_Variables.html" target="blank">Variables</a> are entities whose values are unknown until after a model has been solved. 
                                    For this reason, variables can only be integrated into the WebUI to show results. Therefore, if we want to display a variable in the WebUI, we need to decalre them between the <code class="language-gams">$onExternalOutput
                                    </code> / <code class="language-gams">$offExternalOutput
                                    </code> tags.</p>
                                    <p>Another property of variables: While a GAMS parameter has a value associated with each unique label combination, a variable has several (level, marginal, lower bound, upper bound, etc.).
                                    Since the value columns of a variable in a WebUI table are always the same, the display of variables in the WebUI is fixed.</p>
                                    <p>In the following example we integrate the Variable <span class="code">x</span> into the WebUI.</p>
                                    <pre><code class="language-gams">$onExternalOutput 
Variable x(i,j) 'shipment quantities in cases';
$offExternalOutput
</pre></code>
                                    <p>The resulting table in the WebUI output section then looks like this:</p>
                                    <div class="section-block" style="text-align:center;">
                                          <img class="img-fluid" style="max-height:200pt;" src="assets/images/variable-table.png" alt="Visualization of variables in a table" />
                                    </div>
                                    <p></p>
                                </div><!--//section-block--> 
                                <div  id="display-eq"  class="section-block">
                                    <h3 class="block-title">Equations</h3>
                                    <p>The integration of equations in the WebUI is the same as the integration of variables. Since equations also have a constant structure of the dimension of the value columns, their structure is fixed as well. 
                                    <br>Example:</p>
                                    <pre><code class="language-gams">$onExternalOutput 
Equation
  demand(j)   'satisfy demand at market j' ;
$offExternalOutput
</pre></code>
                                    <p>This leads to the following table:</p>
                                    <div class="section-block" style="text-align:center;">
                                          <img class="img-fluid" style="max-height:200pt;" src="assets/images/equation-table.png" alt="Visualization of equations in a table" />
                                    </div>
                                </div><!--//section-block--> 
                                <div  id="display-scalar-vareq"  class="section-block">
                                    <h3 class="block-title">Scalar Variables & Equations</h3>
                                    <p>There are also 0-dimensional expressions for variables and equations: For variables, for example, this is the target function value of a model and for equations it is the target function. 
                                    Since the dimension of both types is the same, 0-dimensional variables and equations are displayed together in one table (similar to scalars and 0-dimensional singleton sets see <a href="#create-4" class="scrollto">here</a>). </p>
                                    <pre><code class="language-gams">$onExternalInput
Variable z      'total transportation costs in thousands of dollars';
Equation cost   'define objective function';
$offExternalInput
</pre></code>
                                    <div class="section-block" style="text-align:center;">
                                          <img class="img-fluid" style="max-height:200pt;" src="assets/images/eq-var-table.png" alt="Visualization of equations in a table" />
                                    </div>
                                </div><!--//section-block--> 
                                <div  id="create-compile"  class="section-block">
                                    <h3 class="block-title">Command line Parameters</h3>
                                    <p>In addition to the "standard" GAMS symbols like parameters and scalars, command line parameters can also be set as input data via the WebUI, 
                                    more precisely this is true for <a href="https://www.gams.com/latest/docs/UG_GamsCall.html#UG_GamsCall_SpecifyingOptionsThroughTheCommandLine" target="_blank">GAMS Options</a> and <a href="https://www.gams.com/latest/docs/UG_GamsCall.html#UG_GamsCall_DoubleDashParametersEtcSimpleExample" target="_blank">Compile-time Variables</a>.
                                    The configuration of these Command line Parameters differs from that of the other symbols. While Sets, Parameters, Scalars and Singleton Sets are declared directly in the GAMS code and can therefore be tagged with <code class="language-gams">$onExternalInput
                                    </code> / <code class="language-gams">$offExternalInput
                                    </code>. 
                                    GAMS options and compile-time variables are specified in GAMS via the command line and can therefore not be tagged in the GAMS code. To be able to use them in the WebUI, they must be specified in the config.json file. 
                                    Read more about this topic <a href="./customize.html#widgets-commandLine">here</a>.
                                    </p>
                                </div><!--//section-block-->
                                <div  id="create-db"  class="section-block">
                                    <h3 class="block-title">Database</h3>
                                    <p>In order to save, load or compare scenarios, the WebUI is connected to a database. In the standard WebUI version the relational database <a href="https://www.sqlite.org/index.html" target=_blank">SQLite</a> is embedded.</p>
                                    <p>Since a database is based on fixed structures, the following aspect must be taken into account when working with the WebUI:
                                    <br>As soon as there is a database entry for a symbol of a GAMS model, the structure of this symbol is fixed in the database. This means that no subsequent changes of the symbol with regard to its dimension and domains are possible. 
                                      The only way to make subsequent changes is to recreate the affected database tables.</p>
                                </div><!--//section-block-->
                                <div  id="create-custom"  class="section-block">
                                    <h3 class="block-title">Custom configuration</h3>
                                    <p>When the basic interface between a GAMS model and its WebUI is configured, the web interface of the GAMS model can be further customized. The GAMS WebUI comes with various pre-implemented graphing options: at the moment these are pie charts, bar charts, line charts, scatter plots, histograms and pivot tables. However, an R API is provided so even highly customized graphics can be generated.</p>
                                    <div class="section-block" style="text-align:center;">
                                            <img class="img-fluid" src="assets/images/gams_webui.png" alt="GAMS WebUI - visualization" />
                                    </div>
                                    <p>Have a look at the <a href="./customize.html">next section</a> and learn how to customize your WebUI.</p>
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                        </div><!--//content-inner-->
                    </div><!--//doc-content-->
                    <div class="doc-sidebar col-md-3 col-12 order-0 d-none d-md-flex">
                        <div id="doc-nav" class="doc-nav">
	                        <nav id="doc-menu" class="nav doc-menu flex-column sticky">
	                            <a class="nav-link scrollto" href="#creating-section">Turn your GAMS model into a WebUI</a>
                                  <nav class="doc-sub-menu nav flex-column">
                                    <a class="nav-link scrollto" href="#create-2">Model adjustments</a>
                                    <a class="nav-link scrollto" href="#create-5">Generating model-specific configuration files</a>
                                </nav><!--//nav-->
                                <a class="nav-link scrollto" href="#conventions-section">Display of GAMS Symbols</a>
                                  <nav class="doc-sub-menu nav flex-column">
                                    <a class="nav-link scrollto" href="#display-set">Sets</a>
                                    <a class="nav-link scrollto" href="#create-3">Parameters</a>
                                    <a class="nav-link scrollto" href="#create-4">Scalars</a>
                                    <a class="nav-link scrollto" href="#display-sinset">Singeton Sets</a>
                                    <a class="nav-link scrollto" href="#display-var">Variables</a>
                                    <a class="nav-link scrollto" href="#display-eq">Equations</a>
                                    <a class="nav-link scrollto" href="#display-scalar-vareq">Scalar Variables & Equations</a>
                                </nav><!--//nav-->
                                <a class="nav-link scrollto" href="#create-compile">Command line Parameters</a>
                                <a class="nav-link scrollto" href="#create-db">Database</a>
                                <a class="nav-link scrollto" href="#create-custom">Custom configuration</a>
                                  
	                        </nav><!--//doc-menu-->
                        </div>
                    </div><!--//doc-sidebar-->
                </div><!--//doc-body-->
            </div><!--//container-->
        </div><!--//doc-wrapper-->

    </div><!--//page-wrapper-->

    <footer id="footer" class="footer text-center">
        <div class="container">
            <!--/* This template is released under the Creative Commons Attribution 3.0 License. Please keep the attribution link below when using for your own project. Thank you for your support. :) If you'd like to use the template without the attribution, you can buy the commercial license via our website: themes.3rdwavemedia.com */-->
            

        </div><!--//container-->
    </footer><!--//footer-->


    <!-- Main Javascript -->
    <script type="text/javascript" src="assets/plugins/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>
    <script type="text/javascript" src="assets/plugins/stickyfill/dist/stickyfill.min.js"></script>
    <script type="text/javascript" src="assets/plugins/prism/min/prism-min.js"></script>
    <script type="text/javascript" src="assets/js/main.js"></script>

</body>
</html>
