<!DOCTYPE html>
<html lang="en">
<head>
    <title>GAMS WebUI documentation</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.ico">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <!-- FontAwesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.1.1/js/all.js" integrity="sha384-BtvRZcyfv4r0x/phJt9Y9HhnN5ur1Z+kZbKVgzVBAlQZX4jvAuImlIz+bG7TS00a" crossorigin="anonymous"></script>
    <!-- Global CSS -->
    <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="assets/plugins/prism/prism.css">
    <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css">

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/styles.css">

</head>

<body class="body-orange">
    <div class="page-wrapper">
        <!-- ******Header****** -->
        <header id="header" class="header">
            <div class="container">
                <div class="branding">
                    <h1 class="logo">
                        <a href="index.html">
                          <img class="img-fluid" style="height:50px;" src="assets/images/logo.svg" onerror="this.onerror=null; this.src='assets/images/logo.png'" alt="logo"/>
                            <span class="text-highlight">GAMS</span><span class="text-bold">WebUI</span>
                        </a>
                    </h1>
                </div><!--//branding-->
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                    <li class="breadcrumb-item active">Hypercube jobs</li>
                </ol>
            </div><!--//container-->
        </header><!--//header-->
        <div class="doc-wrapper">
            <div class="container">
                <div id="doc-header" class="doc-header text-center">
                    <h1 class="doc-title"><i class="icon fa fa-paper-plane"></i> Hypercube jobs</h1>
                    <div class="meta"><i class="far fa-clock"></i> Last updated: December 6th, 2018</div>
                </div><!--//doc-header-->
                <div class="doc-body row">
                    <div class="doc-content col-md-9 col-12 order-1">
                        <div class="content-inner">
                            <section id="batch-introduction-section" class="doc-section">
                                <h2 class="section-title">Introduction</h2>
                                <div class="section-block">      
                                    <p>The GAMS web interface allows the user to load input data, manipulate it, start & stop the GAMS optimization run, inspect the results as well as save, manage and compare different scenarios.</p>
                                    <p>Beside this "regular" WebUI there is another interface which allows to configure and evaluate so-called Hypercube jobs. A Hypercube job describes the automated execution of a certain number of scenarios that differ with regard to their parameterization.</p>
                                    <p>Let's take the model "pickstock" as an example. In the regular WebUI, we determine the maximum number of stocks of the Dow Jones that can be selected for the representative portfolio. We also determine the time up to which the model should be in the "training phase". With a click on solve we start the GAMS run for this parameterized scenario.</p>
                                    <p>But what if we want to solve a multitude of such scenarios with different parameterizations one after the other in order to investigate the behavior of the solutions more closely?  To avoid having to configure and solve each scenario individually, there is the "Hypercube mode". In this interface a model parameter can be set several times. From this multiple parameterization all possible scenarios are generated, which result from the combination of all set parameters. As a consequence, any number of scenarios can be configured and analyzed at once.</p>
                                    <p>Results of such Hypercube jobs can be stored in the database and inspected directly in the WebUI. For this purpose, the Automated Performance Analysis & Visualization tool <a href="https://github.com/coin-or/Paver" target="_blank">PAVER</a> was integrated. The direct comparison of scenarios in the scenario view (via split screen / tab view) is also available. Of course, one is free to analyze all the scenarios carried out with the help of external tools as well. </p>
                                    <p>In short, the module presented here is designed to efficiently generate, store and analyze a multitude of scenarios. </p>
                                    <div class="section-block" style="text-align:center;">
                                        <img class="img-fluid" style="height:200pt;" src="assets/images/batch_img/hcube_ecosystem.png" alt="Hypercube mode ecosystem" />
                                    </div>
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                            <section id="batch-overview-section" class="doc-section">
                                <h2 class="section-title">Overview</h2>
                                <div class="section-block">      
                                    <p>There is little to do to get from the regular WebUI to the Hypercube interface. We just need to set a simple switch called <span style="white-space: nowrap;">--webuimode=hcube</span> in addition to the already set --webui=launch when starting the WebUI:</p>
                                    <div class="section-block" style="display:block; margin:auto; text-align:center;">
                                        <img class="img-fluid" src="assets/images/batch_img/batch_launch.png" alt="Launch WebUI in Hypercube mode" />
                                    </div>
                                    <p>When doing this, all relevant changes in settings regarding appearance and configuration of the WebUI are automatically detected and processed.</p>
                                    <p>Visually, the WebUI for Hypercube mode hardly differs from the regular one. After starting the application, the following familiar start screen appears.</p>
                                    <div class="section-block" style="text-align:center;">
                                        <img class="img-fluid" src="assets/images/batch_img/batch_start.png" alt="start screen in Hypercube mode" />
                                    </div>
                                    <p><br>The navigation menu on the left side now consists of the following sections:</p>
                                        <ol class="fa-ul">
                                        <li><span class="fa-li"><i class="fas fa-th"></i></span><b>Configure Hypercube job: </b><br/>
                                        Configuration of Hypercube jobs.
                                        </li>
                                        <li><span class="fa-li"><i class="fas fa-upload"></i></span><b>Import results:</b><br/>
                                        Loading the results of already calculated scenarios into the database in the form of zip files.
                                          </li>
                                        <li><span class="fa-li"><i class="fas fa-folder-open"></i></span><b>Load results:</b><br/>
                                          Slice & dice the database to fetch those scenarios you are interested in.
                                          </li>
                                        <li><span class="fa-li"><i class="fas fa-copy"></i></span><b>Compare Scenarios:</b><br/>
                                        Module known from the regular WebUI for the direct comparison of scenarios in Spit-screeen or Tab mode.
                                        </li>
                                        <li><span class="fa-li"><i class="fas fa-chart-pie"></i></span><b>Analyze scenarios:</b><br/>
                                          Automatic performance analyses with the integrated analysis tool PAVER.
                                        </li><br>
                                        <li><span style="color: #F39619;" class="fa-li"><i class="fas fa-square"></i></span><b>Submit jobs:</b><br/>
                                        Submit a new Hypercube job consisting of multiple scenarios.
                                          </li>
                                        </ol>
                                </div><!--//section-block-->
                            </section><!--//doc-section-->

                            <section id="scengen-section" class="doc-section">
                                <h2 class="section-title">Scenario generation</h2>
                                <div class="section-block">
                                    <p>A scenario is characterized by a particular set of model input parameters. If, for example, for a run of the above mentioned pickstock model, the number of training periods is set to 95 and the maximum number of stocks to be selected is set to 5, then this parameterization characterizes the scenario. The Hypercube configuration discussed here makes it possible to configure several such scenarios at once, so that they can then be calculated in a single process. </p>
                                    <p>The configuration of such a Hypercube job for a model is done in the menu 'Configure Hypercube job'. An example is given below.</p>
                                    <p><b>Note:</b> Currently, the Hypercube mode only supports parameterization via <a href="https://www.gams.com/latest/docs/UG_GamsCall.html" target="_blank">GAMS command line parameters</a>.
                                    </p>

                                    <div  id="scengen-2"  class="section-block">
                                        <h3 class="block-title">Parameterization</h3>
                                        <p>If you compare the parameterization options of the input data between a regular single run and the configuration of a Hypercube job, you will notice that the input widgets automatically have changed slightly. As an example the model pickstock is used again. As already mentioned, for parameterizing a single model run in the regular WebUI, you can specify both the number of training periods and the maximum number of stocks using a slider.
                                        In the Hypercube configuration for these two compile-time parameters no simple sliders are available anymore, but sliders with 2 ends, so called range-sliders. In addition, there is a 'step size' for the slider range to be configured by the user (<a href="#stepsize" class="scrollto">more on stepsize</a>). The table below gives an overview of the widgets and their different appearance in the regular and the Hypercube model parameterization.</p>
                                        <div class="table-responsive">
                                          <table class="table table-striped" style="margin: 0px auto; margin-bottom:15px;">
                                              <thead>
                                                  <tr>
                                                    <th>Single mode</th>
                                                    <th>Hypercube mode</th>
                                                  </tr>
                                              </thead>
                                              <tbody>
                                                  <tr>
                                                    <td>Single dropdown menu</td>
                                                    <td>Multi dropdown menu</td>
                                                  </tr>
                                                  <tr>
                                                    <td>Single slider</td>
                                                    <td>Slider range with step size selection</td>
                                                  </tr>
                                                  <tr>
                                                    <td>Checkbox</td>
                                                    <td>Multi dropdown menu with options 'yes' and 'no'</td>
                                                  </tr>
                                                  <tr>
                                                    <td>Date selector</td>
                                                    <td>Date range selector</td>
                                                  </tr>
                                                  <tr>
                                                    <td>Slider range</td>
                                                    <td>Slider range with step size and combination-type selection</td>
                                                  </tr>
                                                  <tr>
                                                    <td>Multi dropdown menu</td>
                                                    <td>Not supported yet</td>
                                                  </tr>
                                                  <tr>
                                                    <td>Date range selector</td>
                                                    <td>Not yet supported</td>
                                                  </tr>
                                                  <tr>
                                                    <td>Parameter table</td>
                                                    <td>Parameter table</td>
                                                  </tr>
                                              </tbody>
                                          </table>
                                        </div><!--//table-responsive-->
                                        <p>The convention of automatic scenario generation has the following implications: <a href="#nobatch" class="scrollto">Unless explicitly specified</a> in the WebUI configuration of the model, each parameter of the input data is included in the Cartesian product from all parameter variations. In other words: All combinations are generated from the configuration selected by the user and each individual combination is saved as a single scenario. </p>
                                        <div class="section-block" style="text-align:center;">
                                            <img class="img-fluid" style="margin-bottom:15px; height:250pt" src="assets/images/batch_img/regular_batch.png" alt="regular pickstock parameterization" />
                                        </div>
                                        <p>In the example, the slider for 'maximum number of stocks to select' was set by the user to a range from 3 to 11 with a step size of 1.
                                        The slider configured in this way leads to 9 different scenarios.</p>
                                        <ul>
                                        <li>Scenario 1: 'maximum number of stocks to select' = 3</li>
                                        <li>Scenario 2: 'maximum number of stocks to select' = 4</li>
                                        <li>Scenario 3: 'maximum number of stocks to select' = 5</li>
                                        [...]
                                        <li>Scenario 9: 'maximum number of stocks to select' = 11</li>
                                        </ul>
                                        <P id="stepsize">For the parameter 'number of days for training' the slider was set to a range between 40 and 130 with a step size of 5. The resulting scenarios would therefore be:</P>
                                        <ul>
                                        <li>Scenario 1: 'number of days for training' = 40</li>
                                        <li>Scenario 2: 'number of days for training' = 45</li>
                                        <li>Scenario 3: 'number of days for training' = 50</li>
                                        [...]
                                        <li>Scenario 19: 'number of days for training' = 130</li>
                                        </ul>
                                        <p>The previously mentioned Cartesian product of all parameter variations is now used: It is created from the different variants of the two parameters 'maximum number of stocks to select' (9 variations) and 'number of days for training' (19 variations) resulting in 171 individual scenarios. </p>
                                        <div class="section-block" style="text-align:center;">
                                            <img class="img-fluid" style="margin-bottom:15px; height:200pt" src="assets/images/batch_img/carth_prod.png" alt="carthesian product of configured parameters" />
                                        </div>
                                        <p id="nobatch">It gets clear that the number of scenarios to be considered can increase very quickly with the number of parameters and their selected configuration. Depending on how computing intensive the underlying GAMS model is, it may be advisable to configure the scenarios carefully. 
                                        <br>Individual parameters can be excluded from inclusion in the Cartesian product. These parameters would then remain unchanged for each scenario created. This can be done in the WebUI configuration for the GAMS model (i.e. in the config.json file) using the option <span class="code">"nohcube": "true"</span> or via <a href="./customize.html#config-gen">Configuration Generator</a>. If, for example, the parameter 'number of stocks to select' in the config.json file is configured with <span class="code">"nohcube": "true"</span>, the following situation results: The parameter can still be selected in scenario generation, but only once. Its selection remains identical for each generated scenario.</p>
                                    </div><!--//section-block-->
                                    <div  id="scengen-3"  class="section-block">
                                        <h3 class="block-title">Hypercube script</h3>
                                        <p>Once the scenario configuration for a model has been made, it can be completed by clicking on 'Submit jobs'. In the background, now all possible scenario combinations are created and written to a Hypercube file as individual (not yet executable) GAMS calls. If certain scenarios which the user just configured are already stored in the database from a previous run, the WebUI asks the user whether to process all configured scenarios or only new ones. After a confirmation by the user, a download of a ZIP file starts. In addition to the generated Hypercube file, the ZIP archive also contains all files necessary for the scenario calculations. More precisely, all files located in the WebUI folder of the corresponding GAMS model will be added to the ZIP.</p>
                                        <p><b>Note:</b> The maximum number of scenarios that can be configured in one step is limited to 10&thinsp;000.</p>
                                        <p>Let's now have a brief look at the Hypercube file. Each line represents one single scenario of those mentioned above.</p>
                                        <div class="section-block" style="text-align:center;">
                                            <img class="img-fluid" style="margin-bottom:15px; height:300pt;" src="assets/images/batch_img/config_batch_file.png" alt="generated Hypercube file" />
                                        </div>
                                        <p>Example: In the first row of the shown Hypercube file it says <br>
                                        <span class="code">e8cadaf84b70a77a99b900c8547c48d882c294d58b2543348bceed2edbfcce17: gams pickstock.gms --maxstock=5 --trainingdays=50 trace=_sys_trace_pickstock.trc traceopt=3</span>
                                        <br>Each line begins with an individual, so-called <i>hash value</i> which is used to uniquely identify each scenario. Those values are calculated / hashed using the sha256 algorithm based on the respective line of the Hypercube file. After the hash, the GAMS call <span class="code" style="white-space:nowrap">gams pickstock.gms --maxstock=5 --trainingdays=50</span> follows, which defines this scenario. Here, the parameters selected in the WebUI are passed as compile-time variables (double-dash parameters). This must be considered in the GAMS model to be executed: Each parameter, which is represented as widget (slider, dropdown, checkbox, date selector) in the WebUI and therefore is to define an individual senario, must be addressed within the GAMS model as compile-time variable or GAMS option.
                                        <br>The image above does not show that the expected GAMS call will be followed by further details. In these, for example, the creation of a trace file is defined, which is necessary for the internal analysis using <a href="https://github.com/coin-or/Paver" target="_blank">PAVER</a>. </p>
                                        <p>Since the strings in the form in which they are now available are not calls that can be interpreted by GAMS due to the hash value at the beginning, the information about the individual calls must be extracted. Probably the easiest way to do this is to take each GAMS call and execute it with the help of a script in a separate folder (which has to be named after the hash value of the scenario in order to be able to identify each scenario), in which the results are also stored. If the scenarios are to be executed on a special compute server, it is a good idea to take all necessary precautions, which have to be considered in the script (e.g. folder structure on computer, login data, etc.). In short, the jobsubmission script must be adapted to the environment in which it will finally be executed. 
                                        <br>The illustration below shows schematically how the conversion of the generated Hypercube file into an executable GAMS script could look like.</p>
                                        <div class="section-block" style="text-align:center;">
                                            <img class="img-fluid" style="margin-bottom:15px; height:400px;" src="assets/images/batch_img/batch_file_conversion.png" alt="conversion of Hypercube file into executable GAMS script" />
                                        </div>
                                    </div><!--//section-block-->
                                    <div  id="scengen-4"  class="section-block">
                                        <h3 class="block-title">Compute server</h3>
                                        <p>After the click on "Submit jobs" the generated Hypercube file is available for download. In addition to this file, the ZIP file also contains all files necessary for the scenario calculations. More precisely, all files located in the WebUI folder of the corresponding GAMS model will be added to the ZIP.</p>
                                        <p>Job submission: <br>If a script that can be executed by GAMS has been created from the Hypercube file (e.g. as described above), it can be called ('Job submission', see image below). If the model calculations are to be performed on a compute server, this can now be done.</p>
                                    </div><!--//section-block-->
                                    <div  id="scengen-5"  class="section-block">    
                                        <h3 class="block-title">Import Results</h3>
                                        <p>Either way, at the end of the calculations, the results should be available in the form of another ZIP file. There are rules for the upload of such a zip file, which have to be followed to be accepted by the WebUI as valid scenario data.</p>
                                        <ul>
                                        <li>Results have to be separated according to scenarios: <br>Each scenario has a separate folder in the root directory of the ZIP file. This folder must be named after the hash value of the scenario. It contains the calculated result / output data.
                                        <div class="section-block">
                                            <img class="img-fluid" style="display:block; margin:auto; height:175px;" src="assets/images/batch_img/upload_zip.png" alt="contents of the ZIP file to be uploaded" />
                                        </div>
                                        </ul>
                                        <p>For each scenario there are some files that must exist to be valid, and some that are optional. The mandatory files for every single scenario are:</p>
                                        <ul>
                                        <li id="csv-scalars">scalars.csv<br>This file is generated automatically when running a model with <span class="code" style="white-space:nowrap">--webui=1</span>. The <span class="code" style="white-space:nowrap">--webui=1</span> is always set for a scenario in the downloaded .gmsb Hypercube file. The scalars.csv file contains all scalar values which are declared between the <img class="img-fluid" style="height:14px;" src="assets/images/onexternal.png" alt="$onExternalInput" /> / <img class="img-fluid" style="height:14px;" src="assets/images/offexternal.png" alt="$offExternalInput" /> tags in the underlying GAMS model (and therefore are adjustable input data in the webui).
                                        <br>The header line of the scalars.csv file always must be <span class="code" style="white-space:nowrap">"Scalar,Description,Value"</span> where <span class="code" style="white-space:nowrap">Scalar</span> stands for the GAMS Symbol name, <span class="code" style="white-space:nowrap">Description</span> for the optional explanatory text and <span class="code" style="white-space:nowrap">Value</span> contains the value set by the user from within the WebUI.</li>
                                        <li>scalars_out.csv<br>This file contains all scalar output values specified between the <img class="img-fluid" style="height:14px;" src="assets/images/onexternalout.png" alt="$onExternalOutput" /> / <img class="img-fluid" style="height:14px;" src="assets/images/offexternalout.png" alt="$offExternalOutput" /> tags. Like the scalars.csv file it is generated automatically after a successful model run. So this is the counterpart to the scalar input values in scalars.csv.
                                        <br><b>Note:</b> If, for whatever reason, a model calculation is aborted for a scenario, then this file scalars_out.csv is not created. However, since the file is mandatory, all scenarios whose calculations are aborted (intentionally or unintentionally) are ignored during a database upload.</li>
                                        <li>_sys_trace_&lt;modelname&gt;.trc<br><a href="https://www.gams.com/latest/docs/UG_GamsCall.html#GAMSAOtraceopt" target="_blank">Trace file</a> of the scenario run. This file contains numerous run statistics which are used for the the integrated performance analysis tool PAVER. The downloadable Hypercube script already contains the GAMS command for the creation of the trace file for each scenario. More information on the trace file can also be found <a href="http://www.gamsworld.org/performance/trace.htm" target="_blank">here</a>.</li>
                                        </ul>
                                        <p>These three files are usually generated automatically when solving a scenario with the compile-time parameter <span class="code" style="white-space:nowrap">--webui=1</span>. Their format is internally defined by the WebUI and should not be changed. If scenario data does not contain all mandatory files, the data for this scenario is not stored in the database.</p>
                                        
                                        <p>In addition to the mandatory files mentioned above, there may be other files in the result folder of a scenario. If <span class="code" style="white-space:nowrap">--webui=1</span> is set, a CSV file with results is created for each output parameter declared in the GAMS model between the <img class="img-fluid" style="height:14px;" src="assets/images/onexternalout.png" alt="$onExternalOutput" /> / <img class="img-fluid" style="height:14px;" src="assets/images/offexternalout.png" alt="$offExternalOutput" /> tags. For example, when the Parameters <span class="code" style="white-space:nowrap">results</span> and <span class="code" style="white-space:nowrap">performance</span> are declared between those tags, the CSV files <i>results.csv</i> and <i>performance.csv</i> are generated after the model calculations.
                                        For these files the following rules apply:</p>
                                        <ul>
                                        <li>Result files of output parameters are not mandatory, but optional for the upload into the database.</li>
                                        <li>The results must be available in CSV format.</li>
                                        <li>CSV files must be named after the parameters declared in the GAMS model between the <img class="img-fluid" style="height:14px;" src="assets/images/onexternalout.png" alt="$onExternalOutput" /> / <img class="img-fluid" style="height:14px;" src="assets/images/offexternalout.png" alt="$offExternalOutput" /> tags. Each output parameter declared there must be stored in a separate CSV file. Exceptions are scalar values, see <a href="#csv-scalars" class="scrollto">here</a>.</li>
                                        <li>It is mandatory that the header line of a CSV file is identical to the corresponding parameter declared in GAMS.
                                        <br>Example: In the Pickstock model, the output parameter <span class="code" style="white-space:nowrap">partOfPortfolio</span> is declared between the <img class="img-fluid" style="height:14px;" src="assets/images/onexternalout.png" alt="$onExternalOutput" /> / <img class="img-fluid" style="height:14px;" src="assets/images/offexternalout.png" alt="$offExternalOutput" /> tags. The resulting <i>partofportfolio.csv</i> contains the header row "<span class="code" style="white-space:nowrap">StockSymbol,what part of the portfolio</span>", which corresponds to the texts of the indexes <span class="code" style="white-space:nowrap">symbol</span> and <span class="code" style="white-space:nowrap">partOfPortfolio</span>.
                                        <div class="section-block" style="text-align:center;">
                                            <img class="img-fluid" style="display:block; margin:auto;" src="assets/images/batch_img/pickstock_output_symbols.png" alt="contents of the ZIP file to be uploaded" />
                                        </div>
                                        <br>Another parameter declared is <span class="code" style="white-space:nowrap">dowVSindex</span>. Here, the <i>dowvsindex.csv</i> has the header row "<span class="code" style="white-space:nowrap">date,dow jones,index fund</span>", which results from the explanatory text of the symbol <span class="code" style="white-space:nowrap">date</span> and the text of the declared header <span class="code" style="white-space:nowrap">fHdr</span>.
                                        <div class="section-block" style="text-align:center;">
                                            <img class="img-fluid" style="display:block; margin:auto;" src="assets/images/batch_img/pickstock_output_symbols2.png" alt="contents of the ZIP file to be uploaded" />
                                        </div>
                                        The conventions concerning the selection of the headers can be found <a href="./start.html#create-3" target="_blank">here</a>.
                                        </li>
                                        </ul>
                                        <p>As already mentioned, these CSV files are usually generated automatically. However, optional files can be deleted manually so that they are not included in the database.</p>

                                        <p>The picture below extends the previous schema and shows the workflow from the generated Hypercube file over its conversion to an executable GAMS script, the job submission (local or via compute server) up to the structure of the obtained results.</p>
                                        <div class="section-block" style="text-align:center;">
                                            <img class="img-fluid" style="margin-bottom:15px;" src="assets/images/batch_img/batch_file_skript.png" alt="schematic of possible workflow" />
                                        </div>
                                    </div><!--//section-block-->
                                    <div  id="scengen-6"  class="section-block">
                                        <h3 class="block-title">Scenario upload</h3>
                                        <p>Once the desired scenarios have been calculated, the next step is to load the results into the WebUI database. For this purpose the module "import results" is used.</p>
                                        <div class="section-block">
                                            <img class="img-fluid" style="display:block; margin:auto;" width="500" src="assets/images/batch_img/batch_import.png" alt="Results upload module" />
                                        </div>
                                        <h6>Upload Zip file with results:</h6>
                                        <p>For a trouble-free upload, the scenario data must be available in a zip file. Each calculated scenario is located in a separate folder, which is named after the hash value of the scenario. In addition to the input and output data of the scenario (in the form of CSV files), the trace file of the GAMS run is also located there. </p>
                                        <div class="section-block">
                                            <img class="img-fluid" style="display:block; margin:auto; height:175px;" src="assets/images/batch_img/upload_zip.png" alt="contents of the ZIP file to be uploaded" />
                                        </div>
                                        <h6>Job tags:</h6>
                                        <p>When uploading the zip file you can optionally specify job tags. With the help of assigned job tags, Hypercube jobs can be uniquely identified, independent of the input and output data of the scenarios. They represent an additional identification feature of a Hypercube job, on the basis of which the database can be searched at a later time. These job tags can also be used to compare different Hypercube jobs with each other with regard to scenario analyses to be carried out. </p>
                                        <p>With a click on 'upload', the files to be uploaded are evaluated with regard to their structure compatibility and, if there is nothing to complain about, stored in the database.</p>
                                    </div><!--//section-block-->
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                            <section id="analyses-section" class="doc-section">
                                <h2 class="section-title">Analyses</h2>
                                <div class="section-block">
                                    <p></p>
                                    <div  id="analyze-2"  class="section-block">
                                        <h3 class="block-title">Scenario selection</h3>
                                        <p>Scenarios that have been imported into the database can be loaded at a later time for subsequent analyses. For this purpose the module "load scenarios" is used, which represents a graphical representation of a database query. If not all available scenarios are to be displayed, the query can be strongly individualized. All scalar input parameters that can be set by the user to uniquely identify a scenario can be selected as filters. Next to those scenario specific filters, the optionally defined job tags of a Hypercube job and the date of creation can be used in a database query as well. Database queries can be combined with the help of the Boolean Operators AND and/or OR.</p>
                                        <div class="section-block" style="text-align:center;">
                                            <img class="img-fluid" src="assets/images/batch_img/batch_db_query.png" alt="Filtered database search" />
                                        </div>
                                        <p>If all desired filters are set, the database query is started with a click on 'query database'. The results are then displayed in the lower screen area. There the user can select scenarios for the analysis.
                                        <br>If this is done the user is asked to chose an analysis method:</p>
                                        <div class="section-block" style="text-align:center;">
                                              <img class="img-fluid" style="display:block; margin:auto; height:150px;" src="assets/images/batch_img/analyzing_method.png" alt="Choose method for analyses" />
                                        </div>
                                        <ul>
                                        <li><b>Interactive mode: </b><br/>
                                        Internal scenario comparison. Compare different scenarios directly in split view or tab view. Best suited for a small number of scenarios to compare (maximum number of scenarios allowed: 10).
                                        </li>
                                        <li><b>Paver:</b><br/>
                                         Automated Performance Analysis. Suitable for a large number of scenarios to be compared with regard to defined performance criteria.
                                        </li>
                                        <li><b>Download data:</b><br/>
                                        Download of scenario data to be analyzed with an external analyzing method.
                                        </li>
                                        </ul>
                                        <p>The various analysis methods are described in detail below.</p>
                                    </div><!--//section-block-->
                                    <div  id="analyze-3"  class="section-block">
                                        <h3 class="block-title">Internal Analyses</h3>

                                        <h6>Scenario comparison:</h6>
                                        <p>The scenario comparison module is used to directly compare the input and output data of a small number of scenarios. The data which is displayed here corresponds to those GAMS Symbols which were marked within the corresponding GAMS model with the <img class="img-fluid" style="height:14px;" src="assets/images/onexternal.png" alt="$onExternalInput" /> / <img class="img-fluid" style="height:14px;" src="assets/images/offexternal.png" alt="$offExternalInput" /> and <img class="img-fluid" style="height:14px;" src="assets/images/onexternalout.png" alt="$onExternalOutput" /> / <img class="img-fluid" style="height:14px;" src="assets/images/offexternalout.png" alt="$offExternalOutput" /> tags, i.e. those symbols which were marked for inclusion into the WebUI. Conversely, this means that all parameters and scalar values which shall be compared in the WebUI must be marked in the GAMS model accordingly. More information about these tags can be found <a href="start.html#create-2">here</a>.
                                        <br>If two scenarios are to be compared, the slipt-screen display is particularly suitable. In this way, the data can be displayed side by side and compared. </p>
                                        <div class="section-block" style="text-align:center;">
                                              <img class="img-fluid" src="assets/images/batch_img/split_screen_mode.png" alt="Integrated scenario comparison - split screen" />
                                        </div>
                                        <p>In addition to the split screen mode, several scenarios can also be compared lying side by side in individual tabs. This makes sense if more than 2 scenarios are to be compared.  You can switch between split screen mode and the representation of the scenarios in tabs via the navigation bar. </p>
                                        <div class="section-block" style="text-align:center;">
                                              <img class="img-fluid" src="assets/images/batch_img/tab_view2.png" alt="compare scenarios tab wise" />
                                        </div>
                                        <p>The <b>comparison mode</b> makes comparing scenarios much more efficient and convenient. As soon as this option is activated in the navigation bar, switching the displayed data within a scenario is also performed for all other open scenarios. This means that if you change the symbol to be displayed in a scenario (e.g. switch from 'Price' to 'absolute error' in the image above), the view also changes accordingly for the compared scenario(s). </p>
                                        <h6>PAVER:</h6>
                                        <p><a href="https://github.com/coin-or/Paver" target="_blank">PAVER</a> is an Open Source Environment for Automated Performance Analysis of Benchmarking Data. This tools is meant to simplify the task of solver performance data comparison and visualization by providing a variety of performance measurement tools with convenient and easy ways to represent (e.g. objective values, solution times, and result codes from multiple runs in order to summarize, gain insight, or detect inconsistencies) [Bussieck, Michael R., Steven P. Dirkse, and Stefan Vigerske. "PAVER 2.0: an open source environment for automated performance analysis of benchmarking data." Journal of Global Optimization 59.2-3 (2014): 259-275, <a href="http://www.gamsworld.org/performance/paver2/paver2_paper.pdf" target="_blank">link</a>].</p>
                                        <p><br>PAVER independently performs a variety of analyses regarding the performance of selected scenarios. A scenario is defined by the individual parameterization of its input data.  In addition to the input data, the results, i.e. the output data, are of course particularly interesting and relevant for a performance analysis.
                                        Paver uses this output data for its evaluations. So far, PAVER can read comma separated value (csv) files that contain in each line the outcome of a solver run (instance name, solver name, options file name, instance statistics, solving statistics, ...). With GAMS, files in this format can be generated with the options trace=file.trc and traceopt=3 which is done in the <a href="#scengen-3" class="scrollto">Hypercube file</a> by default. </p>
                                        <br>Before the start of the PAVER analysis, the user is asked to define the criteria on the basis of which the scenarios are to be compared with each other. Basically, scenarios can be compared on the basis of:
                                        <ul>
                                        <li>Scalar input data for the corresponding GAMS model<br/></li>
                                        <li>Scalar output data for the corresponding GAMS model<br/></li>
                                        <li>All characteristics contained in the trace file<br/></li>
                                        <li>Job tags optionally assigned by the user for each Hypercube job<br/></li>
                                        <li>Date of creation of a Hypercube job<br/></li>
                                        <li>Owner. More information on this can be found <a href="management.html#add-1">here</a><br/></li>
                                        </ul>
                                        <p><b>Example:</b>
                                        <br>For the already discussed model pickstock the user can define the scalar compile-time parameters for the maximum number of stocks to select (alias 'MaxStock') and the number of training days (alias 'TrainingDays') as input data. These parameters are therefore comparable input data in PAVER.
                                        <br>Selectable compile-time parameters and GAMS options for a model run via the WebUI: </p>
                                        <ul>
                                        <li>MaxStock<br/></li>
                                        <li>TrainingDay<br/></li>
                                        </ul>
                                        <p>In addition to such input data of the model, scalar output values are also calculated in the GAMS model:  </p>
                                        <ul>
                                        <li>last date of training period<br/></li>
                                        <li>Stock symbol header<br/></li>
                                        <li>fund header<br/></li>
                                        </ul>
                                        <p>All these compile-time parameters, GAMS options and scalar values are used as such in the corresponding GAMS model. More information about using scalars, singleton sets, compile-time parameters and GAMS options via WebUI can be found <a href="start.html#xxx">here</a>. </p>
                                        <p>The image below shows the list of attributes to be selected as differentiation criteria for the performance analysis with PAVER. This list results from exactly all those input and output parameters, as well as the additional attributes 'Hypercube tags', 'date of creation' and 'owner'.</p>
                                        <div class="section-block" style="text-align:center;">
                                              <img class="img-fluid" style="display:block; margin:auto; height:350px;" src="assets/images/batch_img/paver_attributes.png" alt="Selection of attributes to be analyzed by PAVER" />
                                        </div>
                                        <p>Each attribute selected here is used as a distinguishing criterion in the subsequent analysis performed by PAVER. The results of the analysis then could look like this: </p>
                                        <div class="section-block" style="text-align:center;">
                                              <img class="img-fluid" src="assets/images/batch_img/batch_paver.png" alt="Scenario analyzing tool" />
                                        </div>
                                    </div><!--//section-block-->
                                    <div  id="analyze-4"  class="section-block">
                                        <h3 class="block-title">External Analyses</h3>
                                        <p>If external analyses are to be carried out instead of the WebUI's integrated analysis methods, this is also possible. For this purpose, the WebUI offers the possibility to download a selection of scenarios so that the corresponding data can be used elsewhere. The structure of the downloaded ZIP file is the same as in those files which can be <a href="#scengen-5" class="scrollto">imported</a> into the database. Each selected scenario is stored in a separate, hashed folder. Such a scenario folder contains both input and output data in CSV format. The trace file of the corresponding GAMS run now also is in CSV format.</p>
                                    </div><!--//section-block-->
                                </div><!--//section-block-->
                            </section><!--//doc-section-->
                        </div><!--//content-inner-->
                    </div><!--//doc-content-->
                    <div class="doc-sidebar col-md-3 col-12 order-0 d-none d-md-flex">
                        <div id="doc-nav" class="doc-nav">

	                            <nav id="doc-menu" class="nav doc-menu flex-column sticky">
	                                <a class="nav-link scrollto" href="#batch-introduction-section">Introduction</a>
                                    <a class="nav-link scrollto" href="#batch-overview-section">Overview</a>
	                                <a class="nav-link scrollto" href="#scengen-section">Scenario generation</a>
                                    <nav class="doc-sub-menu nav flex-column">
                                      <a class="nav-link scrollto" href="#scengen-2">Parameterization</a>
                                      <a class="nav-link scrollto" href="#scengen-3">Hypercube script</a>
                                      <a class="nav-link scrollto" href="#scengen-4">Compute server</a>
                                      <a class="nav-link scrollto" href="#scengen-5">Import Results</a>
                                      <a class="nav-link scrollto" href="#scengen-6">Scenario upload</a>
                                    </nav><!--//nav-->
	                                <a class="nav-link scrollto" href="#analyses-section">Analyses</a>
                                    <nav class="doc-sub-menu nav flex-column">
                                        <a class="nav-link scrollto" href="#analyze-2">Scenario selection</a>
                                        <a class="nav-link scrollto" href="#analyze-3">Internal Analyses</a>
                                        <a class="nav-link scrollto" href="#analyze-4">External Analyses</a>
                                    </nav><!--//nav-->
	                            </nav><!--//doc-menu-->

                        </div>
                    </div><!--//doc-sidebar-->
                </div><!--//doc-body-->
            </div><!--//container-->
        </div><!--//doc-wrapper-->

    </div><!--//page-wrapper-->

    <footer id="footer" class="footer text-center">
        <div class="container">
            <!--/* This template is released under the Creative Commons Attribution 3.0 License. Please keep the attribution link below when using for your own project. Thank you for your support. :) If you'd like to use the template without the attribution, you can buy the commercial license via our website: themes.3rdwavemedia.com */-->
            <small class="copyright">Designed with <i class="fas fa-heart"></i> by <a href="https://themes.3rdwavemedia.com/" target="_blank">Xiaoying Riley</a> for developers</small>

        </div><!--//container-->
    </footer><!--//footer-->


    <!-- Main Javascript -->
    <script type="text/javascript" src="assets/plugins/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>
    <script type="text/javascript" src="assets/plugins/stickyfill/dist/stickyfill.min.js"></script>
    <script type="text/javascript" src="assets/js/main.js"></script>

</body>
</html>
