<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="">
  <!--<![endif]-->
  <head>
    <title>GAMS MIRO - Hypercube Mode</title>
    <!-- Meta -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="GAMS MIRO documentation" />
    <meta name="author" content="GAMS Development Corp." />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"
      rel="stylesheet"
      type="text/css"
    />
    <!-- FontAwesome JS -->
    <script
      defer
      src="https://use.fontawesome.com/releases/v5.1.1/js/all.js"
      integrity="sha384-BtvRZcyfv4r0x/phJt9Y9HhnN5ur1Z+kZbKVgzVBAlQZX4jvAuImlIz+bG7TS00a"
      crossorigin="anonymous"
    ></script>
    <!-- Global CSS -->
    <link
      rel="stylesheet"
      href="assets/plugins/bootstrap/css/bootstrap.min.css"
    />
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="assets/plugins/prism/prism.css" />
    <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css" />

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/styles.css" />
    <!--#include virtual="/wheader.html" -->
  </head>

  <body class="body-orange">
    <!--#include virtual="/wbody.html" -->
    <div class="page-wrapper">
      <!--#include virtual="/mirover.html" -->

      <!-- ******Header****** -->
      <header id="header" class="sub-header">
        <div class="container">
          <div class="branding">
            <h1 class="logo">
              <a href="index.html">
                <img
                  class="img-fluid"
                  style="height: 75px"
                  src="assets/images/logo.svg"
                  onerror="this.onerror=null; this.src='assets/images/logo.png'"
                  alt="GAMS MIRO"
                />
              </a>
            </h1>
          </div>
          <!--//branding-->
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="index.html">Home</a></li>
            <li class="breadcrumb-item active">Hypercube Mode</li>
          </ol>
        </div>
        <!--//container-->
      </header>
      <!--//header-->
      <div class="doc-wrapper">
        <div class="container">
          <div class="row justify-content-end search-box-wrapper">
            <div class="float-right">
              <input
                class="form-control search-box"
                id="miroSearch"
                type="text"
                placeholder="Search"
                aria-label="Search"
              />
              <ul id="miroSearchResults" class="list-group"></ul>
            </div>
          </div>
          <div id="doc-header" class="doc-header text-center">
            <h1 class="doc-title">
              <i class="icon fas fa-cube"></i> Hypercube Mode
            </h1>
          </div>
          <!--//doc-header-->
          <div class="doc-body row">
            <div class="doc-content col-md-9 col-12 order-1">
              <div class="content-inner">
                <section id="hypercube-introduction" class="doc-section">
                  <h2 class="section-title">Introduction</h2>
                  <div class="section-block">
                    <div class="callout-block callout-warning">
                      <div class="icon-holder">
                        <i class="fas fa-info-circle"></i>
                      </div>
                      <!--//icon-holder-->
                      <div class="content">
                        <b class="callout-title">Note:</b>
                        <p>
                          With MIRO version 2.1, the Hypercube Mode is
                          deprecated and and no longer exists as a separate
                          mode. You can now submit Hypercube jobs from the Base
                          Mode if you are using GAMS MIRO with a
                          <a href="./server.html">GAMS Engine backend</a> (GAMS
                          MIRO Server or GAMS MIRO Desktop - boosted by GAMS
                          Engine). You can find the most recent documentation
                          <a href="./hc-module.html">here</a>.
                        </p>
                      </div>
                      <!--//content-->
                    </div>
                    <!--//callout-block-->
                    <p>
                      MIRO allows the user to load input data, manipulate it,
                      start & stop the GAMS optimization run, inspect the
                      results as well as save, manage and compare different
                      scenarios.
                    </p>
                    <p>
                      Beside this <i>Base Mode</i>, there is another mode which
                      allows to configure and evaluate so-called
                      <a href="./faqs.html#def-hypercube-job">Hypercube jobs</a
                      >. A Hypercube job describes the automated execution of a
                      certain number of automatically generated scenarios that
                      differ with regard to their parameterization.
                    </p>
                    <p>
                      Let's get back to our <i>transport</i> example: In the
                      MIRO <i>Base Mode</i>, among other things, we saw that we
                      can determine the freight costs for the transportation of
                      goods from suppliers to markets. We also learned that MIRO
                      allows us to submit this particular scenario and fetch the
                      results once its done.
                    </p>
                    <p>
                      But what if we want to solve a multitude of such scenarios
                      with different parameterizations? Say, we are interested
                      in finding out how our model behaves with regard to a
                      change in freight costs as well as other input parameters?
                      To avoid having to configure and solve each scenario
                      individually, there is the <i>Hypercube Mode</i>. The
                      Hypercube Mode allows us to automatically solve and
                      examine a subset of the parameter space of our model. This
                      is done by varying all scalar model parameters
                      (zero-dimensional GAMS parameters) within a given range.
                      As a consequence, a large number of scenarios can be
                      configured and analyzed at once.
                    </p>
                    <div class="section-block" style="text-align: center">
                      <img
                        class="img-fluid"
                        src="assets/images/batch_img/hcube_steps_schema.png"
                        alt="Automated scenario generation"
                      />
                    </div>
                    <p>
                      Results of such Hypercube jobs can be stored and inspected
                      directly in MIRO. Custom scripts (e.g. a
                      <a href="https://jupyter.org" target="_blank"
                        >Jupyter Notebook</a
                      >) can be used to run analyses on multiple scenarios at
                      once. Also, the Automated Performance Analysis &
                      Visualization tool
                      <a href="https://github.com/coin-or/Paver" target="_blank"
                        >PAVER</a
                      >
                      is integrated. A direct comparison of scenarios in the
                      scenario view (via split / tab view) is available as well.
                      You might also want to download a given subset of the
                      scenarios you stored in MIRO and analyze them with the
                      help of external tools.
                    </p>
                    <p>
                      In short, the module presented here is designed to
                      efficiently generate, store and analyze a multitude of
                      scenarios.
                    </p>
                    <div class="section-block" style="text-align: center">
                      <img
                        class="img-fluid"
                        src="assets/images/batch_img/hcube_workflow.png"
                        alt="Hypercube Mode workflow"
                      />
                    </div>
                  </div>
                  <!--//section-block-->
                </section>
                <!--//doc-section-->
                <section id="hypercube-overview" class="doc-section">
                  <h2 class="section-title">Overview</h2>
                  <div class="section-block">
                    <p>
                      Before using the Hypercube Mode the first time MIRO has to
                      know which files belong to the GAMS model. This is
                      primarily the main model file, but also all files
                      necessary to calculate all inputs and outputs, e.g. files
                      that are included in the model. The reason for this is
                      that model calculations in Hypercube Mode are always
                      executed in a temporary directory. For this purpose, the
                      files assigned to the GAMS model are copied to the
                      temporary directory so that they are available during the
                      calculations. Read more on how you can tell MIRO which
                      files belong to your GAMS model via the
                      <a href="./deployment.html#model-assembly-file"
                        >model assembly file</a
                      >.
                    </p>
                    <p>
                      Just like the Base Mode, the Hypercube Mode can be started
                      directly from GAMS Studio or the command line. For the
                      latter, the environment variable
                      <span class="code">MIRO_MODE=hcube</span> needs to be set
                      instead of <span class="code">MIRO_MODE=base</span>. The
                      other steps (see
                      <a href="./start.html#start-via-command-line">here</a>)
                      remain the same. MIRO automatically processes and adjusts
                      your Base Mode configuration so that it will work in
                      Hypercube Mode.
                    </p>
                    <div class="section-block" style="text-align: center">
                      <img
                        class="img-fluid"
                        style="max-height: 150pt"
                        src="assets/images/studio/hcube_studio.png"
                        alt="Start Hypercube Mode via GAMS Studio"
                      />
                    </div>
                    <p>
                      Visually, the Hypercube interface hardly differs from the
                      regular mode. After starting the application, the
                      following familiar startup screen appears.
                    </p>
                    <div class="section-block" style="text-align: center">
                      <img
                        class="img-fluid"
                        src="assets/images/batch_img/hcube_start.png"
                        alt="start screen in Hypercube Mode"
                      />
                    </div>
                    <p>
                      <br />The navigation menu on the left side now consists of
                      the following sections:
                    </p>
                    <ol class="fa-ul">
                      <li>
                        <span class="fa-li"><i class="fas fa-th"></i></span
                        ><b>Configure Hypercube job: </b><br />
                        Configuration of Hypercube jobs.
                      </li>
                      <li>
                        <span class="fa-li"><i class="fas fa-upload"></i></span
                        ><b>Import results:</b><br />
                        Overview and import of submitted Hypercube jobs.
                      </li>
                      <li>
                        <span class="fa-li"
                          ><i class="fas fa-folder-open"></i></span
                        ><b>Load results:</b><br />
                        "Slice & dice" the database to fetch those scenarios you
                        are interested in.
                      </li>
                      <li>
                        <span class="fa-li"><i class="fas fa-copy"></i></span
                        ><b>Compare scenarios:</b><br />
                        Module known from the MIRO Base Mode for the comparison
                        of scenarios in split-, tab- and pivot view.
                      </li>
                      <li>
                        <span class="fa-li"
                          ><i class="fas fa-chart-pie"></i></span
                        ><b>Analyze scenarios:</b><br />
                        Scenario analyses with custom scripts or with the
                        integrated performance analysis tool PAVER.
                      </li>
                      <br />
                      <li>
                        <span class="fa-li"><i class="fas fa-square"></i></span
                        ><b>Load data:</b><br />
                        Loading input data for a Hypercube job. This can be a
                        GDX container, an Excel spreadsheet or existing data
                        from the database.
                      </li>
                      <li>
                        <span style="color: #f39619" class="fa-li"
                          ><i class="fas fa-square"></i></span
                        ><b>Submit jobs:</b><br />
                        Submission of a new Hypercube job.
                      </li>
                    </ol>
                  </div>
                  <!--//section-block-->
                </section>
                <!--//doc-section-->
                <section id="hypercube-scengen" class="doc-section">
                  <h2 class="section-title">Scenario generation</h2>
                  <div class="section-block">
                    <p>
                      A <a href="./faqs.html#def-scenario">scenario</a> is
                      characterized by a particular set of model input (and
                      output) parameters. If, for example, for a run of the
                      <i>transport</i> model, the freight cost is set to 90 and
                      the minimum shipment of goods is set to 100, then this
                      parameterization characterizes the scenario (together with
                      the other input and output parameters as well as
                      attachments). The Hypercube configuration discussed here
                      makes it possible to automatically submit several of those
                      scenarios at once.
                    </p>
                    <p>
                      The configuration of such a Hypercube job for a model is
                      done in the section <i>Configure Hypercube job</i>. Let's
                      take a look at an example.
                    </p>
                    <div id="scengen-config" class="section-block">
                      <h3 class="block-title">
                        Configuration of a Hypercube job
                      </h3>
                      <p>
                        If you compare the display of input data between a
                        single run in MIRO Base Mode and the configuration of a
                        Hypercube job, you will notice that some of the input
                        widgets have been automatically transformed:
                      </p>
                      <div class="section-block" style="text-align: center">
                        <img
                          class="img-fluid"
                          style="margin-bottom: 15px; max-height: 300pt"
                          src="assets/images/batch_img/regular_batch.png"
                          alt="cartesian product of configured parameters"
                        />
                      </div>
                      <p>
                        When we set up a run in the MIRO Base Mode, we could
                        specify the freight cost as well as the minimum amount
                        of goods to ship. Those are zero dimensional values. The
                        very same scalars can now be specified within a given
                        range: The sliders we specified in the Base Mode have
                        now become slider ranges. In addition, we can set a
                        <i>step size</i> for each slider range. In addition, the
                        single dropdown menu for selecting the problem type has
                        been replaced by a multi dropdown menu.
                      </p>
                      <div class="callout-block callout-success">
                        <div class="icon-holder">
                          <i class="fas fa-thumbs-up"></i>
                        </div>
                        <!--//icon-holder-->
                        <div class="content">
                          <b class="callout-title">Tip:</b>
                          <p>
                            Input widgets you defined for your scalars in the
                            Base Mode are automatically expanded in the
                            Hypercube Mode (e.g. a slider in Base Mode is
                            expanded to a slider range in Hypercube Mode and a
                            single-dropdown menu is expanded to a multi-dropdown
                            menu etc.).
                          </p>
                        </div>
                        <!--//content-->
                      </div>
                      <!--//callout-block-->
                      <div class="section-block">
                        <p>
                          The table below gives an overview of the widgets and
                          their different appearance in the base and the
                          Hypercube Mode.
                        </p>
                        <div class="table-responsive">
                          <table
                            class="table table-striped"
                            style="margin: 0px auto; margin-bottom: 15px"
                          >
                            <thead>
                              <tr>
                                <th>Single mode</th>
                                <th>Hypercube Mode</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <td>Single slider</td>
                                <td>Slider range with step size selection</td>
                              </tr>
                              <tr>
                                <td>Slider range</td>
                                <td>
                                  Slider range with step size and
                                  combination-type selection
                                </td>
                              </tr>
                              <tr>
                                <td>Single dropdown menu</td>
                                <td>Multi dropdown menu</td>
                              </tr>
                              <tr>
                                <td>Multi dropdown menu</td>
                                <td>Not supported yet</td>
                              </tr>
                              <tr>
                                <td>Checkbox</td>
                                <td>
                                  Multi dropdown menu with options
                                  <i>yes</i> and <i>no</i>
                                </td>
                              </tr>
                              <tr>
                                <td>Date selector</td>
                                <td>Date selector</td>
                              </tr>
                              <tr>
                                <td>Date range selector</td>
                                <td>Date range selector</td>
                              </tr>
                              <tr>
                                <td>Text input</td>
                                <td>Text input</td>
                              </tr>
                              <tr>
                                <td>Numeric input</td>
                                <td>Numeric input</td>
                              </tr>
                              <tr>
                                <td>Parameter table</td>
                                <td>Parameter table</td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                        <!--//table-responsive-->
                        <p>
                          The transformation of input widgets has the following
                          implication for the submission of Hypercube jobs:
                          <a href="#nobatch" class="scrollto"
                            >Unless explicitly specified</a
                          >
                          in the MIRO configuration of the model, each scalar is
                          expanded and the cartesian product over all scalars
                          defines a Hypercube job. In other words: All
                          combinations are generated from the configuration
                          selected by the user and each of those combinations is
                          the basis of what we call a
                          <a href="./faqs.html#def-scenario" target="_blank"
                            >scenario</a
                          >
                          in the Base Mode.
                        </p>
                        <div class="section-block" style="text-align: center">
                          <img
                            id="job-configuration"
                            class="img-fluid"
                            style="margin-bottom: 15px; max-height: 325pt"
                            src="assets/images/batch_img/trnsport_batch.png"
                            alt="regular transport parameterization"
                          />
                        </div>
                        <p id="hcube-example">
                          In the example, the slider for
                          <i>freight in dollars per case per thousand miles</i>
                          was set by us to a range from 75 to 150 with a step
                          size of 5. The slider configured in this way leads to
                          16 different variants.
                        </p>
                        <ul>
                          <li>Variant 1: <i>freight</i> = 75</li>
                          <li>Variant 2: <i>freight</i> = 80</li>
                          <li>Variant 3: <i>freight</i> = 85</li>
                          [...]
                          <li>Variant 16: <i>freight</i> = 150</li>
                        </ul>
                        <p id="stepsize">
                          For the scalar <i>minimum shipment</i> the slider was
                          set to a range between 20 and 200 with a step size of
                          20. The resulting variants would therefore be:
                        </p>
                        <ul>
                          <li>
                            Variant 1: <i>number of days for training</i> = 20
                          </li>
                          <li>
                            Variant 2: <i>number of days for training</i> = 40
                          </li>
                          <li>
                            Variant 3: <i>number of days for training</i> = 60
                          </li>
                          [...]
                          <li>
                            Variant 10: <i>number of days for training</i> = 200
                          </li>
                        </ul>
                        <p>
                          The third slider for the scalar parameter
                          <span class="code">beta</span> is not set to a range
                          but to a single value. Due to the non-existent
                          variation of the scalar, only one variant results from
                          it. The same is true for the last widget, a multi
                          dropdown menu where we specify to only consider the
                          <span class="code">MIP</span> version of our model.
                        </p>
                        <p>
                          The cartesian product that results from the
                          combination of all variations is now calculated: It is
                          created from the different variants of the symbols
                          <i>freight in dollars per case per thousand miles</i>
                          (16), <i>minimum shipment</i> (10), <i>beta</i> (1)
                          and <i>Select model type</i> (1) resulting in 16 x 10
                          x 1 x 1 = 160 individual scenarios.
                        </p>
                        <div class="section-block" style="text-align: center">
                          <img
                            class="img-fluid"
                            style="margin-bottom: 15px; max-height: 250pt"
                            src="assets/images/batch_img/cart_prod.png"
                            alt="cartesian product of configured parameters"
                          />
                        </div>
                        <p id="nobatch">
                          It becomes clear that the number of scenarios
                          resulting from a particular Hypercube job
                          configuration can increase rapidly with the number of
                          scalar that are expanded. Depending on how
                          computationally intensive the underlying GAMS model
                          is, the scenarios should be carefully configured.
                          <br />You may want to restrict certain input widgets
                          to be transformed: This can be done in the MIRO
                          <a href="./customize.html#configurationMode"
                            >Configuration Mode</a
                          >
                          by unchecking the widget-specific option
                          <a href="./widgets.html#slider-option-expand"
                            ><i
                              >Should element be expanded automatically in
                              Hypercube Mode?</i
                            ></a
                          >.
                        </p>

                        <div class="section-block" style="text-align: center">
                          <img
                            class="img-fluid"
                            style="max-height: 40pt"
                            src="assets/images/batch_img/no_expand.png"
                            alt="Should element be expanded automatically in Hypercube Mode?"
                          />
                        </div>
                        <p>
                          When activated, this configuration has the consequence
                          that the scalar can still be selected in the scenario
                          generation but with a regular slider instead of a
                          slider range.
                        </p>
                        <div
                          id="multi-dim-symbols"
                          class="callout-block callout-success"
                        >
                          <div class="icon-holder">
                            <i class="fas fa-thumbs-up"></i>
                          </div>
                          <!--//icon-holder-->
                          <div class="content">
                            <b class="callout-title"
                              >Multidimensional Symbols:</b
                            >
                            <p>
                              Unlike scalar values, multidimensional symbols
                              such as sets, parameters and multidimensional
                              singleton sets cannot be varied within a Hypercube
                              job configuration. The data remains fixed in every
                              created scenario of a job. However, this does not
                              mean that Hypercube Mode can only be used for zero
                              dimensional symbols. In order to be able to vary
                              data of multidimensional symbols using the
                              Hypercube job configuration, this must be
                              implemented in the GAMS model itself. For example,
                              you can use a scalar in the model and assign
                              different data to a multidimensional parameter in
                              the model depending on the value of that scalar.
                              If this scalar value is now varied during a
                              Hypercube job, this also affects the
                              multidimensional parameter.
                            </p>
                          </div>
                          <!--//content-->
                        </div>
                        <!--//callout-block-->
                      </div>
                      <!--//section-block-->
                    </div>
                    <!--//section-block-->
                    <div id="job-submission-general" class="section-block">
                      <h3 class="block-title">Job submission: general</h3>
                      <p>
                        Once you are happy with the set up of your Hypercube
                        job, you can submit it by clicking: <i>Submit job</i>.
                        This triggers the expansion of all scenarios resulting
                        from your configuration and sets up your Hypercube job.
                      </p>
                      <div class="section-block" style="text-align: center">
                        <img
                          class="img-fluid"
                          style="max-height: 200pt"
                          src="assets/images/batch_img/hcube_submit_btn.png"
                          alt="Submit button"
                        />
                      </div>
                      <div class="callout-block callout-warning">
                        <div class="icon-holder">
                          <i class="fas fa-info-circle"></i>
                        </div>
                        <!--//icon-holder-->
                        <div class="content">
                          <b class="callout-title">Note:</b>
                          <p>
                            The maximum number of scenarios that can be
                            submitted in one job is limited to 10&thinsp;000.
                          </p>
                        </div>
                        <!--//content-->
                      </div>
                      <!--//callout-block-->
                      <div class="callout-block callout-warning">
                        <div class="icon-holder">
                          <i class="fas fa-info-circle"></i>
                        </div>
                        <!--//icon-holder-->
                        <div class="content">
                          <b class="callout-title">Note:</b>
                          <p>
                            Currently, when executing Hypercube jobs locally
                            (without
                            <a href="https://gams.com/engine">GAMS Engine</a>),
                            your model must be prepared to work with
                            <span class="code"
                              ><a href="./deployment.html#local-multi-user"
                                >idir</a
                              ></span
                            >. MIRO creates a local working directory for each
                            scenario and executes your model from this
                            directory, while referring to the main
                            <span class="code">gms</span> file via
                            <span class="code">idir1</span>.
                          </p>
                          <p>
                            You can debug your model by submitting a Hypercube
                            job, navigating to the directory of your Hypercube
                            job (<span class="code"
                              >C:\Users\&lt;username&gt;\.miro\hcube_jobs\&lt;modelname&gt;\1</span
                            >
                            on Windows,
                            <span class="code"
                              >~/.miro/hcube_jobs/&lt;modelname&gt;/1</span
                            >
                            on macOS/Linux) and executing the file
                            <span class="code">jobsubmission.gms</span> file
                            from GAMS Studio.
                          </p>
                        </div>
                        <!--//content-->
                      </div>
                      <!--//callout-block-->
                      <p>
                        MIRO also looks into the database where your previous
                        runs are stored and checks whether a subset of the
                        scenarios you want to commit have already been saved. If
                        it finds results from previous runs, MIRO asks if it
                        should commit only the scenarios that have not yet been
                        executed, or if it should submit all of them again.<br />
                        There are a number of reasons why you might want to
                        re-submit certain scenarios. We will elaborate on these
                        reasons in the next section that discusses the technical
                        details of how MIRO sets up a Hypercube job. If you are
                        reading this documentation for the first time, you might
                        want to skip this next advanced (sub)section. If you are
                        interested, just click on the headline.
                      </p>
                      <div class="expandable-box-outline">
                        <h3
                          id="hash-generation"
                          class="block-title"
                          onclick="$(this).next().slideToggle();$(this).find('.slide-toggle').toggleClass( 'fa-plus fa-minus' );"
                          style="cursor: pointer"
                        >
                          <i class="fas fa-plus slide-toggle"></i> Advanced: How
                          MIRO identifies Hypercube jobs
                        </h3>
                        <div class="section-block" style="display: none">
                          <p>
                            You might be wondering how MIRO knows whether a job
                            has already been submitted or rather how a job is
                            identified. Each scenario is characterized by the
                            set of all input datasets that are populated by
                            MIRO. This means that when you change something in
                            your model or your execution environment that is not
                            known to MIRO, it will not be detected as a
                            different scenario. Let's consider the case where
                            you want to run a certain set of scenarios on your
                            local machine and then on a compute cluster in order
                            to perform some performance analyses. Since all of
                            the input datasets that come from MIRO remain the
                            same, MIRO thinks that the scenarios are identical.
                            No attribute "compute environment" is known to
                            MIRO.<br />
                            A scenario is identified by a 256-bit
                            <a
                              href="https://en.wikipedia.org/wiki/SHA-2"
                              target="_blank"
                              >SHA-2</a
                            >
                            hash value that MIRO computes as follows:
                          </p>
                          <p>
                            For each scenario of a Hypercube job the GAMS call
                            is compiled:
                            <span class="code"
                              >gams transport.gms
                              --HCUBE_STATIC_a=8bc030208cf6482932608872c5681310
                              --HCUBE_SCALAR_beta=0.86 --type="mip"</span
                            >
                            You probably notice some oddities: All of the inputs
                            that come from MIRO are included in this call, even
                            those that are not GAMS command line parameters.
                            GAMS scalars are prefixed with the keyword
                            <kbd>HCUBE_SCALAR_</kbd>; parameters and other
                            multi-dimensional GAMS symbols with the keyword
                            <kbd>HCUBE_STATIC_</kbd>. Furthermore, the value of
                            parameter <span class="code">a</span> looks weird:
                            MIRO hashes the csv representation of the parameter
                            with a 128-bit
                            <a
                              href="https://en.wikipedia.org/wiki/MD5"
                              target="_blank"
                              >MD5</a
                            >
                            hash function. This way, we make sure that the
                            parameter and thus the entire GAMS command changes
                            when the table is modified and at the same time keep
                            the call short.<br />
                            The <kbd>HCUBE_SCALAR_</kbd> keyword instructs the
                            GAMS compiler to assign the specified value not to a
                            compile time variable but a GAMS symbol declared in
                            your model.<br />
                            Command line parameters (GAMS options and double
                            dash parameters) are just appended as in any GAMS
                            call.
                          </p>
                          Once the command is built, we hash this again with the
                          aforementioned SHA-2 hash function and get an
                          identifier of the form:
                          <span class="code"
                            >7f14dcce0c726d215adae54daa2690b6a86b540cf4e3efaf9f97e8f4f3ab90a5</span
                          >.
                          <p>
                            We end up with a (relatively) compact identifier of
                            a scenario while also making sure that we have a
                            valid file/directory name without any reserved
                            characters. The obvious disadvantage is that there
                            is no way to derive the input parameters from the
                            hash.
                          </p>
                        </div>
                      </div>
                      <div class="section-block">
                        <p>
                          When we decided which of the scenarios to submit, we
                          have two options of HOW to submit the job:
                        </p>
                        <ol>
                          <li>
                            <a href="#auto-jobsubmit" class="scrollto"
                              ><b>Automated job submission</b></a
                            >
                          </li>
                          <li>
                            <a href="#manual-jobsubmit" class="scrollto"
                              ><b>Manual job submission</b></a
                            >
                          </li>
                        </ol>
                      </div>
                    </div>
                    <div id="auto-jobsubmit" class="section-block">
                      <h3 class="block-title">Automated job submission</h3>
                      <div id="auto-jobsubmit-general" class="section-block">
                        <h5 class="block-title">General</h5>
                        <p>
                          All scenarios of the Hypercube job are calculated
                          automatically on the machine running MIRO.
                        </p>
                        <div class="section-block" style="text-align: center">
                          <img
                            class="img-fluid"
                            style="max-height: 200pt"
                            src="assets/images/batch_img/hcube_conf.png"
                            alt="Automated job submission"
                          />
                        </div>
                        <p id="job-tag">
                          <a href="./faqs.html#def-job-tag"><i>Job tags</i></a
                          >: When submitting a Hypercube job automatically, we
                          can optionally specify job tags. Job tags are an
                          identifier attached to all scenarios of a Hypercube
                          job. They can help you identify scenarios of a certain
                          job or a group of jobs with similar attributes. This
                          means that you can use those tags as part of your
                          database queries in order to easily find certain
                          scenarios that you are interested in. Additionally,
                          job tags can also be used to compare different groups
                          of scenarios that you are interested in via PAVER.
                        </p>
                      </div>
                      <div id="auto-jobsubmit-import" class="section-block">
                        <h5 class="block-title">Import results</h5>
                        <p>
                          When we submit the Hypercube job automatically, it
                          will be executed in the background. Without going into
                          too much detail, what happens here is simple:
                          <br />First, a
                          <a href="#manual-jobsubmit-general" class="scrollto"
                            >Hypercube file</a
                          >
                          which contains all scenario configurations is created
                          by MIRO. This file gets converted into executable GAMS
                          calls, which are then processed. The script which is
                          responsible for this conversion is located in the
                          <span class="code">/resources</span> folder of the
                          MIRO installation directory and can be customized as
                          needed. More about these steps in the section on
                          <a href="#manual-jobsubmit-general" class="scrollto"
                            >manual execution</a
                          >
                          of a Hypercube job.
                        </p>
                        <p>
                          Once a Hypercube job has been submitted, it is shown
                          in the <i>Import results</i> section which can be
                          accessed via the sidebar menu. There, all jobs are
                          listed that are still running or whose results have
                          not yet been imported.
                        </p>
                        <div class="section-block" style="text-align: center">
                          <img
                            class="img-fluid"
                            style="max-height: 300pt"
                            src="assets/images/batch_img/hcube-import.png"
                            alt="Import results - overview"
                          />
                        </div>
                        <p>
                          The overview shows for each submitted job the owner,
                          the submission date and the (optional) specified job
                          tag(s). In addition, the current status
                          (<i>scheduled</i>, <i>running</i> or <i>completed</i>)
                          is visible. The progress of a run can be displayed by
                          clicking on the corresponding
                          <i>show progress</i> button and results that have not
                          yet been loaded into the database or are still pending
                          can be discarded. As soon as a job has finished, the
                          results can be loaded into the database with a click
                          on <i>Import</i>.
                        </p>
                        <div class="section-block" style="text-align: center">
                          <img
                            class="img-fluid"
                            style="max-height: 125pt"
                            src="assets/images/batch_img/progress_bar.png"
                            alt="Progress of current hypercube job"
                          />
                        </div>
                        <p>
                          If you want to see jobs that you previously imported
                          or discarded, you can do so by clicking on
                          <i>Show history</i>:
                        </p>
                        <div class="section-block" style="text-align: center">
                          <img
                            class="img-fluid"
                            style="max-height: 250pt"
                            src="assets/images/batch_img/hcube-import-hist.png"
                            alt="Import results - job history"
                          />
                        </div>
                        <p>
                          Once a job has been imported, the results are stored
                          in the database.
                        </p>
                      </div>
                      <!--//section-block-->
                    </div>
                    <div id="manual-jobsubmit" class="section-block">
                      <h3 class="block-title">Manual job submission</h3>
                      <div
                        class="callout-warning"
                        style="padding: 5px; margin: 10px 0px"
                      >
                        <p style="margin-bottom: 0">
                          This option is especially interesting if the
                          calculations are not to be performed on the same
                          machine on which MIRO is running, e.g. some compute
                          cluster.
                        </p>
                      </div>
                      <!--//callout-block-->
                      <div class="callout-block callout-warning">
                        <div class="icon-holder">
                          <i class="fas fa-info-circle"></i>
                        </div>
                        <!--//icon-holder-->
                        <div class="content">
                          <b class="callout-title">Note:</b>
                          <p>
                            GAMS version 30.2 or later must be installed on the
                            system running the job.
                          </p>
                        </div>
                        <!--//content-->
                      </div>
                      <!--//callout-block-->
                      <div id="manual-jobsubmit-general" class="section-block">
                        <h5 class="block-title">Download zip archive</h5>
                        <p>
                          If we want to execute a Hypercube job manually, we can
                          download a ZIP archive with all needed data by
                          clicking on <i>Submit job</i> &rarr;
                          <i>Process job manually</i>.
                        </p>
                        <div class="section-block" style="text-align: center">
                          <img
                            class="img-fluid"
                            style="max-height: 200pt"
                            src="assets/images/batch_img/hcube_conf2.png"
                            alt="Manual job submission"
                          />
                        </div>
                        <p>The archive has the following contents:</p>
                        <ul>
                          <li><i>transport.gms</i> <br />model file</li>
                          <li>
                            <i>static</i> folder <br />This folder contains all
                            non-scalar (thus multidimensional) input data in
                            form of a GDX file. As explained
                            <a href="#multi-dim-symbols" class="scrollto"
                              >here</a
                            >, this data remains the same for all scenarios of a
                            Hypercube job.
                          </li>
                          <li>
                            hcube.json <br />Hypercube file. Contains all
                            variable information on the scenarios to be
                            calculated (scenario ID, command line arguments).
                          </li>
                          <li>
                            <i>transport.pf</i> <br />This
                            <a
                              href="https://www.gams.com/latest/docs/UG_GamsCall.html#UG_GamsCall_SecondaryParameterFile"
                              target="_blank"
                              >parameter file</a
                            >
                            contains options which must be set in order to solve
                            the scenarios of a hypercube job. You should not
                            touch this file.
                          </li>
                          <li id="hcube-submission-file">
                            <i>hcube_submission.gms</i> <br />File used in
                            <a href="#auto-jobsubmit" class="scrollto"
                              >automated job submission</a
                            >
                            to generate a script based on the contents of the
                            hypercube file and all static data, which then can
                            be executed in GAMS.
                          </li>
                          <li>
                            In addition, all directories and files that have
                            been assigned to the model by the user (see
                            <a href="./deployment.html#sbs-create-app"
                              >model assembly file</a
                            >) are also included.
                          </li>
                        </ul>
                        <div class="section-block" style="text-align: center">
                          <img
                            class="img-fluid"
                            style="max-height: 100pt"
                            src="assets/images/batch_img/hcube-zip.png"
                            alt="Zip file for manual job submission"
                          />
                        </div>
                        <p id="hcube-json-file">
                          Let's have a brief look at the <i>hcube.json</i> file
                          which originates from the already shown configuration
                          <a href="#job-configuration" class="scrollto">above</a
                          >:
                        </p>
                        <pre><code class="language-json">
{
    "jobs":[ {
        "id": "e505eb77f2fed92ecb6c7609a6873974ea87d69b620a7ca9aa8d6a1a62e7159b",
        "arguments": [
            "--HCUBE_SCALARV_mins=20",
            "--HCUBE_SCALARV_beta=0.97",
            "--HCUBE_SCALARV_f=75",
            "--type=\"mip\""
        ]
    },
    {
        "id": "834cc2ff77d5cddc70f6462263a500ab43d22f084a0d98ff1fd8cfc354c8e6ec",
        "arguments": [
            "--HCUBE_SCALARV_mins=40",
            "--HCUBE_SCALARV_beta=0.97",
            "--HCUBE_SCALARV_f=75",
            "--type=\"mip\""
        ]
    },
    {
        "id": "867432ac65a22a251ee6fca0ce5eb7ba45195538e389406abe7593f21b8255c4",
        "arguments": [
            "--HCUBE_SCALARV_mins=60",
            "--HCUBE_SCALARV_beta=0.97",
            "--HCUBE_SCALARV_f=75",
            "--type=\"mip\""]
    },

    [...]

    ]
}
                                            </code></pre>
                        <p>
                          Each object contains the information needed for
                          exactly one scenario, i.e. each variable scenario
                          configuration is stored in a separate JSON object:
                        </p>
                        <ul>
                          <li>
                            ID: <br />Each job has an individual ID in form of a
                            <i>hash value</i> which used to (almost) uniquely
                            identify a scenario. To learn more about how this
                            hash is generated, read more on how MIRO identifies
                            Hypercube jobs
                            <a href="#hash-generation" class="scrollto">here</a
                            >.
                          </li>
                          <li>
                            Arguments: <br />The arguments contain information
                            on all scalar values, i.e. GAMS Scalars, scalar
                            Sets, double-dash parameters and GAMS Options. This
                            is where the individual scenarios differ.
                          </li>
                        </ul>
                      </div>
                      <div id="manual-jobsubmit-run" class="section-block">
                        <h5 class="block-title">Run the Hypercube job</h5>
                        <p>
                          To be able to calculate all configured scenarios in
                          GAMS, we need to convert the scenario-specific
                          information provided in the file
                          <i>hcube.json</i> together with the static data into
                          an executable GAMS script. Additionally, the results
                          need to be saved in such a way that MIRO can validate
                          and import them. The file
                          <a href="#hcube-submission-file" class="scrollto"
                            ><span class="code">hcube_submission.gms</span></a
                          >
                          is a simple script which is used in the
                          <a href="#auto-jobsubmit" class="scrollto"
                            >automated job submission</a
                          >
                          for this purpose and which can also be used here.
                        </p>
                        <div class="callout-block callout-warning">
                          <div class="icon-holder">
                            <i class="fas fa-info-circle"></i>
                          </div>
                          <!--//icon-holder-->
                          <div class="content">
                            <b class="callout-title">Note:</b>
                            <p>
                              In case you need to customize this script e.g.
                              because you want to send the GAMS jobs to some
                              sort of compute server, you will need to adjust
                              this file accordingly. Note that the folder
                              structure of the downloaded ZIP file corresponds
                              to the structure assumed in the file
                              hcube_submission.gms.
                            </p>
                          </div>
                          <!--//content-->
                        </div>
                        <!--//callout-block-->
                        <p>
                          By running the hcube_submission.gms we can generate a
                          script based on the contents of the hcube.json file
                          and all static data, which then can be executed in
                          GAMS. This is how the resulting file
                          <i>jobsubmission.gms</i> looks like.
                        </p>
                        <pre id="jobsubmission-gms"><code class="language-gams">
$if dexist 4upload $call rm -r 4upload
$call mkdir 4upload
$call cd 4upload && mkdir tmp0
$if errorlevel 1 $abort problems mkdir tmp0
$call cd 4upload/tmp0 && gams "C:\Users\Robin\Documents\.miro\hcube_jobs\transport\1\transport.gms" --HCUBE_SCALARV_mins=20 --HCUBE_SCALARV_beta=0.97 --HCUBE_SCALARV_f=75 --type="mip" pf="C:\Users\Robin\Documents\.miro\hcube_jobs\transport\1\transport.pf"
$if dexist e505eb77f2fed92ecb6c7609a6873974ea87d69b620a7ca9aa8d6a1a62e7159b $call rm -r e505eb77f2fed92ecb6c7609a6873974ea87d69b620a7ca9aa8d6a1a62e7159b
$call cd 4upload && mv tmp0 e505eb77f2fed92ecb6c7609a6873974ea87d69b620a7ca9aa8d6a1a62e7159b

$onecho > "%jobID%.log"
1/160
$offecho
$call cd 4upload && mkdir tmp1
$if errorlevel 1 $abort problems mkdir tmp1
$call cd 4upload/tmp1 && gams "C:\Users\Robin\Documents\.miro\hcube_jobs\transport\1\transport.gms" --HCUBE_SCALARV_mins=40 --HCUBE_SCALARV_beta=0.97 --HCUBE_SCALARV_f=75 --type="mip" pf="C:\Users\Robin\Documents\.miro\hcube_jobs\transport\1\transport.pf"
$if dexist 834cc2ff77d5cddc70f6462263a500ab43d22f084a0d98ff1fd8cfc354c8e6ec $call rm -r 834cc2ff77d5cddc70f6462263a500ab43d22f084a0d98ff1fd8cfc354c8e6ec
$call cd 4upload && mv tmp1 834cc2ff77d5cddc70f6462263a500ab43d22f084a0d98ff1fd8cfc354c8e6ec

$onecho > "%jobID%.log"
2/160
$offecho
$call cd 4upload && mkdir tmp2
$if errorlevel 1 $abort problems mkdir tmp2
$call cd 4upload/tmp2 && gams "C:\Users\Robin\Documents\.miro\hcube_jobs\transport\1\transport.gms" --HCUBE_SCALARV_mins=60 --HCUBE_SCALARV_beta=0.97 --HCUBE_SCALARV_f=75 --type="mip" pf="C:\Users\Robin\Documents\.miro\hcube_jobs\transport\1\transport.pf"
$if dexist 867432ac65a22a251ee6fca0ce5eb7ba45195538e389406abe7593f21b8255c4 $call rm -r 867432ac65a22a251ee6fca0ce5eb7ba45195538e389406abe7593f21b8255c4
$call cd 4upload && mv tmp2 867432ac65a22a251ee6fca0ce5eb7ba45195538e389406abe7593f21b8255c4

[...]
                                            </code></pre>
                        <p>
                          We can see the commands for running through the first
                          three scenarios of the
                          <a href="#hcube-json-file" class="scrollto"
                            >hcube.json</a
                          >
                          file. A separate (temporary) folder is created for
                          each scenario to be calculated. In the main GAMS call
                          all arguments contained in the hcube.json file which
                          belong to the scenario are listed as command line
                          parameters.
                        </p>
                        <pre><code class="language-gams">
$call [...] gams "[...]\transport.gms" --HCUBE_SCALARV_mins=20 --HCUBE_SCALARV_beta=0.97 --HCUBE_SCALARV_f=75 --type="mip" [...]
                                            </code></pre>
                        <p>
                          GAMS Scalars can usually not be set via a GAMS call,
                          but are defined in the model. In order to be able to
                          set scalars via the command line, MIRO adds a special
                          prefix:
                          <span class="code"
                            >--HCUBE_SCALARV_&lt;scalar-name&gt;=&lt;scalar-value&gt;</span
                          >, e.g.
                          <span class="code">--HCUBE_SCALARV_f=90</span> for
                          scalar
                          <span class="code" style="white-space: nowrap"
                            >f</span
                          >
                          and a value of 90. To continue this example, if a GAMS
                          model is called with
                          <a
                            href="https://www.gams.com/30/docs/UG_GamsCall.html#GAMSAOidcgdxinput"
                            target="_blank"
                            ><span class="code">IDCGDXInput</span></a
                          >
                          (which is done here using the
                          <a href="#pf-file" class="scrollto">pf file</a>) and
                          the compile-time variable
                          <span class="code">--HCUBE_SCALARV_f=90</span>, a
                          scalar <span class="code">f</span> is searched in the
                          list of symbols declared in your GAMS model and, if
                          declared, set to the value of the compile-time
                          variable, i.e. 90. The set text of a singleton set is
                          communicated via the prefix
                          <span class="code">--HCUBE_SCALART_</span>.
                        </p>
                        <div class="callout-block callout-warning">
                          <div class="icon-holder">
                            <i class="fas fa-info-circle"></i>
                          </div>
                          <!--//icon-holder-->
                          <div class="content">
                            <b class="callout-title">Note:</b>
                            <p>
                              The GAMS options and double-dash parameters
                              associated with a scenario are stored in MIRO's
                              internal database. However, the information about
                              them is lost when a scenario is exported as a GDX
                              file. This is especially relevant in Hypercube
                              Mode, where data exchange is done via GDX files.
                              We therefore recommend using singleton sets
                              instead of command line parameters. Both the
                              element label and the element text of a set can be
                              migrated to compile time variables using the
                              Dollar Control Options
                              <a
                                href="https://www.gams.com/29/docs/UG_DollarControlOptions.html#DOLLARevalset"
                                target="__blank"
                                >eval.Set</a
                              >,
                              <a
                                href="https://www.gams.com/29/docs/UG_DollarControlOptions.html#DOLLARevalglobalset"
                                target="__blank"
                                >evalGlobal.Set</a
                              >, and
                              <a
                                href="https://www.gams.com/29/docs/UG_DollarControlOptions.html#DOLLARevallocalset"
                                target="__blank"
                                >evalLocal.Set</a
                              >.
                            </p>
                          </div>
                          <!--//content-->
                        </div>
                        <!--//callout-block-->
                        <p id="pf-file">
                          Besides this scenario-specific data, a GDX file
                          containing all static data is included at the end of
                          the <i>$call</i> as part of a pf file:
                        </p>
                        <pre><code class="language-gams">
$call [...] pf="[...]\transport.pf"
                                            </code></pre>
                        <pre><code class="language-gams">
execMode=0
IDCGDXOutput="_miro_gdxout_.gdx"
IDCGenerateGDXInput="_miro_gdxin_.gdx"
IDCGDXInput="..\..\static\_miro_gdxin_.gdx"
trace="_sys_trace_transport.trc"
traceopt=3

                                            </code></pre>
                        <!--<p>Non-scalar / multi-dimensional input data such as parameters are static for all scenarios of the Hypercube. The hash value of these static tables is computed and included in the generation of the scenario hash. This way, when modifying one or more of the static datasets, the hash of the generated scenarios changes.</p>-->
                        <p>
                          The pf file also contains the command to create a
                          trace file. In case you are interested in doing
                          performance analysis using
                          <a
                            href="https://github.com/coin-or/Paver"
                            target="_blank"
                            >PAVER</a
                          >, you need to make sure to generate trace files for
                          your scenarios.
                        </p>
                        <p>
                          After the calculations, the results of a scenario
                          (input and output data) are stored in a folder named
                          by its ID.
                        </p>
                        <p></p>
                        <div class="callout-block callout-warning">
                          <div class="icon-holder">
                            <i class="fas fa-info-circle"></i>
                          </div>
                          <!--//icon-holder-->
                          <div class="content">
                            <b class="callout-title">Note:</b>
                            <p>
                              As already mentioned, the
                              <i>hcube_submission.gms</i> file that is included
                              in the archive you downloaded provides you with a
                              template (in this case using Python) to
                              automatically generate the
                              <i>jobsubmission.gms</i> script shown
                              <a href="#jobsubmission-gms" class="scrollto"
                                >above</a
                              >. Depending on your infrastructure, you can
                              either extend this file or write a new one from
                              scratch. Irrespective of whether the provided
                              script or a custom method is used, you need to
                              make sure that the results you retrieve are
                              structured according to the
                              <a href="#import-rules" class="scrollto">rules</a>
                              in order to import them back into MIRO.
                            </p>
                          </div>
                          <!--//content-->
                        </div>
                        <!--//callout-block-->
                      </div>
                      <!--//section-block-->
                      <div
                        id="manual-jobsubmit-import-rules"
                        class="section-block"
                      >
                        <h5 class="block-title" id="import-rules">
                          Import rules
                        </h5>
                        <p>
                          At the end of the calculations, the results should be
                          available in the form of a ZIP archive. For MIRO to
                          accept the archive as a valid set of scenarios, the
                          input and output data records for a certain scenario
                          must be available as GDX files. These must be located
                          in a folder named after the hash value of the scenario
                          and located in the root directory of the zip file.
                        </p>
                        <div class="section-block">
                          <img
                            class="img-fluid"
                            style="
                              display: block;
                              margin: auto;
                              max-height: 125px;
                            "
                            src="assets/images/batch_img/upload_zip.png"
                            alt="contents of the ZIP file to be uploaded"
                          />
                        </div>
                        <p>
                          There are some files that must exist in order for MIRO
                          to accept a particular scenario. Other datasets are
                          optional and don't have to be included in the zip
                          archive. The mandatory files are:
                        </p>
                        <ul>
                          <li>
                            <span class="code" style="white-space: nowrap"
                              >_miro_gdxin_.gdx</span
                            ><br />Scenario input data (GDX file)
                          </li>
                          <li>
                            <span class="code" style="white-space: nowrap"
                              >_sys_trace_&lt;modelname&gt;.trc</span
                            ><br /><a
                              href="https://www.gams.com/latest/docs/UG_SolverUsage.html#UG_SolverUsage_TraceFile"
                              target="_blank"
                              >Trace file</a
                            >
                            of the scenario run. This file contains numerous run
                            statistics which are used for the the integrated
                            performance analysis tool PAVER. The Hypercube job
                            file already contains the GAMS options for
                            generating the trace file automatically. In case you
                            specified (in your MIRO app configuration) that you
                            are not interested in trace information (option
                            <code class="language-json">saveTraceFile</code> set
                            to <code class="language-json">false</code>),
                            mustn't be included in your scenario data. You can
                            find more information about the trace file
                            <a
                              href="https://www.gams.com/latest/docs/UG_SolverUsage.html#UG_SolverUsage_TraceFile"
                              target="_blank"
                              >here</a
                            >.
                          </li>
                        </ul>
                        <p>
                          These files are generated automatically when you use
                          the
                          <a href="#hcube-submission-file" class="scrollto"
                            >hcube_submission.gms</a
                          >
                          file. If scenario data does not contain all mandatory
                          files, this scenario will be ignored and thus not be
                          stored in the database. If results are available,
                          beside the GDX with input data also one with output
                          data is created, namely the GDX
                          <span class="code" style="white-space: nowrap"
                            >_miro_gdxout_.gdx</span
                          >. This file contains all output parameters declared
                          in the GAMS model between the
                          <code class="language-gams">$onExternalOutput </code>
                          /
                          <code class="language-gams">$offExternalOutput </code>
                          tags. If a model calculation is aborted, this GDX is
                          not generated automatically.
                        </p>

                        <p>
                          The following figure summarizes the steps required to
                          move from the downloaded archive created by MIRO to a
                          ZIP archive that you can import back into MIRO:
                        </p>
                        <div class="section-block" style="text-align: center">
                          <img
                            class="img-fluid"
                            style="margin-bottom: 15px"
                            src="assets/images/batch_img/hcube_schema.png"
                            alt="schematic of possible workflow"
                          />
                        </div>
                      </div>
                      <!--//section-block-->
                      <div id="manual-jobsubmit-import" class="section-block">
                        <h5 class="block-title" id="import-results">
                          Import results
                        </h5>
                        <p>
                          Once a Hypercube job finished execution, it can be
                          imported and stored in MIRO's database via the
                          <i>import results</i> module. In the bottom right
                          corner of the window, click on <i>Manual import</i>.
                        </p>
                        <div class="section-block">
                          <img
                            class="img-fluid"
                            style="
                              display: block;
                              margin: auto;
                              max-height: 250pt;
                            "
                            src="assets/images/batch_img/batch_import.png"
                            alt="Results upload module"
                          />
                        </div>
                        <h6>Upload Zip file with results:</h6>
                        <p>
                          A dialog pops up that lets you choose the zip archive
                          with the Hypercube job results. Note that you probably
                          want to assign
                          <a href="#job-tag" class="scrollto">job tags</a> here
                          as well.
                        </p>
                        <p>
                          With a click on <i>upload</i> the archive is evaluated
                          and stored in the MIRO database if the contained data
                          is valid.
                        </p>
                      </div>
                      <!--//section-block-->
                    </div>
                  </div>
                </section>
                <!--//doc-section-->
                <section id="analyses-section" class="doc-section">
                  <h2 class="section-title">Analyses</h2>
                  <div id="scenario-selection" class="section-block">
                    <h3 class="block-title">Scenario selection</h3>
                    <p>
                      Scenarios that have been imported into the MIRO database
                      can be used for subsequent analyses. The
                      <i>load scenarios</i> module is a graphical way to build
                      database queries. It gives you a lot of flexibility and
                      power to get exactly those scenarios you are interested
                      in. Let's take a look at an example:
                    </p>
                    <br />In our <i>transport</i> model, we have three input
                    scalars that we import from MIRO:
                    <pre><code class="language-gams">$onExternalInput
Scalar f    'freight in dollars per case per thousand miles' / 90 /
       minS 'minimum shipment (MIP- and MINLP-only)' / 100 /
       beta 'beta (MINLP-only)' / 0.95 /;
$offExternalInput
</code></pre>
                    <p>
                      Of particular interest are scalar inputs and outputs, as
                      you can easily use them to filter your data. More
                      specifically, it is possible to filter your database
                      tables by the following GAMS symbols:
                    </p>
                    <ul>
                      <li>Scalars</li>
                      <li>Singleton sets</li>
                      <li>Double-dash parameters</li>
                      <li>GAMS options</li>
                    </ul>
                    <div class="callout-block callout-warning">
                      <div class="icon-holder">
                        <i class="fas fa-info-circle"></i>
                      </div>
                      <!--//icon-holder-->
                      <div class="content">
                        <b class="callout-title">Note:</b>
                        <p>
                          A scenario originating from a Hypercube job has no
                          information about GAMS options and double-dash
                          parameters (read more
                          <a href="./model.html#command-line">here</a>).
                          Therefore, a filter for these compile-time variables
                          can only be applied to Base Mode scenarios.
                        </p>
                      </div>
                      <!--//content-->
                    </div>
                    <!--//callout-block-->
                    <p>
                      In addition to these scenario-specific filters, scenario
                      metadata such as the optionally defined job tags and the
                      creation date can also be used in a database query. You
                      can combine any of these filters with the logical
                      operators <i>AND</i> and <i>OR</i> (see figure below).
                    </p>
                    <div class="section-block" style="text-align: center">
                      <img
                        class="img-fluid"
                        src="assets/images/batch_img/hcube_db_query.png"
                        alt="Filtered database search"
                      />
                    </div>
                    <div class="callout-block callout-success">
                      <div class="icon-holder">
                        <i class="fas fa-thumbs-up"></i>
                      </div>
                      <!--//icon-holder-->
                      <div class="content">
                        <b class="callout-title">Tip:</b>
                        <p>
                          You can search for empty entries (<i>NA</i>) by
                          leaving the field empty if it is a numeric field, or
                          by using the <kbd>exists</kbd> and
                          <kbd>doesn't exist</kbd> operators for character
                          fields!
                        </p>
                      </div>
                      <!--//content-->
                    </div>
                    <!--//callout-block-->
                    <p>
                      Once you have set all the filters you are interested in,
                      you can execute your query by clicking on the
                      <i>Query database</i> button. After the results have been
                      retrieved, the page will be updated and you will see a
                      table with the scenarios that correspond to your query. In
                      the resulting table, you again have the option of
                      selecting the scenarios that really interest you.
                    </p>
                    <div class="callout-block callout-success">
                      <div class="icon-holder">
                        <i class="fas fa-thumbs-up"></i>
                      </div>
                      <!--//icon-holder-->
                      <div class="content">
                        <b class="callout-title">Tip:</b>
                        <p>
                          If you want to load a scenario that was part of a
                          Hypercube job into the Base Mode, you can get its hash
                          value by clicking <i>Show Hash</i> in the lower right
                          corner. Note that you can only show the hash of one
                          scenario at a time, so don't select more than one row
                          before clicking this button.
                        </p>
                        <p>
                          To load the scenario in Base mode, switch to that
                          mode, click on <i>Load data</i> and go to tab
                          <i>Hypercube</i>.
                        </p>
                        <div
                          class="section-block"
                          style="
                            display: block;
                            margin: auto;
                            text-align: center;
                          "
                        >
                          <img
                            class="img-fluid"
                            style="max-height: 225pt"
                            src="assets/images/import-hypercube.png"
                            alt="Import scenario via hash value"
                          />
                        </div>
                      </div>
                      <!--//content-->
                    </div>
                    <!--//callout-block-->
                    <p>
                      Whenever you have chosen the scenarios you want to
                      compare, you will be asked to choose a comparison/analysis
                      method:
                    </p>
                    <div class="section-block" style="text-align: center">
                      <img
                        class="img-fluid"
                        style="display: block; margin: auto; max-height: 150px"
                        src="assets/images/batch_img/comparison_method.png"
                        alt="Choose method for analyses"
                      />
                    </div>
                    <ul>
                      <li>
                        <b>Delete scenarios:</b><br />
                        Delete selected scenarios from MIRO.
                      </li>
                      <li>
                        <b>Download data:</b><br />
                        Download scenario data for external analysis.
                      </li>
                      <li>
                        <b>Analyze:</b><br />
                        An interface is available for your own scenario
                        analysis. Also, the automated performance analysis tool
                        <i>PAVER</i> is integrated.
                      </li>
                      <li>
                        <b>Compare: </b><br />
                        Interactive scenario comparison: Compare different
                        scenarios directly in split-, tab- or pivot view. Best
                        suited for a small number of scenarios to compare
                        (maximum number of scenarios allowed: 10).
                      </li>
                    </ul>
                    <p>
                      The various analysis methods are described in detail
                      below:
                    </p>
                  </div>
                  <!--//section-block-->
                  <div id="internal-analysis" class="section-block">
                    <h3 class="block-title">Internal Analysis</h3>
                    <div id="internal-compare" class="section-block">
                      <h6>Scenario comparison:</h6>
                      <p>
                        The scenario comparison module is used to directly
                        compare the input and output data for a small number of
                        scenarios. It is pretty much identical to the one in the
                        <a href="./start.html#scenario-comparison">Base Mode</a
                        >: This means that the charts you configured in the Base
                        Mode will also work in the Hypercube Mode. However,
                        there are some subtle differences: A scenario that
                        resulted from a Hypercube job does not have a name
                        assigned (the name is the 256-bit SHA-2 hash). As the
                        hash values are hard to distinguish for the human eye,
                        MIRO will assign a number to each scenario you import.
                        This number is simply a counter that increments every
                        time you load a new scenario and resets when you close
                        the current session. You might be interested in seeing
                        two scenarios that you find particularly important, side
                        by side: all you need to do is remember the numbers that
                        were assigned to those two scenarios and switch to the
                        split view comparison mode. If you load a scenario here,
                        you will notice that there is a new <i>local</i> tab.
                        Here you can choose any of the scenarios that is already
                        opened in the tab view comparison mode:
                      </p>
                      <div class="section-block" style="text-align: center">
                        <img
                          class="img-fluid"
                          style="
                            display: block;
                            margin: auto;
                            max-height: 250px;
                          "
                          src="assets/images/batch_img/hcube-splitcomp-load.png"
                          alt="Load Hypercube scenarios into split view comparison mode"
                        />
                      </div>
                    </div>
                    <div id="internal-script" class="section-block">
                      <h6>Custom scripts:</h6>
                      <p>
                        You can also have MIRO execute special analysis scripts
                        that are tailored to your application. To learn more
                        about how to set up such a script, read the section
                        about
                        <a href="./customize.html#batch-analysis-scripts"
                          >configuring custom analysis scripts</a
                        >.
                      </p>
                      <p>
                        To run a custom analysis, select the scenarios you want
                        to analyze and click on "Analyze". The following dialog
                        opens:
                      </p>
                      <div class="section-block" style="text-align: center">
                        <img
                          class="img-fluid"
                          style="max-height: 150pt"
                          src="assets/images/batch_img/hcube_script_select.png"
                          alt="Dialog to select Hypercube analysis script"
                        />
                      </div>
                      <p>
                        We select the script we want to run and click on "Start
                        script". Once the script finished, the results are read
                        by MIRO and displayed:
                      </p>
                      <div class="section-block" style="text-align: center">
                        <img
                          class="img-fluid"
                          style="max-height: 300pt"
                          src="assets/images/batch_img/hcube_script_results.png"
                          alt="Hypercube analysis script results"
                        />
                      </div>
                    </div>
                    <div id="internal-paver" class="section-block">
                      <h6>PAVER:</h6>
                      <p>
                        <a
                          href="https://github.com/coin-or/Paver"
                          target="_blank"
                          >PAVER</a
                        >
                        is an Open Source Environment for Automated Performance
                        Analysis of Benchmarking Data. This tool is designed to
                        simplify the task of comparing and visualizing solver
                        performance data (solution times, return codes etc.) by
                        providing a variety of performance measurement tools
                        with practical and simple visualization capabilities.
                        This way you can get some performance summaries over
                        multiple runs or detect inconsistencies. [Bussieck,
                        Michael R., Steven P. Dirkse, and Stefan Vigerske.
                        "PAVER 2.0: an open source environment for automated
                        performance analysis of benchmarking data." Journal of
                        Global Optimization 59.2-3 (2014): 259-275,
                        <a
                          href="http://www.gamsworld.org/performance/paver2/paver2_paper.pdf"
                          target="_blank"
                          >link</a
                        >].
                      </p>
                      <p>
                        <br />PAVER bases its analysis entirely on the GAMS
                        <a
                          href="https://www.gams.com/latest/docs/UG_SolverUsage.html#UG_SolverUsage_TraceFile"
                          target="_blank"
                          >trace files</a
                        >
                        that were generated during your model runs. Since PAVER
                        was originally designed to compare multiple solvers
                        based on a number of model instances (e.g. the
                        <a href="http://miplib.zib.de/" target="_blank"
                          >MIPLIB</a
                        >), we keep this vocabulary but use it in a more
                        abstract way: A "solver" in terms of MIRO is a set of
                        attributes that you would like to compare. These
                        attributes can be any criterion you could also use to
                        filter your database: the input and output scalars
                        defined in your model as well as some metadata such as
                        the job tags you assigned. Based on these attributes,
                        the scenarios you selected will be split into groups.
                        The remaining attributes define a "model".
                      </p>
                      <div class="callout-block callout-warning">
                        <div class="icon-holder">
                          <i class="fas fa-info-circle"></i>
                        </div>
                        <!--//icon-holder-->
                        <div class="content">
                          <b class="callout-title">Note:</b>
                          <p>
                            PAVER requires Python to be installed. For this
                            purpose, it searches for a corresponding entry in
                            the PATH. Make sure that Python is in there. The
                            following Python packages must also be installed:
                            <a
                              href="https://pypi.org/project/matplotlib/"
                              target="_blank"
                              >matplotlib</a
                            >,
                            <a href="https://numpy.org/" target="_blank"
                              >numpy</a
                            >,
                            <a
                              href="https://pandas.pydata.org/pandas-docs/stable/index.html"
                              target="_blank"
                              >pandas</a
                            >.
                          </p>
                          <p>
                            Note: Pandas &ge; 0.25 does not work. Paver uses
                            Pandas' Panel, which was removed with Pandas 0.25.
                          </p>
                        </div>
                        <!--//content-->
                      </div>
                      <!--//callout-block-->
                      <p>
                        Let's assume you want to compare how sensitive your GAMS
                        model is with regard to computation power: You therefore
                        generate a Hypercube job with multiple scenarios and
                        solve it once on your local machine and then again on a
                        High-Performance Computing Cluster. You assign the tag
                        "HPC" to the job solved on the cluster and the tag
                        "Local" to the one that was solved on your local
                        machine. When you start PAVER, you will be asked to
                        select the attributes that define your "solver". Since
                        we want to compare the performance statistics of the job
                        executed on our local machine with the HPC, we select
                        <i>Job Tags</i> as the attribute for comparison:
                      </p>
                      <div class="section-block" style="text-align: center">
                        <img
                          class="img-fluid"
                          style="
                            display: block;
                            margin: auto;
                            max-height: 300px;
                          "
                          src="assets/images/batch_img/paver-select-attr.png"
                          alt="Select PAVER attributes screen"
                        />
                      </div>
                      <p>
                        What happens when we now launch PAVER is that the trace
                        data collected from the selected scenarios is split into
                        the groups "HPC" and "Local". The "models" are named
                        after the remaining attributes. Let's assume that your
                        model has two input scalars:
                        <span class="code">cost_coeff</span> and
                        <span class="code">demand_coeff</span>. In your
                        Hypercube task, you have varied these coefficients in a
                        range between 2 and 12 with a step size of 2 and a range
                        between 90 and 100 with a step size of 2. The names of
                        your "models" would therefore be: "2\90", "2\92", ...,
                        "4\100"; note that different attributes are delimited
                        with a backward slash. Each combination of input scalars
                        results in a new "model":
                      </p>
                      <div class="section-block" style="text-align: center">
                        <img
                          class="img-fluid"
                          style="
                            display: block;
                            margin: auto;
                            max-height: 400px;
                          "
                          src="assets/images/batch_img/paver-trace-files.png"
                          alt="Trace files generated for Paver run"
                        />
                      </div>
                      <p>
                        Per default, all input scalars are what we call
                        model-defining: They contribute to the PAVER "model"
                        name. This means that when the scalar changes, PAVER
                        would regard it as an new, independent model. Output
                        scalars and metadata attributes are ignored meaning that
                        different values would still be regarded as the same
                        "model". If you want to change this default setting,
                        there is a small arrow in the lower left corner of the
                        PAVER set-up dialog box that lets you do so:
                      </p>
                      <div class="section-block" style="text-align: center">
                        <img
                          class="img-fluid"
                          style="
                            display: block;
                            margin: auto;
                            max-height: 300px;
                          "
                          src="assets/images/batch_img/paver-attributes-ignore.png"
                          alt="Select PAVER attributes to ignore"
                        />
                      </div>
                      Basically, scenarios can be compared on the basis of:
                      <ul>
                        <li>Scalar input data<br /></li>
                        <li>Scalar output data<br /></li>
                        <li>Job tags<br /></li>
                        <li>Date of creation of a Hypercube job<br /></li>
                        <li>Owner of a Hypercube job<br /></li>
                      </ul>
                      <p>
                        Once you have decided which attributes you want to use
                        to compare your scenarios, you can start Paver. The
                        results of your analysis could look like this:
                      </p>
                      <div class="section-block" style="text-align: center">
                        <img
                          class="img-fluid"
                          src="assets/images/batch_img/batch_paver.png"
                          alt="Scenario analysis results"
                        />
                      </div>
                    </div>
                  </div>
                  <!--//section-block-->
                  <div id="external-analysis" class="section-block">
                    <h3 class="block-title">External Analysis</h3>
                    <p>
                      In case you want to use your own tools to analyze the
                      scenarios of interest, MIRO gives you the option to
                      download the slice of data you selected. The structure of
                      the downloaded data is very similar to the one you upload
                      when you execute your
                      <a href="#manual-jobsubmit-import-rules" class="scrollto"
                        >Hypercube jobs manually</a
                      >: Every scenario is located in its own folder, where the
                      name of the folder is the hash value of the scenario.
                      Inside this folder, you will find the input and output
                      datasets (GDX) as well as the trace data (in case it was
                      stored).
                    </p>
                    <a
                      href="https://nbviewer.jupyter.org/urls/www.gams.com/~jupyter_examples/PickStockAnalysisR.ipynb"
                      target="_blank"
                      >Here</a
                    >
                    you can find an example of such an external analysis. The
                    data of selected scenarios were analyzed using R in
                    combination with Jupyter notebook.
                  </div>
                  <!--//section-block-->
                </section>
                <!--//doc-section-->
              </div>
              <!--//content-inner-->
            </div>
            <!--//doc-content-->
            <div class="doc-sidebar col-md-3 col-12 order-0 d-none d-md-flex">
              <div id="doc-nav" class="doc-nav">
                <nav id="doc-menu" class="nav doc-menu flex-column sticky">
                  <a class="nav-link scrollto" href="#hypercube-introduction"
                    >Introduction</a
                  >
                  <a class="nav-link scrollto" href="#hypercube-overview"
                    >Overview</a
                  >
                  <a class="nav-link scrollto" href="#hypercube-scengen"
                    >Scenario generation</a
                  >
                  <nav class="doc-sub-menu nav flex-column">
                    <a class="nav-link scrollto" href="#scengen-config"
                      >Configuration of a Hypercube job</a
                    >
                    <a class="nav-link scrollto" href="#job-submission-general"
                      >Job submission: general</a
                    >
                    <a
                      class="nav-link scrollto has-sub-sub"
                      href="#auto-jobsubmit"
                      >Automated job submission</a
                    >
                    <nav class="sub-sub-menu nav flex-column">
                      <a
                        class="nav-link scrollto"
                        href="#auto-jobsubmit-general"
                        >General</a
                      >
                      <a class="nav-link scrollto" href="#auto-jobsubmit-import"
                        >Import results</a
                      >
                    </nav>
                    <a
                      class="nav-link scrollto has-sub-sub"
                      href="#manual-jobsubmit"
                      >Manual job submission</a
                    >
                    <nav class="sub-sub-menu nav flex-column">
                      <a
                        class="nav-link scrollto"
                        href="#manual-jobsubmit-general"
                        >Download zip archive</a
                      >
                      <a class="nav-link scrollto" href="#manual-jobsubmit-run"
                        >Run the Hypercube job</a
                      >
                      <a
                        class="nav-link scrollto"
                        href="#manual-jobsubmit-import-rules"
                        >Import rules</a
                      >
                      <a
                        class="nav-link scrollto"
                        href="#manual-jobsubmit-import"
                        >Import results</a
                      >
                    </nav>
                  </nav>
                  <!--//nav-->
                  <a class="nav-link scrollto" href="#analyses-section"
                    >Scenario Analyses</a
                  >
                  <nav class="doc-sub-menu nav flex-column">
                    <a class="nav-link scrollto" href="#scenario-selection"
                      >Scenario selection</a
                    >
                    <a
                      class="nav-link scrollto has-sub-sub"
                      href="#internal-analysis"
                      >Internal Analysis</a
                    >
                    <nav class="sub-sub-menu nav flex-column">
                      <a class="nav-link scrollto" href="#internal-compare"
                        >Scenario comparison</a
                      >
                      <a class="nav-link scrollto" href="#internal-script"
                        >Custom scripts</a
                      >
                      <a class="nav-link scrollto" href="#internal-paver"
                        >PAVER</a
                      >
                    </nav>
                    <a class="nav-link scrollto" href="#external-analysis"
                      >External Analyses</a
                    >
                  </nav>
                  <!--//nav-->
                </nav>
                <!--//doc-menu-->
              </div>
            </div>
            <!--//doc-sidebar-->
          </div>
          <!--//doc-body-->
        </div>
        <!--//container-->
      </div>
      <!--//doc-wrapper-->
    </div>
    <!--//page-wrapper-->
    <script
      type="text/javascript"
      src="assets/plugins/jquery-3.3.1.min.js"
    ></script>
    <!--#include virtual="/footer_miro.html" -->

    <!-- Main Javascript -->
    <script
      type="text/javascript"
      src="assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"
    ></script>
    <script
      type="text/javascript"
      src="assets/plugins/stickyfill/dist/stickyfill.min.js"
    ></script>
    <script
      type="text/javascript"
      src="assets/plugins/prism/min/prism-min.js"
    ></script>
    <script
      type="text/javascript"
      src="assets/plugins/jquery-throttle-debounce/jquery.ba-throttle-debounce.min.js"
    ></script>
    <script
      type="text/javascript"
      src="assets/plugins/markjs/jquery.mark.min.js"
    ></script>
    <script type="text/javascript" src="assets/js/main.js"></script>
  </body>
</html>
