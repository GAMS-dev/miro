<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
<head>
    <title>GAMS MIRO Server</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="GAMS MIRO documentation">
    <meta name="author" content="GAMS Development Corp.">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <!-- FontAwesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.1.1/js/all.js" integrity="sha384-BtvRZcyfv4r0x/phJt9Y9HhnN5ur1Z+kZbKVgzVBAlQZX4jvAuImlIz+bG7TS00a" crossorigin="anonymous"></script>
    <!-- Global CSS -->
    <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="assets/plugins/prism/prism.css">
    <link rel="stylesheet" href="assets/plugins/lightbox/dist/ekko-lightbox.css">
    <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css">
    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/styles.css">
    <!--#include virtual="/wheader.html" -->
</head>

<body class="body-orange">
    <!--#include virtual="/wbody.html" -->
    <div class="page-wrapper">
    <!--#include virtual="/mirover.html" -->

        <!-- ******Header****** -->
        <header id="header" class="sub-header">
            <div class="container">
                <div class="branding">
                    <h1 class="logo">
                        <a href="index.html">
                          <img class="img-fluid" style="height:75px;" src="assets/images/logo.svg" onerror="this.onerror=null; this.src='assets/images/logo.png'" alt="GAMS MIRO"/>
                        </a>
                    </h1>
                </div><!--//branding-->
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                    <li class="breadcrumb-item active">GAMS MIRO Server</li>
                </ol>
            </div><!--//container-->
        </header><!--//header-->
        <div class="doc-wrapper">
            <div class="container">
                <div class="row justify-content-end search-box-wrapper">
                    <div class="float-right">
                        <input class="form-control search-box" id="miroSearch" type="text" placeholder="Search" aria-label="Search">
                        <ul id="miroSearchResults" class="list-group">
                        </ul>
                    </div>
                </div>
                <div id="doc-header" class="doc-header text-center">
                    <h1 class="doc-title"><span aria-hidden="true" class="icon fas fa-cloud"></span> GAMS MIRO Server</h1>
                </div><!--//doc-header-->
                <div class="doc-body row">
                    <div class="doc-content col-md-9 col-12 order-1">
                        <div class="content-inner">
                                    <div class="callout-block callout-warning">
                                        <div class="icon-holder">
                                            <i class="fas fa-info-circle"></i>
                                        </div><!--//icon-holder-->
                                        <div class="content">
                                            <b class="callout-title">Note:</b>
                                            <p>Both <i>GAMS MIRO Desktop - boosted by GAMS Engine</i> and <i>GAMS MIRO Server</i> are currently under development. This part of the documentation is updated regularly.</p>
                                        </div><!--//content-->
                                    </div><!--//callout-block-->
                            <section id="server-introduction" class="doc-section">
                                <h2 class="section-title">Introduction</h2>
                                <div class="section-block">
                                    <p>In the most basic setup - GAMS MIRO Desktop - both the MIRO application and GAMS itself are installed on the same computer and run exclusively on this machine. But MIRO is not limited to this setup: You can run your MIRO applications locally, but solve the GAMS jobs in the cloud. For you nothing changes, the MIRO interface remains the same. We call this setup <i>GAMS MIRO Desktop - boosted by GAMS Engine</i>. <i><a href="https://www.gams.com/engine/">GAMS Engine</a></i> is a product based on <a href = "https://www.docker.com/" target = "_blank">Docker</a>, which uses state-of-the-art technology to handle the entire job management, scheduling and load balancing of your computationally intensive optimization problems. The same technology is also used for the last MIRO setup: <i>GAMS MIRO Server</i>. GAMS MIRO Server allows you to run both the GAMS execution engine as well as the MIRO application itself in the cloud. Your optimization applications can then be accessed from any device with a modern web browser like a PC, smartphone or tablet.</p>
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:400pt; display: block; margin-left: auto; margin-right: auto;" src="assets/images/remote-execution.png" alt="GAMS MIRO Server" />
                                    </div>
                                    <div class="callout-block callout-warning">
                                        <div class="icon-holder">
                                            <i class="fas fa-info-circle"></i>
                                        </div><!--//icon-holder-->
                                        <div class="content">
                                            <b class="callout-title">Note:</b>
                                            <p>Both <i>GAMS MIRO Desktop - boosted by GAMS Engine</i> and <i>GAMS MIRO Server</i> are not part of GAMS MIRO Desktop, but must be purchased separately. Please contact <a href="mailto:miro@gams.com">sales@gams.com</a> if you are interested in one of these setups.</p>
                                        </div><!--//content-->
                                    </div><!--//callout-block-->
                                </div>
                            </section> 
                            <section id="server-setup" class="doc-section">
                                <h2 class="section-title">Installation and usage</h2>
                                <div class="section-block">
                                    <p>Both GAMS MIRO Server and GAMS MIRO Desktop - boosted by GAMS Engine - the latter already carries the name - make use of the GAMS Engine to run GAMS jobs on one or more servers. The following section explains how to set up GAMS MIRO Server.</p>
                                    <div class="callout-block callout-warning">
                                        <div class="icon-holder">
                                            <i class="fas fa-info-circle"></i>
                                        </div><!--//icon-holder-->
                                        <div class="content">
                                            <b class="callout-title">Note:</b>
                                            <p>The following installation instructions refer exclusively to the installation of GAMS MIRO Server. The corresponding installation steps have to be performed on the server used for this purpose. </p>
                                        </div><!--//content-->
                                    </div><!--//callout-block-->
                                </div>
                                <div  id="server-prerequisites"  class="section-block">
                                    <h3 class="block-title">Prerequisites</h3>
                                    <p>Since GAMS MIRO Server is based on <a href = "https://www.docker.com/" target = "_blank">Docker technology</a>, both Docker and docker-compose must be installed on the server first.</p>
                                    <ul>
                                      <li><a href = "https://docs.docker.com/install/" target = "_blank">Install Docker</a></li>
                                      <li><a href = "https://docs.docker.com/compose/install/" target = "_blank">Install Docker compose</a></li>
                                    </ul>
                                    <p>To use the Docker CLI without <i>sudo</i>, you must add your user to the docker group.</p>
                                    <ul>
                                      <li><a href = "https://docs.docker.com/install/linux/linux-postinstall/#manage-docker-as-a-non-root-user" target = "_blank">Manage docker as a non root user</a></li>
                                    </ul>
                                </div>
                                <div  id="server-install"  class="section-block">
                                    <h3 class="block-title">Install GAMS MIRO Server</h3>
                                    <p>If you have purchased GAMS MIRO Server, GAMS will provide you with a ZIP file that contains everything you need to get started.</p>
                                    <ul>
                                      <li>Once the <a href = "#server-prerequisites" class = "scrollto">prerequisites</a> are set up, copy the ZIP file to your server in a directory of your choice and unzip it there.
                                      <div class="callout-block callout-success">
                                          <div class="icon-holder">
                                              <i class="fas fa-thumbs-up"></i>
                                          </div><!--//icon-holder-->
                                          <div class="content">
                                              <b class="callout-title">Tip:</b>
                                              <p>GAMS MIRO applications will later be stored at this location.</p>
                                          </div><!--//content-->
                                      </div><!--//callout-block-->
                                      </li>
                                      <li>Next, login to the GAMS Docker registry. To do so, run <div class = "console-box"><span class="console-content">&gt; docker login hub.gams.com</span></div> with the credentials GAMS provided you with. </li>
                                      <li>Afterwards, you are ready to install MIRO Server by running: <div class = "console-box"><span class="console-content">&gt; ./miro-compose install</span>.</div> The installation script will inform you whether the installation was successful or not.</li>
                                      <li>GAMS MIRO Server requires an instance of <a href="https://www.gams.com/engine/">GAMS Engine</a> to solve the GAMS jobs. You have to provide the credentials to GAMS Engine via environment variables.
                                      You can either set these variables inside the shell you start GAMS MIRO Server from or append them to the <i>.env</i> file that is located inside the ZIP file mentioned above. The following environment variables have to be set:
                                      <div class="table-responsive" style="margin:15px auto;">
                                        <table class="table table-striped">
                                            <thead>
                                                <tr>
                                                  <th style="width:30%;">Environment Variable Name</th>
                                                  <th>Environment Variable Value</th>
                                                  <th>Example</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                  <td>GMS_MIRO_ENGINE_HOST</td>
                                                  <td>IP adress and port/DNS of Engine</td>
                                                  <td>https://miro.gams.com/engine/api</td>
                                                </tr>
                                                <tr>
                                                  <td>GMS_MIRO_ENGINE_NS</td>
                                                  <td>Namespace to use for GAMS MIRO Server</td>
                                                  <td>miro_server</td>
                                                </tr>
                                                <tr>
                                                  <td>GMS_MIRO_ENGINE_USER</td>
                                                  <td>Name of a user that is an inviter (or admin) inside the given namespace</td>
                                                  <td>miro_server_admin</td>
                                                </tr>
                                                <tr>
                                                  <td>GMS_MIRO_ENGINE_PWD</td>
                                                  <td>Password of the user</td>
                                                  <td>miro_server_admin_password</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                      </div><!--//table-responsive--></li>
                                    </ul>
                                </div>
                                <div  id="server-start"  class="section-block">
                                    <h3 class="block-title">Start</h3>    
                                    <p>Once you have GAMS MIRO Server installed, you can launch it via <div class = "console-box"><span class="console-content">&gt; ./miro-compose start</span>.</div>GAMS MIRO Server will now listen on port 8080. After the installation, there is a single administrator with username: <i>admin</i> and password <i>admin</i>.</p>
                                </div>
                                <div  id="server-update"  class="section-block">
                                    <h3 class="block-title">Update</h3> 
                                    <p>To update GAMS MIRO Server to the latest version, run <div class = "console-box"><span class="console-content">&gt; ./miro-compose update</span></div>Note that this will pull new images from the GAMS Docker registry and launch them. If you only want to pull new images, run <div class = "console-box"><span class="console-content">&gt; ./miro-compose pull</span></div></p>
                                </div>
                                <div  id="server-stop"  class="section-block">
                                    <h3 class="block-title">Stop</h3> 
                                    <p>To stop a running instance of GAMS MIRO Server, run <div class = "console-box"><span class="console-content">&gt; ./miro-compose stop</span></div></p>
                                </div>
                                <div  id="server-uninstall"  class="section-block">
                                    <h3 class="block-title">Uninstall</h3> 
                                    <p>To remove GAMS MIRO Server including all data associated with it from your server, run <div class = "console-box"><span class="console-content">&gt; ./miro-compose uninstall</span></div> 
                                    Additionally, you can remove the directory where you extracted the configuration files of the GAMS MIRO Server.</p>
                                </div>
                                <div  id="server-customize"  class="section-block">
                                    <h3 class="block-title">Customize</h3> 
                                    <p>The entire customization in GAMS MIRO Server is done in the file <i>data/application.yml</i>. Here you can add/remove users, change the authentication method or the language of GAMS MIRO.</p>
                                    <div class="callout-block callout-warning">
                                        <div class="icon-holder">
                                            <i class="fas fa-info-circle"></i>
                                        </div><!--//icon-holder-->
                                        <div class="content">
                                            <b class="callout-title">Note:</b>
                                            <p>Please make sure each user is assigned to at least one group. MIRO does not support assigning users to no group at all! </p>
                                        </div><!--//content-->
                                    </div><!--//callout-block-->
                                </div>
                                <div  id="server-nginx"  class="section-block">
                                    <h3 class="block-title">Nginx example configuration</h3> 
                                    <p>We suggest to run GAMS MIRO Server behind a reverse proxy such as <a href = "https://www.nginx.com/" target = "_blank">nginx</a>. The following configuration will allow you to access GAMS MIRO Server on the root of your server:</p>
                                     <pre><code class="language-">map $http_upgrade $connection_upgrade {
   default upgrade;
   ''      close;
}
location / {
    proxy_pass http://127.0.0.1:8080;

    client_max_body_size 200M;

    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";
    proxy_read_timeout 600s;

    proxy_redirect    off;
    proxy_set_header  Host             $http_host;
    proxy_set_header  X-Real-IP        $remote_addr;
    proxy_set_header  X-Forwarded-For  $proxy_add_x_forwarded_for;
    proxy_set_header  X-Forwarded-Proto $scheme;
}</code></pre>
                                    <p>You may want to host MIRO Server on a different path. To do this, you must adjust the context path in the file <i>application.yml</i> accordingly (<i>server.servlet.context-path</i>).</p>
                                    <div class="callout-block callout-warning">
                                        <div class="icon-holder">
                                            <i class="fas fa-info-circle"></i>
                                        </div><!--//icon-holder-->
                                        <div class="content">
                                            <b class="callout-title">Note:</b>
                                            <p>Note that with SELinux active (e.g. CentOS/RHEL), you have to allow your nginx server to proxy to the upstream MIRO Server host. You can do so by running: <div class = "console-box"><span class="console-content long-word-wrap">&gt; setsebool -P httpd_can_network_connect 1</span></div></p>
                                        </div><!--//content-->
                                    </div><!--//callout-block-->
                                </div>
                            </section> 
                            <section id="miro-desktop-remote" class="doc-section">
                                <h2 class="section-title">GAMS MIRO Desktop - Boosted by GAMS Engine</h2>
                                <div class="section-block">
                                    <p>With <i>GAMS MIRO Desktop - Boosted by GAMS Engine</i>, you can solve GAMS jobs in the cloud with your locally running MIRO applications. This requires an instance of <a href="https://www.gams.com/engine/">GAMS Engine</a> to solve the GAMS jobs. In order to use switch from executing your optimization jobs on your local machine to solving them in the cloud you only have to activate the checkbox "Execution of models on GAMS Engine" in the preferences of GAMS MIRO.</p> 
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:400pt; display: block; margin-left: auto; margin-right: auto;" src="assets/images/remote/remote_enable.png" alt="Enable remote execution" />
                                    </div>
                                    <p>The next time you start a MIRO application a login button appears in the upper right corner. Click on it in order to connect to GAMS Engine.</p>
                                    <div class="callout-block callout-success">
                                          <div class="icon-holder">
                                              <i class="fas fa-thumbs-up"></i>
                                          </div><!--//icon-holder-->
                                          <div class="content">
                                              <b class="callout-title">Tip:</b>
                                              <p>You can use GAMS Engine for both MIRO applications that are still under development (started via GAMS Studio) and for already deployed apps.</p>
                                          </div><!--//content-->
                                      </div><!--//callout-block-->
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:150pt; display: block; margin-left: auto; margin-right: auto;" src="assets/images/remote/remote_login.png" alt="Login" />
                                    </div>
                                    <div class="section-block">
                                        <img class="img-fluid" style= "max-height:400pt; display: block; margin-left: auto; margin-right: auto;" src="assets/images/remote/remote_login_form.png" alt="Login" />
                                    </div>
                                    <p>In the login form, there are two additional checkboxes:</p>
                                    <p><b>Is your model registered in the namespace?</b><br>
                                      If a GAMS job is to be solved in the cloud, the GAMS model must be available on the corresponding server for the namespace you chose. There are two possibilities:
                                      <ul>
                                        <li>The model is sent to the server for each job submission together with the scenario data and deleted after the job is solved.</li>
                                        <li>The model is registered on the server, i.e. the model data is stored permanently. Only the scenario data is communicated with the server during a job submission. Learn <a href = "#register-model">here</a> how to register a model.</li>
                                      </ul> 
                                    </p>                                      
                                    <p><b>Remember me</b><br>
                                      Your credentials will be saved so that you will not have to log in again the next time you start the application.</li>
                                    </up>
                                </div>
                            </section>  
                        </div><!--//content-inner-->
                    </div><!--//doc-content-->
                    <div class="doc-sidebar col-md-3 col-12 order-0 d-none d-md-flex">
                        <div id="doc-nav" class="doc-nav">
                            <nav id="doc-menu" class="nav doc-menu flex-column sticky">
                                <a class="nav-link scrollto" href="#server-introduction">Introduction</a>
                                <a class="nav-link scrollto" href="#server-setup">Installation and usage</a>
                                <nav class="doc-sub-menu nav flex-column">
                                  <a class="nav-link scrollto" href="#server-prerequisites">Prerequisites</a>
                                  <a class="nav-link scrollto" href="#server-install">Install GAMS MIRO Server</a>
                                  <a class="nav-link scrollto" href="#server-start">Start</a>
                                  <a class="nav-link scrollto" href="#server-update">Update</a>
                                  <a class="nav-link scrollto" href="#server-stop">Stop</a>
                                  <a class="nav-link scrollto" href="#server-uninstall">Uninstall</a>
                                  <a class="nav-link scrollto" href="#server-customize">Customize</a>
                                  <a class="nav-link scrollto" href="#server-nginx">Nginx example configuration</a>
                                </nav><!--//nav-->
                                <a class="nav-link scrollto" href="#miro-desktop-remote">GAMS MIRO Desktop - Boosted by GAMS Engine</a>
                            </nav><!--//doc-menu-->
                        </div>
                    </div><!--//doc-sidebar-->
                </div><!--//doc-body-->
            </div><!--//container-->
        </div><!--//doc-wrapper-->
    </div><!--//page-wrapper-->
    <script type="text/javascript" src="assets/plugins/jquery-3.3.1.min.js"></script>
    <!--#include virtual="/footer.html" -->

    <!-- Main Javascript -->
    <script type="text/javascript" src="assets/plugins/prism/min/prism-min.js"></script>
    <script type="text/javascript" src="assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>
    <script type="text/javascript" src="assets/plugins/lightbox/dist/ekko-lightbox.min.js"></script>
    <script type="text/javascript" src="assets/plugins/stickyfill/dist/stickyfill.min.js"></script>
    <script type="text/javascript" src="assets/plugins/jquery-throttle-debounce/jquery.ba-throttle-debounce.min.js"></script>
    <script type="text/javascript" src="assets/plugins/markjs/jquery.mark.min.js"></script>

    <script type="text/javascript" src="assets/js/main.js"></script>
    <!-- dependencies (jquery, handlebars and bootstrap) -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
</body>
</html>
