{"version":3,"file":"model_update.js","mappings":"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","sources":["webpack://gams-miro-admin/./node_modules/bootbox/bootbox.js","webpack://gams-miro-admin/external var \"jQuery\"","webpack://gams-miro-admin/./node_modules/core-js/internals/a-callable.js","webpack://gams-miro-admin/./node_modules/core-js/internals/an-object.js","webpack://gams-miro-admin/./node_modules/core-js/internals/array-includes.js","webpack://gams-miro-admin/./node_modules/core-js/internals/array-slice.js","webpack://gams-miro-admin/./node_modules/core-js/internals/classof-raw.js","webpack://gams-miro-admin/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://gams-miro-admin/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://gams-miro-admin/./node_modules/core-js/internals/create-property-descriptor.js","webpack://gams-miro-admin/./node_modules/core-js/internals/define-built-in-accessor.js","webpack://gams-miro-admin/./node_modules/core-js/internals/define-built-in.js","webpack://gams-miro-admin/./node_modules/core-js/internals/define-global-property.js","webpack://gams-miro-admin/./node_modules/core-js/internals/descriptors.js","webpack://gams-miro-admin/./node_modules/core-js/internals/document-create-element.js","webpack://gams-miro-admin/./node_modules/core-js/internals/engine-is-bun.js","webpack://gams-miro-admin/./node_modules/core-js/internals/engine-is-ios.js","webpack://gams-miro-admin/./node_modules/core-js/internals/engine-is-node.js","webpack://gams-miro-admin/./node_modules/core-js/internals/engine-user-agent.js","webpack://gams-miro-admin/./node_modules/core-js/internals/engine-v8-version.js","webpack://gams-miro-admin/./node_modules/core-js/internals/enum-bug-keys.js","webpack://gams-miro-admin/./node_modules/core-js/internals/export.js","webpack://gams-miro-admin/./node_modules/core-js/internals/fails.js","webpack://gams-miro-admin/./node_modules/core-js/internals/function-apply.js","webpack://gams-miro-admin/./node_modules/core-js/internals/function-bind-context.js","webpack://gams-miro-admin/./node_modules/core-js/internals/function-bind-native.js","webpack://gams-miro-admin/./node_modules/core-js/internals/function-call.js","webpack://gams-miro-admin/./node_modules/core-js/internals/function-name.js","webpack://gams-miro-admin/./node_modules/core-js/internals/function-uncurry-this-clause.js","webpack://gams-miro-admin/./node_modules/core-js/internals/function-uncurry-this.js","webpack://gams-miro-admin/./node_modules/core-js/internals/get-built-in.js","webpack://gams-miro-admin/./node_modules/core-js/internals/get-method.js","webpack://gams-miro-admin/./node_modules/core-js/internals/global.js","webpack://gams-miro-admin/./node_modules/core-js/internals/has-own-property.js","webpack://gams-miro-admin/./node_modules/core-js/internals/hidden-keys.js","webpack://gams-miro-admin/./node_modules/core-js/internals/html.js","webpack://gams-miro-admin/./node_modules/core-js/internals/ie8-dom-define.js","webpack://gams-miro-admin/./node_modules/core-js/internals/indexed-object.js","webpack://gams-miro-admin/./node_modules/core-js/internals/inspect-source.js","webpack://gams-miro-admin/./node_modules/core-js/internals/internal-state.js","webpack://gams-miro-admin/./node_modules/core-js/internals/is-callable.js","webpack://gams-miro-admin/./node_modules/core-js/internals/is-forced.js","webpack://gams-miro-admin/./node_modules/core-js/internals/is-null-or-undefined.js","webpack://gams-miro-admin/./node_modules/core-js/internals/is-object.js","webpack://gams-miro-admin/./node_modules/core-js/internals/is-pure.js","webpack://gams-miro-admin/./node_modules/core-js/internals/is-symbol.js","webpack://gams-miro-admin/./node_modules/core-js/internals/length-of-array-like.js","webpack://gams-miro-admin/./node_modules/core-js/internals/make-built-in.js","webpack://gams-miro-admin/./node_modules/core-js/internals/math-trunc.js","webpack://gams-miro-admin/./node_modules/core-js/internals/object-define-property.js","webpack://gams-miro-admin/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://gams-miro-admin/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://gams-miro-admin/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://gams-miro-admin/./node_modules/core-js/internals/object-is-prototype-of.js","webpack://gams-miro-admin/./node_modules/core-js/internals/object-keys-internal.js","webpack://gams-miro-admin/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://gams-miro-admin/./node_modules/core-js/internals/ordinary-to-primitive.js","webpack://gams-miro-admin/./node_modules/core-js/internals/own-keys.js","webpack://gams-miro-admin/./node_modules/core-js/internals/regexp-flags.js","webpack://gams-miro-admin/./node_modules/core-js/internals/require-object-coercible.js","webpack://gams-miro-admin/./node_modules/core-js/internals/schedulers-fix.js","webpack://gams-miro-admin/./node_modules/core-js/internals/shared-key.js","webpack://gams-miro-admin/./node_modules/core-js/internals/shared-store.js","webpack://gams-miro-admin/./node_modules/core-js/internals/shared.js","webpack://gams-miro-admin/./node_modules/core-js/internals/symbol-constructor-detection.js","webpack://gams-miro-admin/./node_modules/core-js/internals/task.js","webpack://gams-miro-admin/./node_modules/core-js/internals/to-absolute-index.js","webpack://gams-miro-admin/./node_modules/core-js/internals/to-indexed-object.js","webpack://gams-miro-admin/./node_modules/core-js/internals/to-integer-or-infinity.js","webpack://gams-miro-admin/./node_modules/core-js/internals/to-length.js","webpack://gams-miro-admin/./node_modules/core-js/internals/to-object.js","webpack://gams-miro-admin/./node_modules/core-js/internals/to-primitive.js","webpack://gams-miro-admin/./node_modules/core-js/internals/to-property-key.js","webpack://gams-miro-admin/./node_modules/core-js/internals/try-to-string.js","webpack://gams-miro-admin/./node_modules/core-js/internals/uid.js","webpack://gams-miro-admin/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://gams-miro-admin/./node_modules/core-js/internals/v8-prototype-define-bug.js","webpack://gams-miro-admin/./node_modules/core-js/internals/validate-arguments-length.js","webpack://gams-miro-admin/./node_modules/core-js/internals/weak-map-basic-detection.js","webpack://gams-miro-admin/./node_modules/core-js/internals/well-known-symbol.js","webpack://gams-miro-admin/./node_modules/core-js/modules/es.regexp.flags.js","webpack://gams-miro-admin/./node_modules/core-js/modules/web.clear-immediate.js","webpack://gams-miro-admin/./node_modules/core-js/modules/web.immediate.js","webpack://gams-miro-admin/./node_modules/core-js/modules/web.set-immediate.js","webpack://gams-miro-admin/webpack/bootstrap","webpack://gams-miro-admin/webpack/runtime/compat get default export","webpack://gams-miro-admin/webpack/runtime/define property getters","webpack://gams-miro-admin/webpack/runtime/global","webpack://gams-miro-admin/webpack/runtime/hasOwnProperty shorthand","webpack://gams-miro-admin/./srcjs/index.js"],"sourcesContent":["/*! @preserve\r\n * bootbox.js\r\n * version: 6.0.0\r\n * author: Nick Payne <nick@kurai.co.uk>\r\n * license: MIT\r\n * http://bootboxjs.com/\r\n */\r\n(function (root, factory) {\r\n  'use strict';\r\n  if (typeof define === 'function' && define.amd) {\r\n    // AMD\r\n    define(['jquery'], factory);\r\n  } else if (typeof exports === 'object') {\r\n    // Node, CommonJS-like\r\n    module.exports = factory(require('jquery'));\r\n  } else {\r\n    // Browser globals (root is window)\r\n    root.bootbox = factory(root.jQuery);\r\n  }\r\n}(this, function init($, undefined) {\r\n  'use strict';\r\n\r\n  let exports = {};\r\n\r\n  let VERSION = '6.0.0';\r\n  exports.VERSION = VERSION;\r\n\r\n  let locales = {\r\n    'en' : {\r\n      OK      : 'OK',\r\n      CANCEL  : 'Cancel',\r\n      CONFIRM : 'OK'\r\n    }\r\n  };\r\n\r\n  let templates = {\r\n    dialog:         '<div class=\"bootbox modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"><div class=\"modal-dialog\"><div class=\"modal-content\"><div class=\"modal-body\"><div class=\"bootbox-body\"></div></div></div></div></div>',\r\n    header:         '<div class=\"modal-header\"><h5 class=\"modal-title\"></h5></div>',\r\n    footer:         '<div class=\"modal-footer\"></div>',\r\n    closeButton:    '<button type=\"button\" class=\"bootbox-close-button close btn-close\" aria-hidden=\"true\" aria-label=\"Close\"></button>',\r\n    form:           '<form class=\"bootbox-form\"></form>',\r\n    button:         '<button type=\"button\" class=\"btn\"></button>',\r\n    option:         '<option value=\"\"></option>',\r\n    promptMessage:  '<div class=\"bootbox-prompt-message\"></div>',\r\n    inputs: {\r\n      text:         '<input class=\"bootbox-input bootbox-input-text form-control\" autocomplete=\"off\" type=\"text\" />',\r\n      textarea:     '<textarea class=\"bootbox-input bootbox-input-textarea form-control\"></textarea>',\r\n      email:        '<input class=\"bootbox-input bootbox-input-email form-control\" autocomplete=\"off\" type=\"email\" />',\r\n      select:       '<select class=\"bootbox-input bootbox-input-select form-select\"></select>',\r\n      checkbox:     '<div class=\"form-check checkbox\"><label class=\"form-check-label\"><input class=\"form-check-input bootbox-input bootbox-input-checkbox\" type=\"checkbox\" /></label></div>',\r\n      radio:        '<div class=\"form-check radio\"><label class=\"form-check-label\"><input class=\"form-check-input bootbox-input bootbox-input-radio\" type=\"radio\" name=\"bootbox-radio\" /></label></div>',\r\n      date:         '<input class=\"bootbox-input bootbox-input-date form-control\" autocomplete=\"off\" type=\"date\" />',\r\n      time:         '<input class=\"bootbox-input bootbox-input-time form-control\" autocomplete=\"off\" type=\"time\" />',\r\n      number:       '<input class=\"bootbox-input bootbox-input-number form-control\" autocomplete=\"off\" type=\"number\" />',\r\n      password:     '<input class=\"bootbox-input bootbox-input-password form-control\" autocomplete=\"off\" type=\"password\" />',\r\n      range:        '<input class=\"bootbox-input bootbox-input-range form-control-range\" autocomplete=\"off\" type=\"range\" />'\r\n    }\r\n  };\r\n\r\n\r\n  let defaults = {\r\n    // Default language used when generating buttons for alert, confirm, and prompt dialogs\r\n    locale: 'en',\r\n    // Show backdrop or not. Default to static so user has to interact with dialog\r\n    backdrop: 'static',\r\n    // Animate the modal in/out\r\n    animate: true,\r\n    // Additional class string applied to the top level dialog\r\n    className: null,\r\n    // Whether or not to include a close button\r\n    closeButton: true,\r\n    // Show the dialog immediately by default\r\n    show: true,\r\n    // Dialog container\r\n    container: 'body',\r\n    // Default value (used by the prompt helper)\r\n    value: '',\r\n    // Default input type (used by the prompt helper)\r\n    inputType: 'text',\r\n    // Custom error message to report if prompt fails validation\r\n    errorMessage: null,\r\n    // Switch button order from cancel/confirm (default) to confirm/cancel\r\n    swapButtonOrder: false,\r\n    // Center modal vertically in page\r\n    centerVertical: false,\r\n    // Append \"multiple\" property to the select when using the \"prompt\" helper\r\n    multiple: false,\r\n    // Automatically scroll modal content when height exceeds viewport height\r\n    scrollable: false,\r\n    // Whether or not to destroy the modal on hide\r\n    reusable: false,\r\n    // The element which triggered the dialog\r\n    relatedTarget: null,\r\n    // The size of the modal to generate\r\n    size: null,\r\n    // A unique indentifier for this modal\r\n    id: null\r\n  };\r\n\r\n\r\n  // PUBLIC FUNCTIONS\r\n  // *************************************************************************************************************\r\n\r\n  /**\r\n   * Return all currently registered locales, or a specific locale if \"name\" is defined\r\n   * @param {string} [name]\r\n   * @returns {(Object|Object[])} An array of the available locale objects, or a single locale object if {name} is not null\r\n   */\r\n  exports.locales = function (name) {\r\n    return name ? locales[name] : locales;\r\n  };\r\n\r\n\r\n  /**\r\n   * Register localized strings for the OK, CONFIRM, and CANCEL buttons\r\n   * @param {string} name - The key used to identify the new locale in the locales array\r\n   * @param {Object} values - An object containing the localized string for each of the OK, CANCEL, and CONFIRM properties of a locale\r\n   * @returns The updated bootbox object\r\n   */\r\n  exports.addLocale = function (name, values) {\r\n    $.each(['OK', 'CANCEL', 'CONFIRM'], function (_, v) {\r\n      if (!values[v]) {\r\n        throw new Error('Please supply a translation for \"' + v + '\"');\r\n      }\r\n    });\r\n\r\n    locales[name] = {\r\n      OK: values.OK,\r\n      CANCEL: values.CANCEL,\r\n      CONFIRM: values.CONFIRM\r\n    };\r\n\r\n    return exports;\r\n  };\r\n\r\n \r\n  /**\r\n   * Remove a previously-registered locale\r\n   * @param {string} name - The key identifying the locale to remove\r\n   * @returns The updated bootbox object\r\n   */\r\n  exports.removeLocale = function (name) {\r\n    if (name !== 'en') {\r\n      delete locales[name];\r\n    }\r\n    else {\r\n      throw new Error('\"en\" is used as the default and fallback locale and cannot be removed.');\r\n    }\r\n\r\n    return exports;\r\n  };\r\n\r\n\r\n  /**\r\n   * Set the default locale\r\n   * @param {string} name - The key identifying the locale to set as the default locale for all future bootbox calls \r\n   * @returns The updated bootbox object\r\n   */\r\n  exports.setLocale = function (name) {\r\n    return exports.setDefaults('locale', name);\r\n  };\r\n\r\n\r\n  /**\r\n   * Override default value(s) of Bootbox.\r\n   * @returns The updated bootbox object\r\n   */\r\n  exports.setDefaults = function () {\r\n    let values = {};\r\n\r\n    if (arguments.length === 2) {\r\n      // Allow passing of single key/value...\r\n      values[arguments[0]] = arguments[1];\r\n    } else {\r\n      // ... and as an object too\r\n      values = arguments[0];\r\n    }\r\n\r\n    $.extend(defaults, values);\r\n\r\n    return exports;\r\n  };\r\n\r\n\r\n  /**\r\n   * Hides all currently active Bootbox modals\r\n   * @returns The current bootbox object\r\n   */\r\n  exports.hideAll = function () {\r\n    $('.bootbox').modal('hide');\r\n\r\n    return exports;\r\n  };\r\n\r\n \r\n  /**\r\n   * Allows the base init() function to be overridden\r\n   * @param {function} _$ - A function to be called when the bootbox instance is created\r\n   * @returns The current bootbox object\r\n   */\r\n  exports.init = function (_$) {\r\n    return init(_$ || $);\r\n  };\r\n\r\n\r\n  // CORE HELPER FUNCTIONS\r\n  // *************************************************************************************************************\r\n\r\n  /**\r\n   * The core dialog helper function, which can be used to create any custom Bootstrap modal. \r\n   * @param {Object} options - An object used to configure the various properties which define a Bootbox dialog\r\n   * @returns A jQuery object upon which Bootstrap's modal function has been called\r\n   */\r\n  exports.dialog = function (options) {\r\n    if ($.fn.modal === undefined) {\r\n      throw new Error(\r\n        '\"$.fn.modal\" is not defined; please double check you have included the Bootstrap JavaScript library. See https://getbootstrap.com/docs/5.1/getting-started/introduction/ for more details.'\r\n      );\r\n    }\r\n\r\n    options = sanitize(options);\r\n\r\n    if ($.fn.modal.Constructor.VERSION) {\r\n      options.fullBootstrapVersion = $.fn.modal.Constructor.VERSION;\r\n      let i = options.fullBootstrapVersion.indexOf('.');\r\n      options.bootstrap = options.fullBootstrapVersion.substring(0, i);\r\n    }\r\n    else {\r\n      // Assuming version 2.3.2, as that was the last \"supported\" 2.x version\r\n      options.bootstrap = '2';\r\n      options.fullBootstrapVersion = '2.3.2';\r\n      console.warn('Bootbox will *mostly* work with Bootstrap 2, but we do not officially support it. Please upgrade, if possible.');\r\n    }\r\n\r\n    let dialog = $(templates.dialog);\r\n    let innerDialog = dialog.find('.modal-dialog');\r\n    let body = dialog.find('.modal-body');\r\n    let header = $(templates.header);\r\n    let footer = $(templates.footer);\r\n    let buttons = options.buttons;\r\n\r\n    let callbacks = {\r\n      onEscape: options.onEscape\r\n    };\r\n\r\n    body.find('.bootbox-body').html(options.message);\r\n\r\n    // Only attempt to create buttons if at least one has been defined in the options object\r\n    if (getKeyLength(options.buttons) > 0) {\r\n      each(buttons, function (key, b) {\r\n        let button = $(templates.button);\r\n        button.data('bb-handler', key);\r\n        button.addClass(b.className);\r\n\r\n        switch (key) {\r\n          case 'ok':\r\n          case 'confirm':\r\n            button.addClass('bootbox-accept');\r\n            break;\r\n\r\n          case 'cancel':\r\n            button.addClass('bootbox-cancel');\r\n            break;\r\n        }\r\n\r\n        button.html(b.label);\r\n\r\n        if (b.id) {\r\n          button.attr({ 'id': b.id });\r\n        }\r\n\r\n        if (b.disabled === true) {\r\n          button.prop({ disabled: true });\r\n        }\r\n\r\n        footer.append(button);\r\n\r\n        callbacks[key] = b.callback;\r\n      });\r\n\r\n      body.after(footer);\r\n    }\r\n\r\n    if (options.animate === true) {\r\n      dialog.addClass('fade');\r\n    }\r\n\r\n    if (options.className) {\r\n      dialog.addClass(options.className);\r\n    }\r\n\r\n    if (options.id) {\r\n      dialog.attr({ 'id': options.id });\r\n    }\r\n\r\n    if (options.size) {\r\n      // Requires Bootstrap 3.1.0 or higher\r\n      if (options.fullBootstrapVersion.substring(0, 3) < '3.1') {\r\n        console.warn('\"size\" requires Bootstrap 3.1.0 or higher. You appear to be using ' + options.fullBootstrapVersion + '. Please upgrade to use this option.');\r\n      }\r\n\r\n      switch (options.size) {\r\n        case 'small':\r\n        case 'sm':\r\n          innerDialog.addClass('modal-sm');\r\n          break;\r\n\r\n        case 'large':\r\n        case 'lg':\r\n          innerDialog.addClass('modal-lg');\r\n          break;\r\n\r\n        case 'extra-large':\r\n        case 'xl':\r\n          innerDialog.addClass('modal-xl');\r\n\r\n          // Requires Bootstrap 4.2.0 or higher\r\n          if (options.fullBootstrapVersion.substring(0, 3) < '4.2') {\r\n            console.warn('Using size \"xl\"/\"extra-large\" requires Bootstrap 4.2.0 or higher. You appear to be using ' + options.fullBootstrapVersion + '. Please upgrade to use this option.');\r\n          }\r\n          break;\r\n      }\r\n    }\r\n\r\n    if (options.scrollable) {\r\n      innerDialog.addClass('modal-dialog-scrollable');\r\n\r\n      // Requires Bootstrap 4.3.0 or higher\r\n      if (options.fullBootstrapVersion.substring(0, 3) < '4.3') {\r\n        console.warn('Using \"scrollable\" requires Bootstrap 4.3.0 or higher. You appear to be using ' + options.fullBootstrapVersion + '. Please upgrade to use this option.');\r\n      }\r\n    }\r\n\r\n    if(options.title || options.closeButton) {\r\n      if (options.title) {\r\n        header.find('.modal-title').html(options.title);\r\n      }\r\n      else {\r\n        header.addClass('border-0');\r\n      }\r\n\r\n      if (options.closeButton) {\r\n        let closeButton = $(templates.closeButton);      \r\n        if (options.bootstrap < 5) {\r\n          closeButton.html('&times;');\r\n        }\r\n\r\n        /* Note: the close button for Bootstrap 5+ does not contain content */\r\n        if(options.bootstrap < 4) {\r\n          /* Bootstrap 3 and under */\r\n          header.prepend(closeButton);\r\n        }\r\n        else {\r\n          header.append(closeButton);\r\n        }\r\n      }\r\n\r\n      body.before(header);\r\n    }\r\n\r\n    if (options.centerVertical) {\r\n      innerDialog.addClass('modal-dialog-centered');\r\n\r\n      // Requires Bootstrap 4.0.0-beta.3 or higher\r\n      if (options.fullBootstrapVersion < '4.0.0') {\r\n        console.warn('\"centerVertical\" requires Bootstrap 4.0.0-beta.3 or higher. You appear to be using ' + options.fullBootstrapVersion + '. Please upgrade to use this option.');\r\n      }\r\n    }\r\n\r\n    // Bootstrap event listeners; these handle extra setup & teardown required after the underlying modal has performed certain actions.\r\n\r\n    if(!options.reusable) {\r\n      // make sure we unbind any listeners once the dialog has definitively been dismissed\r\n      dialog.one('hide.bs.modal', { dialog: dialog }, unbindModal);\r\n      dialog.one('hidden.bs.modal', { dialog: dialog }, destroyModal);\r\n    }\r\n\r\n    if (options.onHide) {\r\n      if ($.isFunction(options.onHide)) {\r\n        dialog.on('hide.bs.modal', options.onHide);\r\n      }\r\n      else {\r\n        throw new Error('Argument supplied to \"onHide\" must be a function');\r\n      }\r\n    }\r\n\r\n    if (options.onHidden) {\r\n      if ($.isFunction(options.onHidden)) {\r\n        dialog.on('hidden.bs.modal', options.onHidden);\r\n      }\r\n      else {\r\n        throw new Error('Argument supplied to \"onHidden\" must be a function');\r\n      }\r\n    }\r\n\r\n    if (options.onShow) {\r\n      if ($.isFunction(options.onShow)) {\r\n        dialog.on('show.bs.modal', options.onShow);\r\n      }\r\n      else {\r\n        throw new Error('Argument supplied to \"onShow\" must be a function');\r\n      }\r\n    }\r\n\r\n    dialog.one('shown.bs.modal', { dialog: dialog }, focusPrimaryButton);\r\n\r\n    if (options.onShown) {\r\n      if ($.isFunction(options.onShown)) {\r\n        dialog.on('shown.bs.modal', options.onShown);\r\n      }\r\n      else {\r\n        throw new Error('Argument supplied to \"onShown\" must be a function');\r\n      }\r\n    }\r\n\r\n    // Bootbox event listeners; used to decouple some behaviours from their respective triggers\r\n\r\n    if (options.backdrop === true) {\r\n      let startedOnBody = false;\r\n\r\n      // Prevents the event from propagating to the backdrop, when something inside the dialog is clicked\r\n      dialog.on('mousedown', '.modal-content', function(e) {\r\n        e.stopPropagation();\r\n\r\n        startedOnBody = true;\r\n      });\r\n\r\n      // A boolean true/false according to the Bootstrap docs should show a dialog the user can dismiss by clicking on the background.\r\n      // We always only ever pass static/false to the actual $.modal function because with \"true\" we can't trap this event (the .modal-backdrop swallows it).\r\n      // However, we still want to sort-of respect true and invoke the escape mechanism instead\r\n      dialog.on('click.dismiss.bs.modal', function (e) {\r\n        if (startedOnBody || e.target !== e.currentTarget) {\r\n          return;\r\n        }\r\n\r\n        dialog.trigger('escape.close.bb');\r\n      });\r\n    }\r\n\r\n    dialog.on('escape.close.bb', function (e) {\r\n      // The if() statement looks redundant but it isn't; without it, if we *didn't* have an onEscape handler then processCallback would automatically dismiss the dialog\r\n      if (callbacks.onEscape) {\r\n        processCallback(e, dialog, callbacks.onEscape);\r\n      }\r\n    });\r\n\r\n    dialog.on('click', '.modal-footer button:not(.disabled)', function (e) {\r\n      let callbackKey = $(this).data('bb-handler');\r\n\r\n      if (callbackKey !== undefined) {\r\n        // Only process callbacks for buttons we recognize:\r\n        processCallback(e, dialog, callbacks[callbackKey]);\r\n      }\r\n    });\r\n\r\n    dialog.on('click', '.bootbox-close-button', function (e) {\r\n      // onEscape might be falsy, but that's fine; the fact is if the user has managed to click the close button we have to close the dialog, callback or not\r\n      processCallback(e, dialog, callbacks.onEscape);\r\n    });\r\n\r\n    dialog.on('keyup', function (e) {\r\n      if (e.which === 27) {\r\n        dialog.trigger('escape.close.bb');\r\n      }\r\n    });\r\n\r\n    /*\r\n    The remainder of this method simply deals with adding our dialog element to the DOM, augmenting it with \r\n    Bootstrap's modal functionality and then giving the resulting object back to our caller\r\n    */\r\n\r\n    $(options.container).append(dialog);\r\n\r\n    dialog.modal({\r\n      backdrop: options.backdrop,\r\n      keyboard: false,\r\n      show: false\r\n    });\r\n\r\n    if (options.show) {\r\n      dialog.modal('show', options.relatedTarget);\r\n    }\r\n\r\n    return dialog;\r\n  };\r\n\r\n\r\n  /**\r\n   * Helper function to simulate the native alert() behavior. **NOTE**: This is non-blocking, so any code that must happen after the alert is dismissed should be placed within the callback function for this alert.\r\n   * @returns  A jQuery object upon which Bootstrap's modal function has been called\r\n   */\r\n  exports.alert = function () {\r\n    let options;\r\n\r\n    options = mergeDialogOptions('alert', ['ok'], ['message', 'callback'], arguments);\r\n\r\n    // @TODO: can this move inside exports.dialog when we're iterating over each button and checking its button.callback value instead?\r\n    if (options.callback && !$.isFunction(options.callback)) {\r\n      throw new Error('alert requires the \"callback\" property to be a function when provided');\r\n    }\r\n\r\n    // Override the ok and escape callback to make sure they just invoke the single user-supplied one (if provided)\r\n    options.buttons.ok.callback = options.onEscape = function () {\r\n      if ($.isFunction(options.callback)) {\r\n        return options.callback.call(this);\r\n      }\r\n\r\n      return true;\r\n    };\r\n\r\n    return exports.dialog(options);\r\n  };\r\n\r\n\r\n  /**\r\n   * Helper function to simulate the native confirm() behavior. **NOTE**: This is non-blocking, so any code that must happen after the confirm is dismissed should be placed within the callback function for this confirm.\r\n   * @returns A jQuery object upon which Bootstrap's modal function has been called\r\n   */\r\n  exports.confirm = function () {\r\n    let options;\r\n\r\n    options = mergeDialogOptions('confirm', ['cancel', 'confirm'], ['message', 'callback'], arguments);\r\n\r\n    // confirm specific validation; they don't make sense without a callback so make sure it's present\r\n    if (!$.isFunction(options.callback)) {\r\n      throw new Error('confirm requires a callback');\r\n    }\r\n\r\n    // Overrides; undo anything the user tried to set they shouldn't have\r\n    options.buttons.cancel.callback = options.onEscape = function () {\r\n      return options.callback.call(this, false);\r\n    };\r\n\r\n    options.buttons.confirm.callback = function () {\r\n      return options.callback.call(this, true);\r\n    };\r\n\r\n    return exports.dialog(options);\r\n  };\r\n\r\n\r\n  /**\r\n   * Helper function to simulate the native prompt() behavior. **NOTE**: This is non-blocking, so any code that must happen after the prompt is dismissed should be placed within the callback function for this prompt.\r\n   * @returns A jQuery object upon which Bootstrap's modal function has been called\r\n   */\r\n  exports.prompt = function () {\r\n    let options;\r\n    let promptDialog;\r\n    let form;\r\n    let input;\r\n    let shouldShow;\r\n    let inputOptions;\r\n\r\n    // We have to create our form first, otherwise its value is undefined when gearing up our options.\r\n    // @TODO this could be solved by allowing message to be a function instead...\r\n    form = $(templates.form);\r\n\r\n    // prompt defaults are more complex than others in that users can override more defaults\r\n    options = mergeDialogOptions('prompt', ['cancel', 'confirm'], ['title', 'callback'], arguments);\r\n\r\n    if (!options.value) {\r\n      options.value = defaults.value;\r\n    }\r\n\r\n    if (!options.inputType) {\r\n      options.inputType = defaults.inputType;\r\n    }\r\n\r\n    // Capture the user's 'show' value; we always set this to false before spawning the dialog to give us a chance to attach some handlers to it, but we need to make sure we respect a preference not to show it\r\n    shouldShow = (options.show === undefined) ? defaults.show : options.show;\r\n\r\n    // This is required prior to calling the dialog builder below - we need to add an event handler just before the prompt is shown\r\n    options.show = false;\r\n\r\n    // Handles the 'cancel' action\r\n    options.buttons.cancel.callback = options.onEscape = function () {\r\n      return options.callback.call(this, null);\r\n    };\r\n\r\n    // Prompt submitted - extract the prompt value. This requires a bit of work, given the different input types available.\r\n    options.buttons.confirm.callback = function () {\r\n      let value;\r\n\r\n      if (options.inputType === 'checkbox') {\r\n        value = input.find('input:checked').map(function () {\r\n          return $(this).val();\r\n        }).get();\r\n      } else if (options.inputType === 'radio') {\r\n        value = input.find('input:checked').val();\r\n      }\r\n      else {\r\n        let el = input[0];\r\n        \r\n        // Clear any previous custom error message\r\n        if(options.errorMessage) {\r\n          el.setCustomValidity('');\r\n        }\r\n\r\n        if (el.checkValidity && !el.checkValidity()) {\r\n          // If a custom error message was provided, add it now\r\n          if(options.errorMessage){\r\n            el.setCustomValidity(options.errorMessage);\r\n          }\r\n          \r\n          if(el.reportValidity) { \r\n            el.reportValidity();\r\n          }\r\n\r\n          // prevents button callback from being called\r\n          return false;\r\n        } else {\r\n          if (options.inputType === 'select' && options.multiple === true) {\r\n            value = input.find('option:selected').map(function () {\r\n              return $(this).val();\r\n            }).get();\r\n          }\r\n          else {\r\n            value = input.val();\r\n          }\r\n        }\r\n      }\r\n\r\n      return options.callback.call(this, value);\r\n    };\r\n\r\n    // prompt-specific validation\r\n    if (!options.title) {\r\n      throw new Error('prompt requires a title');\r\n    }\r\n\r\n    if (!$.isFunction(options.callback)) {\r\n      throw new Error('prompt requires a callback');\r\n    }\r\n\r\n    if (!templates.inputs[options.inputType]) {\r\n      throw new Error('Invalid prompt type');\r\n    }\r\n\r\n    // Create the input based on the supplied type\r\n    input = $(templates.inputs[options.inputType]);\r\n\r\n    switch (options.inputType) {\r\n      case 'text':\r\n      case 'textarea':\r\n      case 'email':\r\n      case 'password':\r\n        input.val(options.value);\r\n\r\n        if (options.placeholder) {\r\n          input.attr('placeholder', options.placeholder);\r\n        }\r\n\r\n        if (options.pattern) {\r\n          input.attr('pattern', options.pattern);\r\n        }\r\n\r\n        if (options.maxlength) {\r\n          input.attr('maxlength', options.maxlength);\r\n        }\r\n\r\n        if (options.required) {\r\n          input.prop({ 'required': true });\r\n        }\r\n\r\n        if (options.rows && !isNaN(parseInt(options.rows))) {\r\n          if (options.inputType === 'textarea') {\r\n            input.attr({ 'rows': options.rows });\r\n          }\r\n        }\r\n        break;\r\n\r\n      case 'date':\r\n      case 'time':\r\n      case 'number':\r\n      case 'range':\r\n        input.val(options.value);\r\n\r\n        if (options.placeholder) {\r\n          input.attr('placeholder', options.placeholder);\r\n        }\r\n\r\n        if (options.pattern) {\r\n          input.attr('pattern', options.pattern);\r\n        }\r\n        else {\r\n          if(options.inputType === 'date') {\r\n            // Add the ISO-8601 short date format as a fallback for browsers without native type=\"date\" support\r\n            input.attr('pattern', '\\d{4}-\\d{2}-\\d{2}');\r\n          }\r\n          else if(options.inputType === 'time') {\r\n            // Add an HH:MM pattern as a fallback for browsers without native type=\"time\" support\r\n            input.attr('pattern', '\\d{2}:\\d{2}');\r\n          }\r\n        }\r\n\r\n        if (options.required) {\r\n          input.prop({ 'required': true });\r\n        }\r\n\r\n        // These input types have extra attributes which affect their input validation.\r\n        // Warning: For most browsers, date inputs are buggy in their implementation of 'step', so this attribute will have no effect. Therefore, we don't set the attribute for date inputs.\r\n        // @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/date#Setting_maximum_and_minimum_dates\r\n        if (options.inputType !== 'date') {\r\n          if (options.step) {\r\n            if (options.step === 'any' || (!isNaN(options.step) && parseFloat(options.step) > 0)) {\r\n              input.attr('step', options.step);\r\n            }\r\n            else {\r\n              throw new Error('\"step\" must be a valid positive number or the value \"any\". See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-step for more information.');\r\n            }\r\n          }\r\n        }\r\n\r\n        if (minAndMaxAreValid(options.inputType, options.min, options.max)) {\r\n          if (options.min !== undefined) {\r\n            input.attr('min', options.min);\r\n          }\r\n          if (options.max !== undefined) {\r\n            input.attr('max', options.max);\r\n          }\r\n        }\r\n        break;\r\n\r\n      case 'select':\r\n        let groups = {};\r\n        inputOptions = options.inputOptions || [];\r\n\r\n        if (!$.isArray(inputOptions)) {\r\n          throw new Error('Please pass an array of input options');\r\n        }\r\n\r\n        if (!inputOptions.length) {\r\n          throw new Error('prompt with \"inputType\" set to \"select\" requires at least one option');\r\n        }\r\n\r\n        if (options.required) {\r\n          input.prop({ 'required': true });\r\n        }\r\n\r\n        if (options.multiple) {\r\n          input.prop({ 'multiple': true });\r\n        }\r\n\r\n        each(inputOptions, function (_, option) {\r\n          // Assume the element to attach to is the input...\r\n          let elem = input;\r\n\r\n          if (option.value === undefined || option.text === undefined) {\r\n            throw new Error('each option needs a \"value\" property and a \"text\" property');\r\n          }\r\n\r\n          // ... but override that element if this option sits in a group\r\n\r\n          if (option.group) {\r\n            // Initialise group if necessary\r\n            if (!groups[option.group]) {\r\n              groups[option.group] = $('<optgroup />').attr('label', option.group);\r\n            }\r\n\r\n            elem = groups[option.group];\r\n          }\r\n\r\n          let o = $(templates.option);\r\n          o.attr('value', option.value).text(option.text);\r\n          elem.append(o);\r\n        });\r\n\r\n        each(groups, function (_, group) {\r\n          input.append(group);\r\n        });\r\n\r\n        // Safe to set a select's value as per a normal input\r\n        input.val(options.value);\r\n        if (options.bootstrap < 5) {\r\n          input.removeClass('form-select').addClass('form-control');\r\n        }\r\n        break;\r\n\r\n      case 'checkbox':\r\n        let checkboxValues = $.isArray(options.value) ? options.value : [options.value];\r\n        inputOptions = options.inputOptions || [];\r\n\r\n        if (!inputOptions.length) {\r\n          throw new Error('prompt with \"inputType\" set to \"checkbox\" requires at least one option');\r\n        }\r\n\r\n        // Checkboxes have to nest within a containing element, so they break the rules a bit and we end up re-assigning our 'input' element to this container instead\r\n        input = $('<div class=\"bootbox-checkbox-list\"></div>');\r\n\r\n        each(inputOptions, function (_, option) {\r\n          if (option.value === undefined || option.text === undefined) {\r\n            throw new Error('each option needs a \"value\" property and a \"text\" property');\r\n          }\r\n\r\n          let checkbox = $(templates.inputs[options.inputType]);\r\n\r\n          checkbox.find('input').attr('value', option.value);\r\n          checkbox.find('label').append('\\n' + option.text);\r\n\r\n          // We've ensured values is an array, so we can always iterate over it\r\n          each(checkboxValues, function (_, value) {\r\n            if (value === option.value) {\r\n              checkbox.find('input').prop('checked', true);\r\n            }\r\n          });\r\n\r\n          input.append(checkbox);\r\n        });\r\n        break;\r\n\r\n      case 'radio':\r\n        // Make sure that value is not an array (only a single radio can ever be checked)\r\n        if (options.value !== undefined && $.isArray(options.value)) {\r\n          throw new Error('prompt with \"inputType\" set to \"radio\" requires a single, non-array value for \"value\"');\r\n        }\r\n\r\n        inputOptions = options.inputOptions || [];\r\n\r\n        if (!inputOptions.length) {\r\n          throw new Error('prompt with \"inputType\" set to \"radio\" requires at least one option');\r\n        }\r\n\r\n        // Radiobuttons have to nest within a containing element, so they break the rules a bit and we end up re-assigning our 'input' element to this container instead\r\n        input = $('<div class=\"bootbox-radiobutton-list\"></div>');\r\n\r\n        // Radiobuttons should always have an initial checked input checked in a \"group\".\r\n        // If value is undefined or doesn't match an input option, select the first radiobutton\r\n        let checkFirstRadio = true;\r\n\r\n        each(inputOptions, function (_, option) {\r\n          if (option.value === undefined || option.text === undefined) {\r\n            throw new Error('each option needs a \"value\" property and a \"text\" property');\r\n          }\r\n\r\n          let radio = $(templates.inputs[options.inputType]);\r\n\r\n          radio.find('input').attr('value', option.value);\r\n          radio.find('label').append('\\n' + option.text);\r\n\r\n          if (options.value !== undefined) {\r\n            if (option.value === options.value) {\r\n              radio.find('input').prop('checked', true);\r\n              checkFirstRadio = false;\r\n            }\r\n          }\r\n\r\n          input.append(radio);\r\n        });\r\n\r\n        if (checkFirstRadio) {\r\n          input.find('input[type=\"radio\"]').first().prop('checked', true);\r\n        }\r\n        break;\r\n    }\r\n\r\n    // Now place it in our form\r\n    form.append(input);\r\n\r\n    form.on('submit', function (e) {\r\n      e.preventDefault();\r\n      // Fix for SammyJS (or similar JS routing library) hijacking the form post.\r\n      e.stopPropagation();\r\n\r\n      // @TODO can we actually click *the* button object instead?\r\n      // e.g. buttons.confirm.click() or similar\r\n      promptDialog.find('.bootbox-accept').trigger('click');\r\n    });\r\n\r\n    if ($.trim(options.message) !== '') {\r\n      // Add the form to whatever content the user may have added.\r\n      let message = $(templates.promptMessage).html(options.message);\r\n      form.prepend(message);\r\n      options.message = form;\r\n    }\r\n    else {\r\n      options.message = form;\r\n    }\r\n\r\n    // Generate the dialog\r\n    promptDialog = exports.dialog(options);\r\n\r\n    // Clear the existing handler focusing the submit button...\r\n    promptDialog.off('shown.bs.modal', focusPrimaryButton);\r\n\r\n    // ...and replace it with one focusing our input, if possible\r\n    promptDialog.on('shown.bs.modal', function () {\r\n      // Need the closure here since input isn'tcan object otherwise\r\n      input.focus();\r\n    });\r\n\r\n    if (shouldShow === true) {\r\n      promptDialog.modal('show');\r\n    }\r\n\r\n    return promptDialog;\r\n  };\r\n\r\n\r\n  // INTERNAL FUNCTIONS\r\n  // *************************************************************************************************************\r\n\r\n  // Map a flexible set of arguments into a single returned object.\r\n  // If args.length is already one just return it, otherwise use the properties argument to map the unnamed args to object properties.\r\n  // So in the latter case:\r\n  //\r\n  //    mapArguments([\"foo\", $.noop], [\"message\", \"callback\"])\r\n  //  \r\n  //  results in\r\n  //\r\n  //    { message: \"foo\", callback: $.noop }\r\n  //\r\n  function mapArguments(args, properties) {\r\n    let argsLength = args.length;\r\n    let options = {};\r\n\r\n    if (argsLength < 1 || argsLength > 2) {\r\n      throw new Error('Invalid argument length');\r\n    }\r\n\r\n    if (argsLength === 2 || typeof args[0] === 'string') {\r\n      options[properties[0]] = args[0];\r\n      options[properties[1]] = args[1];\r\n    } else {\r\n      options = args[0];\r\n    }\r\n\r\n    return options;\r\n  }\r\n\r\n\r\n  // Merge a set of default dialog options with user supplied arguments\r\n  function mergeArguments(defaults, args, properties) {\r\n    return $.extend(\r\n      // Deep merge\r\n      true,\r\n      // Ensure the target is an empty, unreferenced object\r\n      {},\r\n      // The base options object for this type of dialog (often just buttons)\r\n      defaults,\r\n      // 'args' could be an object or array; if it's an array properties will map it to a proper options object\r\n      mapArguments(args, properties)\r\n    );\r\n  }\r\n\r\n\r\n  // This entry-level method makes heavy use of composition to take a simple range of inputs and return valid options suitable for passing to bootbox.dialog\r\n  function mergeDialogOptions(className, labels, properties, args) {\r\n    let locale;\r\n    if (args && args[0]) {\r\n      locale = args[0].locale || defaults.locale;\r\n      let swapButtons = args[0].swapButtonOrder || defaults.swapButtonOrder;\r\n\r\n      if (swapButtons) {\r\n        labels = labels.reverse();\r\n      }\r\n    }\r\n\r\n    // Build up a base set of dialog properties\r\n    let baseOptions = {\r\n      className: 'bootbox-' + className,\r\n      buttons: createLabels(labels, locale)\r\n    };\r\n\r\n    // Ensure the buttons properties generated, *after* merging with user args are still valid against the supplied labels\r\n    return validateButtons(\r\n      // Merge the generated base properties with user supplied arguments\r\n      mergeArguments(\r\n        baseOptions,\r\n        args,\r\n        // If args.length > 1, properties specify how each arg maps to an object key\r\n        properties\r\n      ),\r\n      labels\r\n    );\r\n  }\r\n\r\n\r\n  // Checks each button object to see if key is valid. \r\n  // This function will only be called by the alert, confirm, and prompt helpers. \r\n  function validateButtons(options, buttons) {\r\n    let allowedButtons = {};\r\n    each(buttons, function (key, value) {\r\n      allowedButtons[value] = true;\r\n    });\r\n\r\n    each(options.buttons, function (key) {\r\n      if (allowedButtons[key] === undefined) {\r\n        throw new Error('button key \"' + key + '\" is not allowed (options are ' + buttons.join(' ') + ')');\r\n      }\r\n    });\r\n\r\n    return options;\r\n  }\r\n\r\n\r\n  // From a given list of arguments, return a suitable object of button labels.\r\n  // All this does is normalise the given labels and translate them where possible.\r\n  // e.g. \"ok\", \"confirm\" -> { ok: \"OK\", cancel: \"Annuleren\" }\r\n  function createLabels(labels, locale) {\r\n    let buttons = {};\r\n\r\n    for (let i = 0, j = labels.length; i < j; i++) {\r\n      let argument = labels[i];\r\n      let key = argument.toLowerCase();\r\n      let value = argument.toUpperCase();\r\n\r\n      buttons[key] = {\r\n        label: getText(value, locale)\r\n      };\r\n    }\r\n\r\n    return buttons;\r\n  }\r\n\r\n\r\n  // Get localized text from a locale. Defaults to 'en' locale if no locale provided or a non-registered locale is requested\r\n  function getText(key, locale) {\r\n    let labels = locales[locale];\r\n\r\n    return labels ? labels[key] : locales.en[key];\r\n  }\r\n\r\n\r\n  // Filter and tidy up any user supplied parameters to this dialog.\r\n  // Also looks for any shorthands used and ensures that the options which are returned are all normalized properly\r\n  function sanitize(options) {\r\n    let buttons;\r\n    let total;\r\n\r\n    if (typeof options !== 'object') {\r\n      throw new Error('Please supply an object of options');\r\n    }\r\n\r\n    if (!options.message) {\r\n      throw new Error('\"message\" option must not be null or an empty string.');\r\n    }\r\n\r\n    // Make sure any supplied options take precedence over defaults\r\n    options = $.extend({}, defaults, options);\r\n\r\n    // Make sure backdrop is either true, false, or 'static'\r\n    if (!options.backdrop) {\r\n      options.backdrop = (options.backdrop === false || options.backdrop === 0) ? false : 'static';\r\n    } else {\r\n      options.backdrop = typeof options.backdrop === 'string' && options.backdrop.toLowerCase() === 'static' ? 'static' : true;\r\n    } \r\n\r\n    // No buttons is still a valid dialog but it's cleaner to always have a buttons object to iterate over, even if it's empty\r\n    if (!options.buttons) {\r\n      options.buttons = {};\r\n    }\r\n    \r\n    buttons = options.buttons;\r\n\r\n    total = getKeyLength(buttons);\r\n\r\n    each(buttons, function (key, button, index) {\r\n      if ($.isFunction(button)) {\r\n        // Short form, assume value is our callback. Since button isn't an object it isn't a reference either so re-assign it\r\n        button = buttons[key] = {\r\n          callback: button\r\n        };\r\n      }\r\n\r\n      // Before any further checks, make sure button is the correct type\r\n      if ($.type(button) !== 'object') {\r\n        throw new Error('button with key \"' + key + '\" must be an object');\r\n      }\r\n\r\n      if (!button.label) {\r\n        // The lack of an explicit label means we'll assume the key is good enough\r\n        button.label = key;\r\n      }\r\n\r\n      if (!button.className) {\r\n        let isPrimary = false;\r\n        if (options.swapButtonOrder) {\r\n          isPrimary = index === 0;\r\n        }\r\n        else {\r\n          isPrimary = index === total - 1;\r\n        }\r\n\r\n        if (total <= 2 && isPrimary) {\r\n          // always add a primary to the main option in a one or two-button dialog\r\n          button.className = 'btn-primary';\r\n        } \r\n        else {\r\n          // adding both classes allows us to target both BS3 and BS4+ without needing to check the version\r\n          button.className = 'btn-secondary btn-default';\r\n        }\r\n      }\r\n    });\r\n\r\n    return options;\r\n  }\r\n\r\n\r\n  // Returns a count of the properties defined on the object\r\n  function getKeyLength(obj) {\r\n    return Object.keys(obj).length;\r\n  }\r\n\r\n\r\n  // Tiny wrapper function around jQuery.each; just adds index as the third parameter\r\n  function each(collection, iterator) {\r\n    let index = 0;\r\n    $.each(collection, function (key, value) {\r\n      iterator(key, value, index++);\r\n    });\r\n  }\r\n\r\n\r\n  function focusPrimaryButton(e) {\r\n    e.data.dialog.find('.bootbox-accept').first().trigger('focus');\r\n  }\r\n\r\n\r\n  function destroyModal(e) {\r\n    // Ensure we don't accidentally intercept hidden events triggered by children of the current dialog. \r\n    // We shouldn't need to handle this anymore, now that Bootstrap namespaces its events, but still worth doing.\r\n    if (e.target === e.data.dialog[0]) {\r\n      e.data.dialog.remove();\r\n    }\r\n  }\r\n\r\n\r\n  function unbindModal(e) {\r\n    if (e.target === e.data.dialog[0]) {\r\n      e.data.dialog.off('escape.close.bb');\r\n      e.data.dialog.off('click');\r\n    }\r\n  }\r\n\r\n\r\n  //  Handle the invoked dialog callback\r\n  function processCallback(e, dialog, callback) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\r\n    // By default we assume a callback will get rid of the dialog, although it is given the opportunity to override this\r\n\r\n    // If the callback can be invoked and it *explicitly returns false*, then we'll set a flag to keep the dialog active...\r\n    let preserveDialog = $.isFunction(callback) && callback.call(dialog, e) === false;\r\n\r\n    // ... otherwise we'll bin it\r\n    if (!preserveDialog) {\r\n      dialog.modal('hide');\r\n    }\r\n  }\r\n\r\n  // Validate `min` and `max` values based on the current `inputType` value\r\n  function minAndMaxAreValid(type, min, max) {\r\n    let result = false;\r\n    let minValid = true;\r\n    let maxValid = true;\r\n\r\n    if (type === 'date') {\r\n      if (min !== undefined && !(minValid = dateIsValid(min))) {\r\n        console.warn('Browsers which natively support the \"date\" input type expect date values to be of the form \"YYYY-MM-DD\" (see ISO-8601 https://www.iso.org/iso-8601-date-and-time-format.html). Bootbox does not enforce this rule, but your min value may not be enforced by this browser.');\r\n      }\r\n      else if (max !== undefined && !(maxValid = dateIsValid(max))) {\r\n        console.warn('Browsers which natively support the \"date\" input type expect date values to be of the form \"YYYY-MM-DD\" (see ISO-8601 https://www.iso.org/iso-8601-date-and-time-format.html). Bootbox does not enforce this rule, but your max value may not be enforced by this browser.');\r\n      }\r\n    }\r\n    else if (type === 'time') {\r\n      if (min !== undefined && !(minValid = timeIsValid(min))) {\r\n        throw new Error('\"min\" is not a valid time. See https://www.w3.org/TR/2012/WD-html-markup-20120315/datatypes.html#form.data.time for more information.');\r\n      }\r\n      else if (max !== undefined && !(maxValid = timeIsValid(max))) {\r\n        throw new Error('\"max\" is not a valid time. See https://www.w3.org/TR/2012/WD-html-markup-20120315/datatypes.html#form.data.time for more information.');\r\n      }\r\n    }\r\n    else {\r\n      if (min !== undefined && isNaN(min)) {\r\n        minValid = false;\r\n        throw new Error('\"min\" must be a valid number. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-min for more information.');\r\n      }\r\n\r\n      if (max !== undefined && isNaN(max)) {\r\n        maxValid = false;\r\n        throw new Error('\"max\" must be a valid number. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-max for more information.');\r\n      }\r\n    }\r\n\r\n    if (minValid && maxValid) {\r\n      if (max <= min) {\r\n        throw new Error('\"max\" must be greater than \"min\". See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-max for more information.');\r\n      }\r\n      else {\r\n        result = true;\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  function timeIsValid(value) {\r\n    return /([01][0-9]|2[0-3]):[0-5][0-9]?:[0-5][0-9]/.test(value);\r\n  }\r\n\r\n  function dateIsValid(value) {\r\n    return /(\\d{4})-(\\d{2})-(\\d{2})/.test(value);\r\n  }\r\n\r\n  //  The Bootbox object\r\n  return exports;\r\n}));\r\n","module.exports = jQuery;","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw new $TypeError(tryToString(argument) + ' is not a function');\n};\n","'use strict';\nvar isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw new $TypeError($String(argument) + ' is not an object');\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    if (length === 0) return !IS_INCLUDES && -1;\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el !== el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value !== value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis([].slice);\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","'use strict';\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","'use strict';\nvar global = require('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] !== 7;\n});\n","'use strict';\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","'use strict';\n/* global Bun -- Bun case */\nmodule.exports = typeof Bun == 'function' && Bun && typeof Bun.version == 'string';\n","'use strict';\nvar userAgent = require('../internals/engine-user-agent');\n\n// eslint-disable-next-line redos/no-vulnerable -- safe\nmodule.exports = /(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent);\n","'use strict';\nvar global = require('../internals/global');\nvar classof = require('../internals/classof-raw');\n\nmodule.exports = classof(global.process) === 'process';\n","'use strict';\nmodule.exports = typeof navigator != 'undefined' && String(navigator.userAgent) || '';\n","'use strict';\nvar global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","'use strict';\n// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","'use strict';\nvar global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = global[TARGET] && global[TARGET].prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","'use strict';\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar apply = FunctionPrototype.apply;\nvar call = FunctionPrototype.call;\n\n// eslint-disable-next-line es/no-reflect -- safe\nmodule.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {\n  return call.apply(apply, arguments);\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar aCallable = require('../internals/a-callable');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","'use strict';\nvar classofRaw = require('../internals/classof-raw');\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = function (fn) {\n  // Nashorn bug:\n  //   https://github.com/zloirock/core-js/issues/1128\n  //   https://github.com/zloirock/core-js/issues/1130\n  if (classofRaw(fn) === 'Function') return uncurryThis(fn);\n};\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","'use strict';\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","'use strict';\nvar check = function (it) {\n  return it && it.Math === Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  check(typeof this == 'object' && this) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","'use strict';\nmodule.exports = {};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a !== 7;\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) === 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","'use strict';\nvar NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw new TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","'use strict';\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\nvar documentAll = typeof document == 'object' && document.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nmodule.exports = typeof documentAll == 'undefined' && documentAll !== undefined ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value === POLYFILL ? true\n    : value === NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\n// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","'use strict';\nmodule.exports = false;\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","'use strict';\nvar toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\).*$/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","'use strict';\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw new $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","'use strict';\nvar call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw new $TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.hasIndices) result += 'd';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.unicodeSets) result += 'v';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw new $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","'use strict';\nvar global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar isCallable = require('../internals/is-callable');\nvar ENGINE_IS_BUN = require('../internals/engine-is-bun');\nvar USER_AGENT = require('../internals/engine-user-agent');\nvar arraySlice = require('../internals/array-slice');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\n\nvar Function = global.Function;\n// dirty IE9- and Bun 0.3.0- checks\nvar WRAP = /MSIE .\\./.test(USER_AGENT) || ENGINE_IS_BUN && (function () {\n  var version = global.Bun.version.split('.');\n  return version.length < 3 || version[0] === '0' && (version[1] < 3 || version[1] === '3' && version[2] === '0');\n})();\n\n// IE9- / Bun 0.3.0- setTimeout / setInterval / setImmediate additional parameters fix\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers\n// https://github.com/oven-sh/bun/issues/1633\nmodule.exports = function (scheduler, hasTimeArg) {\n  var firstParamIndex = hasTimeArg ? 2 : 1;\n  return WRAP ? function (handler, timeout /* , ...arguments */) {\n    var boundArgs = validateArgumentsLength(arguments.length, 1) > firstParamIndex;\n    var fn = isCallable(handler) ? handler : Function(handler);\n    var params = boundArgs ? arraySlice(arguments, firstParamIndex) : [];\n    var callback = boundArgs ? function () {\n      apply(fn, this, params);\n    } : fn;\n    return hasTimeArg ? scheduler(callback, timeout) : scheduler(callback);\n  } : scheduler;\n};\n","'use strict';\nvar shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","'use strict';\nvar IS_PURE = require('../internals/is-pure');\nvar globalThis = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = module.exports = globalThis[SHARED] || defineGlobalProperty(SHARED, {});\n\n(store.versions || (store.versions = [])).push({\n  version: '3.37.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2024 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","'use strict';\nvar store = require('../internals/shared-store');\n\nmodule.exports = function (key, value) {\n  return store[key] || (store[key] = value || {});\n};\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar $String = global.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol('symbol detection');\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","'use strict';\nvar global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar bind = require('../internals/function-bind-context');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar fails = require('../internals/fails');\nvar html = require('../internals/html');\nvar arraySlice = require('../internals/array-slice');\nvar createElement = require('../internals/document-create-element');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar Dispatch = global.Dispatch;\nvar Function = global.Function;\nvar MessageChannel = global.MessageChannel;\nvar String = global.String;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar $location, defer, channel, port;\n\nfails(function () {\n  // Deno throws a ReferenceError on `location` access without `--location` flag\n  $location = global.location;\n});\n\nvar run = function (id) {\n  if (hasOwn(queue, id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar eventListener = function (event) {\n  run(event.data);\n};\n\nvar globalPostMessageDefer = function (id) {\n  // old engines have not location.origin\n  global.postMessage(String(id), $location.protocol + '//' + $location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(handler) {\n    validateArgumentsLength(arguments.length, 1);\n    var fn = isCallable(handler) ? handler : Function(handler);\n    var args = arraySlice(arguments, 1);\n    queue[++counter] = function () {\n      apply(fn, undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = eventListener;\n    defer = bind(port.postMessage, port);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    isCallable(global.postMessage) &&\n    !global.importScripts &&\n    $location && $location.protocol !== 'file:' &&\n    !fails(globalPostMessageDefer)\n  ) {\n    defer = globalPostMessageDefer;\n    global.addEventListener('message', eventListener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","'use strict';\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","'use strict';\nvar trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  var len = toIntegerOrInfinity(argument);\n  return len > 0 ? min(len, 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","'use strict';\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw new $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","'use strict';\nvar $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype !== 42;\n});\n","'use strict';\nvar $TypeError = TypeError;\n\nmodule.exports = function (passed, required) {\n  if (passed < required) throw new $TypeError('Not enough arguments');\n  return passed;\n};\n","'use strict';\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","'use strict';\nvar global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Symbol = global.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar regExpFlags = require('../internals/regexp-flags');\nvar fails = require('../internals/fails');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 'd') -> /./d and it causes SyntaxError\nvar RegExp = global.RegExp;\nvar RegExpPrototype = RegExp.prototype;\n\nvar FORCED = DESCRIPTORS && fails(function () {\n  var INDICES_SUPPORT = true;\n  try {\n    RegExp('.', 'd');\n  } catch (error) {\n    INDICES_SUPPORT = false;\n  }\n\n  var O = {};\n  // modern V8 bug\n  var calls = '';\n  var expected = INDICES_SUPPORT ? 'dgimsy' : 'gimsy';\n\n  var addGetter = function (key, chr) {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty(O, key, { get: function () {\n      calls += chr;\n      return true;\n    } });\n  };\n\n  var pairs = {\n    dotAll: 's',\n    global: 'g',\n    ignoreCase: 'i',\n    multiline: 'm',\n    sticky: 'y'\n  };\n\n  if (INDICES_SUPPORT) pairs.hasIndices = 'd';\n\n  for (var key in pairs) addGetter(key, pairs[key]);\n\n  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n  var result = Object.getOwnPropertyDescriptor(RegExpPrototype, 'flags').get.call(O);\n\n  return result !== expected || calls !== expected;\n});\n\n// `RegExp.prototype.flags` getter\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nif (FORCED) defineBuiltInAccessor(RegExpPrototype, 'flags', {\n  configurable: true,\n  get: regExpFlags\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar clearImmediate = require('../internals/task').clear;\n\n// `clearImmediate` method\n// http://w3c.github.io/setImmediate/#si-clearImmediate\n$({ global: true, bind: true, enumerable: true, forced: global.clearImmediate !== clearImmediate }, {\n  clearImmediate: clearImmediate\n});\n","'use strict';\n// TODO: Remove this module from `core-js@4` since it's split to modules listed below\nrequire('../modules/web.clear-immediate');\nrequire('../modules/web.set-immediate');\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar setTask = require('../internals/task').set;\nvar schedulersFix = require('../internals/schedulers-fix');\n\n// https://github.com/oven-sh/bun/issues/1633\nvar setImmediate = global.setImmediate ? schedulersFix(setTask, false) : setTask;\n\n// `setImmediate` method\n// http://w3c.github.io/setImmediate/#si-setImmediate\n$({ global: true, bind: true, enumerable: true, forced: global.setImmediate !== setImmediate }, {\n  setImmediate: setImmediate\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/* global $:false Shiny: false */\nimport 'core-js/stable';\nimport 'regenerator-runtime/runtime';\nimport bootbox from 'bootbox';\n\nfunction unicodeToHTMLID(str) {\n  const idTmp = window\n    .btoa(encodeURIComponent(str))\n    .replace(/\\+/g, '-')\n    .replace(/\\//g, '_')\n    .replace(/=/g, '');\n  return `a${idTmp}`;\n}\n\nfunction HTMLIDToUnicode(str) {\n  if (str == null) {\n    return null;\n  }\n  if (str === '') {\n    return '';\n  }\n  const unicodeTmp = str.substring(1);\n  return decodeURIComponent(window.atob(unicodeTmp));\n}\n\n// taken from bjornd: https://stackoverflow.com/questions/6234773/can-i-escape-html-special-chars-in-javascript\nfunction escapeHtml(unsafe) {\n  return unsafe\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#039;');\n}\n\nconst $overlay = $('#overlayScreen');\nconst $loadingScreen = $('#loading-screen');\nconst $appsWrapper = $('#appsWrapper');\nconst appFilesPlaceholder = 'Drop your MIRO app here.';\nconst appNamePlaceholder = 'App title';\nconst appDescPlaceholder = 'Short model description (optional)';\nconst appGroupsPlaceholder = 'Access groups (optional)';\nconst appLogoPlaceholder = 'Different app logo? Drop your MIRO app logo here.';\nconst overwriteAppData = {};\nconst uploadAppDataFinished = {};\nconst appEnvironment = {};\nlet scenPermAccessGroups = [];\nlet reorderAppsMode = false;\nlet currentConfigList = null;\nlet currentGroupList = [];\nlet currentAppId = null;\nlet currentAppLogo = null;\n\nconst addAppWrapperHTML = `<div id=\"addAppBox\" class=\"add-app-box app-box-fixed-height\">\n                             <div style=\"height:200px;\">\n                                 <p class=\"add-app-box-logo\">\n                                </p>\n                             </div>\n                             <div>\n                               <div class=\"add-app-box-title\"></div>\n                               <div class=\"add-app-box-desc\"></div>\n                             </div>\n                            <a class=\"btn-add-app\" id=\"addApp\"><i class=\"fas fa-circle-plus\"></i></a>\n                          </div>`;\n\nconst supportedDataFileTypes = [\n  'gdx',\n  'miroscen',\n  'xlsx',\n  'xlsm',\n  'xls',\n  'zip',\n];\n\nfunction sendAddRequest() {\n  const newAppTitle = document.getElementById('newAppName').value;\n  if (!newAppTitle || newAppTitle.trim() === '') {\n    bootbox.alert({\n      title: 'Missing App title',\n      message: 'Please enter an app title.',\n      centerVertical: true,\n    });\n    return;\n  }\n  const appEnv = appEnvironment['~$_newApp'];\n  $('#addAppSpinner').show();\n  $('#btAddApp').attr('disabled', true);\n  Shiny.setInputValue(\n    'addApp',\n    {\n      title: newAppTitle,\n      desc: document.getElementById('newAppDesc').value,\n      env: appEnv,\n      groups: $('#newAppGroups').val(),\n      overwrite: overwriteAppData['~$_newApp'] === true,\n    },\n    {\n      priority: 'event',\n    },\n  );\n  overwriteAppData['~$_newApp'] = null;\n}\n\nfunction sendUpdateRequest(index) {\n  const newAppTitle = $(`#appTitle_${index}`).val().trim();\n  if (!newAppTitle || newAppTitle.trim() === '') {\n    bootbox.alert({\n      title: 'Missing App title',\n      message: 'Please enter an app title.',\n      centerVertical: true,\n    });\n    return;\n  }\n  let newAppDesc = $(`#appDesc_${index}`).val().trim();\n  if (!newAppDesc || newAppDesc === appDescPlaceholder) {\n    newAppDesc = '';\n  }\n  const appEnv = appEnvironment[$(`#appEnv_${index}`).data('id')];\n  $loadingScreen.fadeIn(200);\n  Shiny.setInputValue(\n    'updateAppMeta',\n    {\n      index,\n      title: newAppTitle,\n      desc: newAppDesc,\n      env: appEnv,\n      newLogo: currentAppLogo !== null,\n      groups: $(`#appGroups_${index}`).val(),\n    },\n    {\n      priority: 'event',\n    },\n  );\n}\n\nfunction sendUpdateAppOrderRequest(idFrom, idTo, idFromRaw, idToRaw) {\n  $loadingScreen.fadeIn(200);\n  Shiny.setInputValue(\n    'updateAppOrder',\n    {\n      idFrom,\n      idTo,\n      idFromRaw,\n      idToRaw,\n    },\n    {\n      priority: 'event',\n    },\n  );\n}\n\nfunction sendRemoveRequest(index, removeData) {\n  $loadingScreen.fadeIn(200);\n  Shiny.setInputValue(\n    'deleteApp',\n    {\n      index,\n      removeData,\n    },\n    {\n      priority: 'event',\n    },\n  );\n}\n\nfunction exitOverlayMode() {\n  if ($('#expandedAddAppWrapper').is(':visible')) {\n    $('#addAppWrapper').html(addAppWrapperHTML);\n  }\n  if ($overlay.is(':visible')) {\n    $overlay.hide();\n    $overlay.data('current').css('z-index', 1);\n  }\n}\n\n// eslint-disable-next-line no-eval\nconst indirectEval = eval;\n\nfunction registerSelectizeInputs(selector = '') {\n  let selectizeSelector = 'select';\n  if (selector !== '') {\n    selectizeSelector = `${selector} select`;\n  }\n  const $el = $(selectizeSelector);\n  $el.each(function () {\n    const config = $el\n      .parent()\n      .find(`script[data-for=\"${escapeHtml(this.id)}\"]`);\n    let options = {\n      persist: false,\n    };\n    if (config.length > 0) {\n      options = $.extend(\n        {\n          labelField: 'label',\n          valueField: 'value',\n          searchField: ['label'],\n        },\n        JSON.parse(config.html()),\n      );\n      if (config.data('eval') instanceof Array) {\n        $.each(config.data('eval'), (i, x) => {\n          options[x] = indirectEval(`(${options[x]})`);\n        });\n      }\n    }\n    $(this).selectize(options);\n  });\n}\n\nfunction openAdvancedSettingsDialog() {\n  const appEnvBtn = $(this);\n  const appKey = appEnvBtn.data('id') ?? '~$_newApp';\n  const initialData = appEnvironment[appKey] ?? {};\n  const data = { ...initialData };\n  const maxEnvVars = 47;\n\n  const createRow = (\n    envName = '',\n    description = '',\n    value = '',\n    isEditable = true,\n    isFirst = false,\n  ) => {\n    const rowId = `row-${Date.now()}`;\n    return `\n              <tr id=\"${rowId}\">\n                  <td><input type=\"text\" class=\"form-control env-name\" value=\"${escapeHtml(envName)}\" placeholder=\"Environment Name\" ${isEditable ? '>' : `style=\"display:none\">${escapeHtml(envName)}`}</td>\n                  <td><textarea type=\"text\" class=\"form-control env-description\" placeholder=\"Description\" rows=\"1\">${escapeHtml(description)}</textarea></td>\n                  <td>\n                      <div class=\"input-group\">\n                          <input type=\"password\" class=\"form-control env-value\" value=\"${escapeHtml(value)}\" placeholder=\"Value\">\n                          <div class=\"input-group-text\">\n                            <i class=\"fas fa-eye toggle-visibility\"></i>\n                          </div>\n                      </div>\n                  </td>\n                  <td>\n                      ${!isEditable || !isFirst ? '<button class=\"btn btn-danger remove-row\" type=\"button\"><i class=\"fas fa-trash\"></i></button>' : ''}\n                  </td>\n              </tr>`;\n  };\n\n  const getCurrentAccessPerm = (accessPerm) => {\n    if (accessPerm?.value == null || accessPerm.value === '') {\n      return [];\n    }\n    return accessPerm.value.split(',');\n  };\n\n  const getAccessPermSelectorHtml = (\n    id,\n    choices,\n    selected,\n  ) => `<div class=\"access-perm-selector-container\">\n        <select id=\"${id}\" multiple=\"multiple\" placeholder=\"Owner of the Scenario\"><option value=\"\"></option></select>\n          <script type=\"application/json\"\n            data-for=\"${id}\"\n            data-eval=\"[&quot;sortField&quot;,&quot;items&quot;,&quot;render&quot;]\">\n            {\"valueField\":\"value\",\"labelField\":\"value\",\"searchField\":\"value\",\n              \"options\":${JSON.stringify(\n    choices.groups\n      .map((groupName) => ({\n        isGroup: true,\n        value: `#${groupName}`,\n      }))\n      .sort((i1, i2) => i1.value.localeCompare(i2.value))\n      .concat(\n        choices.users\n          .map((userName) => ({\n            isGroup: false,\n            value: userName,\n          }))\n          .sort((i1, i2) => i1.value.localeCompare(i2.value)),\n      ),\n  )},\n            \"items\":${JSON.stringify(JSON.stringify(selected))},\n            \"sortField\":\"function(i1,i2) {return i1.value.localeCompare(i2.value);}\",\n            \"render\":\"{option: function(d,e){return '<div>'+(d.isGroup?'<i class=\\\\\"fas fa-users\\\\\"><\\\\/i> '+e(d.value.substring(1)):'<i class=\\\\\"fas fa-user\\\\\"><\\\\/i> '+e(d.value))+'<\\\\/div>';},item:function(d,e){return '<div>'+(d.isGroup?'<i class=\\\\\"fas fa-users\\\\\"><\\\\/i> '+e(d.value.substring(1)):'<i class=\\\\\"fas fa-user\\\\\"><\\\\/i> '+e(d.value))+'<\\\\/div>';}}\",\n            \"plugins\":[\"selectize-plugin-a11y\"]}\n          </script>\n        </div>`;\n\n  const dialogContent = `\n          <div style=\"white-space:normal\">\n            <ul class=\"nav nav-tabs\" id=\"confTab\" role=\"tablist\">\n              <li class=\"nav-item\" role=\"presentation\">\n                <button class=\"nav-link active\" id=\"conf-environment-tab\" data-toggle=\"tab\" data-target=\"#conf-environment\" type=\"button\" role=\"tab\" aria-controls=\"conf-environment\" aria-selected=\"true\">Environment</button>\n              </li>\n              <li class=\"nav-item\" role=\"presentation\">\n                <button class=\"nav-link\" id=\"conf-permissions-tab\" data-toggle=\"tab\" data-target=\"#conf-permissions\" type=\"button\" role=\"tab\" aria-controls=\"conf-permissions\" aria-selected=\"false\">Scenario Permissions</button>\n              </li>\n            </ul>\n            <div class=\"tab-content pt-3\" id=\"confTabContent\">\n              <div id=\"form-error\" class=\"text-danger mb-2\"></div>\n              <div class=\"tab-pane fade show active\" id=\"conf-environment\" role=\"tabpanel\" aria-labelledby=\"conf-environment-tab\">\n                <table class=\"table table-bordered\">\n                  <thead>\n                      <tr>\n                          <th>Name</th>\n                          <th>Description</th>\n                          <th>Value</th>\n                          <th>Actions</th>\n                      </tr>\n                  </thead>\n                  <tbody id=\"env-rows\">\n                      ${Object.keys(data)\n    .filter(\n      (envName) => !['READ', 'WRITE', 'EXECUTE']\n        .map(\n          (permType) => `MIRO_DEFAULT_SCEN_PERM_${permType}`,\n        )\n        .includes(envName),\n    )\n    .map((envName) => createRow(\n      escapeHtml(envName),\n      escapeHtml(data[envName].description ?? ''),\n      escapeHtml(data[envName].value),\n      false,\n    ))\n    .join('')}\n                      ${createRow('', '', '', true, true)}\n                  </tbody>\n                </table>\n              </div>\n              <div class=\"tab-pane fade\" id=\"conf-permissions\" role=\"tabpanel\" aria-labelledby=\"conf-permissions-tab\">\n                <table class=\"table table-bordered\">\n                  <thead>\n                      <tr>\n                          <th>Type</th>\n                          <th>Value</th>\n                      </tr>\n                  </thead>\n                  <tbody id=\"env-rows-perm\">\n                    ${['Read', 'Write', 'Execute'].reduce(\n    (\n      permSelectorHTML,\n      permType,\n    ) => `${permSelectorHTML}<tr id=\"scenPerm${permType}\">\n                          <td>Default ${permType} Permissions <i class=\"fas fa-info-circle\" rel=\"tooltip\" title=\"Default ${permType.toLowerCase()} permissions when saving scenario to database. Scenario owner is always added to this list.\"></i></td>\n                          <td>\n                            ${getAccessPermSelectorHtml(\n    `scenPerm${permType}Selector`,\n    scenPermAccessGroups,\n    getCurrentAccessPerm(\n      data[\n        `MIRO_DEFAULT_SCEN_PERM_${permType.toUpperCase()}`\n      ],\n    ),\n  )}\n                          </td>\n                        </tr>`,\n    '',\n  )}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>`;\n\n  bootbox.dialog({\n    title: 'Advanced Settings',\n    message: dialogContent,\n    size: 'large',\n    buttons: {\n      cancel: {\n        label: 'Cancel',\n        className: 'btn-secondary cancel-btn',\n      },\n      save: {\n        label: 'Save',\n        className: 'btn-secondary confirm-btn',\n        callback: () => {\n          let errorMessage = '';\n          let isValid = true;\n          const updatedData = {};\n          const seenEnvNames = new Set();\n\n          ['Read', 'Write', 'Execute'].forEach((permType) => {\n            const envValue = $(`#scenPerm${permType}Selector`).val().join(',');\n            if (envValue === '') {\n              return;\n            }\n            const envName = `MIRO_DEFAULT_SCEN_PERM_${permType.toUpperCase()}`;\n            seenEnvNames.add(envName);\n            updatedData[envName] = {\n              description: `Default ${permType} Permissions`,\n              value: envValue,\n            };\n          });\n\n          $('#env-rows tr').each(function () {\n            const envName = $(this).find('.env-name').val().trim();\n            const description = $(this).find('.env-description').val().trim();\n            const value = $(this).find('.env-value').val().trim();\n\n            if (envName) {\n              if (!/^[A-Z_][A-Z0-9_]*$/.test(envName)) {\n                $('#conf-environment-tab').tab('show');\n                $(this).find('.env-name').addClass('is-invalid');\n                errorMessage = 'Environment variable names must match the pattern ^[A-Z_][A-Z0-9_]*$.';\n                isValid = false;\n              } else if (seenEnvNames.has(envName)) {\n                $('#conf-environment-tab').tab('show');\n                $(this).find('.env-name').addClass('is-invalid');\n                isValid = false;\n              } else {\n                $(this).find('.env-name').removeClass('is-invalid');\n                seenEnvNames.add(envName);\n                updatedData[envName] = { description, value };\n              }\n            } else if (\n              (!$(this).find('.env-name').val()\n                && $(this).find('.env-description').val())\n              || $(this).find('.env-value').val()\n            ) {\n              $('#conf-environment-tab').tab('show');\n              $(this).find('.env-name').addClass('is-invalid');\n              isValid = false;\n            }\n          });\n\n          if (!isValid) {\n            $('#form-error').text(errorMessage);\n            return false;\n          }\n\n          $('#form-error').text('');\n          appEnvironment[appKey] = updatedData;\n          return true;\n        },\n      },\n    },\n  });\n  registerSelectizeInputs('#conf-permissions');\n\n  $('#conf-permissions [rel=tooltip]').tooltip({ placement: 'right' });\n\n  const tableBody = $('#env-rows');\n\n  tableBody.on('click', '.toggle-visibility', function () {\n    const input = $(this).closest('.input-group').find('.env-value');\n    const icon = $(this);\n    if (input.attr('type') === 'password') {\n      input.attr('type', 'text');\n      icon.removeClass('fa-eye').addClass('fa-eye-slash');\n    } else {\n      input.attr('type', 'password');\n      icon.removeClass('fa-eye-slash').addClass('fa-eye');\n    }\n  });\n  tableBody.on('click', '.remove-row', function () {\n    $(this).closest('tr').remove();\n  });\n  tableBody.on('input', '.env-name, .env-description, .env-value', () => {\n    const lastRow = tableBody.find('tr:last');\n    const isLastRowFilled = lastRow.find('.env-name').val()\n      || lastRow.find('.env-description').val()\n      || lastRow.find('.env-value').val();\n    if (isLastRowFilled && tableBody.find('tr').length < maxEnvVars + 1) {\n      tableBody.append(createRow('', '', '', true, false));\n    }\n  });\n}\n\nfunction refreshConfigList() {\n  currentAppId = null;\n  currentAppLogo = null;\n  const appsList = currentConfigList.reduce((html, configData, indexRaw) => {\n    const appNameSafe = escapeHtml(configData.alias);\n    const descSafe = escapeHtml(configData.desc);\n    const { id, isDirty } = configData;\n    const appIdSafe = escapeHtml(id);\n    const idEncoded = unicodeToHTMLID(id);\n    const index = indexRaw + 1;\n    appEnvironment[idEncoded] = configData.appEnv;\n    let groupOptions = configData.groups != null\n      ? configData.groups.reduce(\n        (optionsHTML, groupName) => `${optionsHTML}<option value=\"${escapeHtml(groupName)}\" selected>${escapeHtml(groupName.toLowerCase())}</option>`,\n        '',\n      )\n      : '';\n    if (currentGroupList.length > 0) {\n      let nonSelectedGroups = currentGroupList;\n      if (configData.groups != null) {\n        nonSelectedGroups = currentGroupList.filter(\n          (groupName) => !configData.groups.includes(groupName),\n        );\n      }\n      groupOptions += nonSelectedGroups.reduce(\n        (optionsHTML, groupName) => `${optionsHTML}<option value=\"${escapeHtml(groupName)}\">${escapeHtml(groupName.toLowerCase())}</option>`,\n        '',\n      );\n    }\n    const dirtyMarker = isDirty === true\n      ? '<span class=\"dirty-app-button app-corner-button\" title=\"The app is not registered on GAMS Engine. You will not be able to solve your model. Update app to fix this issue.\"><i class=\"fas fa-bolt\"></i></span>'\n      : '';\n    return `${html}<div class=\"col-xxl-3 col-lg-4 col-sm-6 col-12 miro-app-item\" data-id=\"${idEncoded}\">\n        <div id=\"appBox_${idEncoded}\" class=\"app-box app-box-draggable launch-app-box app-box-fixed-height\" data-id=\"${idEncoded}\" data-index=\"${index}\" draggable=\"true\">\n          <div id=\"appSpinner_${idEncoded}\" class=\"app-spinner\">\n            <div class=\"progress\" style=\"position:relative;top:50%;margin-left:auto;margin-right:auto;width:90%\">\n              <div id=\"appProgress_${idEncoded}\" class=\"progress-bar\" role=\"progressbar\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n            </div>\n          </div>\n          <div class=\"input-group app-data-file-input\">\n            <label for=\"appFiles_${idEncoded}\" style=\"width:100%;height:100%;\">\n              <div class=\"drag-drop-area-text empty\">\n              </div>\n            </label>\n            <input class=\"input-btn app-data-file-input-el\" style=\"margin-top:1rem;\" type=\"file\"\n              name=\"appFiles_${idEncoded}\" id=\"appFiles_${idEncoded}\" data-restore=\"\" multiple=\"multiple\" accept=\".miroapp,${supportedDataFileTypes.map((el) => `.${el}`).join(',')}\">\n          </div>\n          <div id=\"appFiles_${idEncoded}_progress\" class=\"progress active shiny-file-input-progress\">\n            <div class=\"progress-bar\"></div>\n          </div>\n          <div>\n            <div style=\"height:200px;\">\n              <div id=\"appLogo_${idEncoded}\" class=\"app-logo\" style=\"background-image:url(${configData.logob64});\" data-id=\"${idEncoded}\">\n              </div>\n            </div>\n            <div>\n            <div>\n              <h3 title=\"${appNameSafe}\" id=\"staticAppTitle_${index}\" class=\"app-title app-title-fixed app-item-title\" style=\"margin-top:15pt;width:100%;\">${appNameSafe}</h3>\n              <input id=\"appTitle_${index}\" value=\"${appNameSafe}\" required=\"required\" type=\"text\" name=\"alias\" class=\"app-title editable h3-style\" style=\"margin-top:15pt;width:100%;display:none;\" placeholder=\"${appNamePlaceholder}\">\n              <p title=\"${descSafe}\" id=\"staticAppDesc_${index}\" class=\"app-desc app-desc-fixed app-item-desc\">${descSafe}</p>\n              <textarea id=\"appDesc_${index}\" rows=\"3\" name=\"desc\" class=\"app-desc editable\" style=\"margin-bottom:1rem;width:100%;display:none;\" placeholder=\"${appDescPlaceholder}\">${descSafe}</textarea>\n              <div id=\"appGroupsWrapper_${index}\" style=\"display:none;\">\n                <label for=\"appGroups_${index}\">${appGroupsPlaceholder}</label>\n                <select id=\"appGroups_${index}\" multiple>${groupOptions}</select>\n                <div style=\"height:1rem\"></div>\n              </div>\n              <button id=\"appEnv_${index}\" data-id=\"${idEncoded}\" class=\"btn btn-secondary open-config-btn\" style=\"display:none;\" type=\"button\">Advanced Settings</button>\n              <div class=\"app-id-field\" title=\"${appIdSafe}\">\n                <small>ID: <i>${appIdSafe}</i></small>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div style=\"text-align:right;display:none;\" class=\"edit-bt-group\">\n            <input data-index=\"${index}\" data-id=\"${idEncoded}\" class=\"btn btn-secondary cancel-btn\" value=\"Cancel\" type=\"reset\">\n            <button class=\"btn btn-secondary confirm-btn btn-save-changes\" data-id=\"${idEncoded}\" data-index=\"${index}\" type=\"button\">Save</button>\n        </div>\n        ${dirtyMarker}\n        <a class=\"delete-app-button app-corner-button\" data-index=\"${index}\" data-id=\"${idEncoded}\"><i class=\"fas fa-xmark\"></i></a>\n      </div>\n    </div>`;\n  }, '');\n  Shiny.unbindAll(document.getElementById('appsWrapper'));\n  $appsWrapper.html(\n    `${appsList}<div id=\"addAppWrapper\" class=\"col-xxl-3 col-lg-4 col-sm-6 col-12\">${addAppWrapperHTML}</div>`,\n  );\n  registerSelectizeInputs();\n  exitOverlayMode();\n  Shiny.bindAll(document.getElementById('appsWrapper'));\n}\n\nfunction expandAddAppForm() {\n  currentAppId = -1;\n  if ($('#expandedAddAppWrapper').is(':visible')) {\n    return;\n  }\n  const groupOptions = currentGroupList.reduce(\n    (optionsHTML, groupName) => `${optionsHTML}<option value=\"${escapeHtml(groupName)}\">${escapeHtml(groupName.toLowerCase())}</option>`,\n    '',\n  );\n\n  $('#addAppWrapper').css('z-index', 11);\n  $overlay.data('current', $('#addAppWrapper')).fadeIn(300);\n  $('#addAppWrapper').html(`<div class=\"app-box\" id=\"expandedAddAppWrapper\">\n                        <div id=\"addAppSpinner\" class=\"app-spinner\">\n                          <div class=\"progress\" style=\"position:relative;top:50%;margin-left:auto;margin-right:auto;width:90%\">\n                            <div id=\"addAppProgress\" class=\"progress-bar\" role=\"progressbar\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n                          </div>\n                        </div>\n                        <div style=\"height:200px;\">\n                           <div class=\"drag-drop-area app-window input-group\" id=\"newAppFiles\">\n                              <label for=\"miroAppFile\" style=\"width:100%;height:100%;\">\n                                <div class=\"drag-drop-area-text empty\">\n                                <div><i class=\"fas fa-circle-plus drag-drop-area-icon\"></i></div>\n                                   ${appFilesPlaceholder}\n                                </div>\n                              </label>\n                              <input class=\"input-btn\" style=\"margin-top:1rem;\" type=\"file\" name=\"miroAppFile\" id=\"miroAppFile\" data-restore=\"\">\n                           </div>\n                           <div class=\"drag-drop-area add-app-logo app-logo input-group\" id=\"newAppLogo\" style=\"display:none; outline:none;\">\n                              <label for=\"miroAppLogo\" style=\"width:100%;height:100%;\">\n                                <div class=\"drag-drop-area-text not-empty\">\n                                ${appLogoPlaceholder}\n                                </div>\n                              </label>\n                              <input class=\"input-btn input-app-logo\" style=\"margin-top:1rem;\" type=\"file\" name=\"miroAppLogo\" id=\"miroAppLogo\" data-restore=\"\">\n                           </div>\n                           <div id=\"miroAppFile_progress\" class=\"progress active shiny-file-input-progress\">\n                                <div class=\"progress-bar\"></div>\n                           </div>\n                           <div id=\"miroAppLogo_progress\" class=\"progress active shiny-file-input-progress\" style=\"display:none;\">\n                                <div class=\"progress-bar\"></div>\n                           </div>\n                        </div>\n                        <div>\n                        <input id=\"newAppName\" type=\"text\" required=\"required\" name=\"alias\" class=\"app-title editable h3-style\" style=\"margin-top:15pt;width:100%;\" placeholder=\"${appNamePlaceholder}\">\n                        <textarea id=\"newAppDesc\" rows=\"3\" name=\"desc\" class=\"app-desc editable\" style=\"margin-bottom: 1rem;width: 100%;\" placeholder=\"${appDescPlaceholder}\"></textarea>\n                        <div>\n                          <label for=\"newAppGroups\">${appGroupsPlaceholder}</label>\n                          <select id=\"newAppGroups\" style=\"margin-bottom: 1rem;width: 100%;\" multiple>${groupOptions}</select>\n                        </div>\n                        <button id=\"newAppEnv\" class=\"btn btn-secondary open-config-btn\" type=\"button\">Advanced Settings</button>\n                        <div style=\"height:1rem\"></div>\n                        </div>\n                        <div style = \"text-align:right;\">\n                            <input class=\"btn btn-secondary cancel-btn\" id=\"btAddAppReset\" value=\"Cancel\" type=\"reset\">\n                            <button class=\"btn btn-secondary confirm-btn\" id=\"btAddApp\" type=\"button\" disabled>Add app</button>\n                        </div>`);\n  Shiny.bindAll(document.getElementById('addAppWrapper'));\n  registerSelectizeInputs();\n}\n\n$appsWrapper.on('click', '#addAppBox', () => {\n  expandAddAppForm();\n});\n$appsWrapper.on('click', '.cancel-btn', () => {\n  refreshConfigList();\n});\n\nlet dragAddAppCounter = 0;\nlet openAddAppCounter = 0;\nlet dragTimerAddAppBox = null;\n$appsWrapper.on('drop', '.app-logo', (e) => {\n  if (reorderAppsMode) {\n    return;\n  }\n  e.preventDefault();\n  e.stopPropagation();\n  dragAddAppCounter = 0;\n  $('.btn-save-changes').attr('disabled', true);\n  $('#btAddApp').attr('disabled', true);\n});\n$appsWrapper.on('dragenter', '#addAppBox', (e) => {\n  e.preventDefault();\n  e.stopPropagation();\n  openAddAppCounter += 1;\n  if (dragTimerAddAppBox == null) {\n    dragTimerAddAppBox = setTimeout(() => {\n      openAddAppCounter = 0;\n      dragTimerAddAppBox = null;\n      expandAddAppForm();\n    }, 700);\n  }\n});\n$appsWrapper.on('dragleave', '#addAppBox', (e) => {\n  e.preventDefault();\n  e.stopPropagation();\n  openAddAppCounter -= 1;\n  if (openAddAppCounter === 0) {\n    clearTimeout(dragTimerAddAppBox);\n    dragTimerAddAppBox = null;\n  }\n});\n$appsWrapper.on('dragover', '#addAppBox', (e) => {\n  e.preventDefault();\n  e.stopPropagation();\n});\n$appsWrapper.on('change', '.input-app-logo', () => {\n  $('.btn-save-changes').attr('disabled', true);\n  $('#btAddApp').attr('disabled', true);\n});\n$(document).on('dragover', '.drag-drop-area', (e) => {\n  e.preventDefault();\n  e.stopPropagation();\n});\n$(document).on('dragenter', '.drag-drop-area', function (e) {\n  if (reorderAppsMode) {\n    return;\n  }\n  e.preventDefault();\n  e.stopPropagation();\n  dragAddAppCounter += 1;\n  $(this).addClass('drag-drop-area-dragover');\n});\n$(document).on('dragleave', '.drag-drop-area', function (e) {\n  if (reorderAppsMode) {\n    return;\n  }\n  e.preventDefault();\n  e.stopPropagation();\n  dragAddAppCounter -= 1;\n  if (dragAddAppCounter === 0) {\n    $(this).removeClass('drag-drop-area-dragover');\n  }\n});\n$appsWrapper.on('drop', '#newAppFiles', function (e) {\n  if (reorderAppsMode) {\n    return;\n  }\n  e.preventDefault();\n  e.stopPropagation();\n  dragAddAppCounter = 0;\n  $(this).removeClass('drag-drop-area-dragover');\n});\n\n$appsWrapper.on('dragstart', '.app-box-draggable', (e) => {\n  reorderAppsMode = true;\n  if (!reorderAppsMode) {\n    return;\n  }\n  e.originalEvent.dataTransfer.setData(\n    'text/plain',\n    e.originalEvent.target.id,\n  );\n  e.originalEvent.target.style.opacity = 0.5;\n});\n$appsWrapper.on('dragenter', '.app-box-draggable', function (e) {\n  e.preventDefault();\n  e.stopPropagation();\n  dragAddAppCounter += 1;\n  $(this).addClass('drag-drop-area-dragover');\n});\n$appsWrapper.on('dragover', '.app-box-draggable', (e) => {\n  e.preventDefault();\n  e.stopPropagation();\n});\n$appsWrapper.on('dragleave', '.app-box-draggable', function (e) {\n  e.preventDefault();\n  e.stopPropagation();\n  dragAddAppCounter -= 1;\n  if (dragAddAppCounter === 0) {\n    $(this).removeClass('drag-drop-area-dragover');\n  }\n});\n$appsWrapper.on('dragend', '.app-box-draggable', (e) => {\n  e.preventDefault();\n  e.stopPropagation();\n  reorderAppsMode = false;\n  e.originalEvent.dataTransfer.clearData();\n  $('.app-box-draggable')\n    .removeClass('drag-drop-area-dragover')\n    .css('opacity', '');\n});\n\nfunction sendUpdateAppShinyEvent(appId, fileTypes) {\n  if (\n    overwriteAppData[appId] == null\n    || uploadAppDataFinished[appId] == null\n  ) {\n    return;\n  }\n  const appIDEncoded = unicodeToHTMLID(appId);\n  const overwriteData = overwriteAppData[appId];\n  overwriteAppData[appId] = null;\n  uploadAppDataFinished[appId] = null;\n  const spinnerId = `#appSpinner_${appIDEncoded}`;\n  const progressId = `#appProgress_${appIDEncoded}`;\n  const fileInputId = `appFiles_${appIDEncoded}`;\n  $('#overlayScreen').show();\n  $(spinnerId).show();\n  $(`#appFiles_${appIDEncoded}_progress`).css('visibility', '');\n  if (fileTypes.length === 1 && fileTypes[0] === 'miroapp') {\n    Shiny.setInputValue(\n      'updateAppRequest',\n      {\n        id: appId,\n        overwrite: overwriteData,\n        progressSelector: progressId,\n        spinnerSelector: spinnerId,\n        fileInputId,\n      },\n      {\n        priority: 'event',\n      },\n    );\n    return;\n  }\n  const invalidFileTypes = fileTypes.filter(\n    (fileType) => !supportedDataFileTypes.includes(fileType),\n  );\n  if (invalidFileTypes.length === 0) {\n    Shiny.setInputValue(\n      'updateAppDataRequest',\n      {\n        id: appId,\n        overwrite: overwriteData,\n        progressSelector: progressId,\n        spinnerSelector: spinnerId,\n        fileInputId,\n      },\n      {\n        priority: 'event',\n      },\n    );\n    return;\n  }\n  $(spinnerId).hide();\n}\nconst showOverwriteDialog = (\n  appId,\n  sendUpdateEvent = true,\n  fileTypes = [],\n  newAppId = appId,\n  showAdvancedSettingsDialog = false,\n) => bootbox.prompt({\n  title: 'Overwrite data',\n  message: `Do you want to overwrite existing scenario data? Please type <b>${escapeHtml(newAppId)}</b> to confirm or choose 'Cancel' to keep the existing data.`,\n  centerVertical: true,\n  onEscape: false,\n  callback: (result) => {\n    if (result != null && result !== newAppId) {\n      return false;\n    }\n    overwriteAppData[appId] = result != null;\n    if (sendUpdateEvent) {\n      sendUpdateAppShinyEvent(appId, fileTypes);\n    }\n    if (showAdvancedSettingsDialog) {\n      openAdvancedSettingsDialog();\n    }\n    return true;\n  },\n});\n\n$(document).on('shiny:inputchanged', (event) => {\n  const eventName = event.name;\n  if (\n    eventName.startsWith('appFiles_')\n    && event.value != null\n    && event.value.length > 0\n  ) {\n    const appId = HTMLIDToUnicode(eventName.substring(9));\n    const fileTypes = event.value.map((fileTmp) => fileTmp.name.split('.').pop().toLowerCase());\n    uploadAppDataFinished[appId] = true;\n    setTimeout(() => sendUpdateAppShinyEvent(appId, fileTypes), 800);\n  }\n});\n$appsWrapper.on('drop', '.app-box-draggable', function (e) {\n  e.preventDefault();\n  let filesDropped = false;\n  if (!reorderAppsMode) {\n    if (!e.originalEvent.dataTransfer.files) {\n      return;\n    }\n    filesDropped = true;\n  }\n  reorderAppsMode = false;\n  dragAddAppCounter = 0;\n  $('.app-box-draggable')\n    .removeClass('drag-drop-area-dragover')\n    .css('opacity', '');\n\n  const idToRaw = $(this).attr('id');\n  const idTo = HTMLIDToUnicode(idToRaw.slice(7));\n  if (filesDropped) {\n    const filesTmp = [...e.originalEvent.dataTransfer.files];\n    const fileTypes = filesTmp.map((fileTmp) => fileTmp.name.split('.').pop().toLowerCase());\n    if (fileTypes.length === 1 && fileTypes[0] === 'miroapp') {\n      showOverwriteDialog(idTo, true, fileTypes);\n      return;\n    }\n    if (fileTypes.length > 10) {\n      bootbox.alert({\n        title: 'Too many files',\n        message: 'Only up to 10 files can be added at once.',\n        centerVertical: true,\n      });\n      $(`#appFiles_${unicodeToHTMLID(idTo)}_progress`).css('visibility', '');\n      return;\n    }\n    const invalidFileTypes = fileTypes.filter(\n      (fileType) => !supportedDataFileTypes.includes(fileType),\n    );\n    if (invalidFileTypes.length === 0) {\n      showOverwriteDialog(idTo, true, fileTypes);\n      return;\n    }\n    bootbox.alert({\n      title: 'Invalid file',\n      message: `The file you dropped (${escapeHtml(invalidFileTypes.join(','))}) is not supported. Please drop either a new MIRO app (.miroapp) to update the current version or a valid data file (${escapeHtml(supportedDataFileTypes.join(','))}).`,\n      centerVertical: true,\n    });\n    $(`#appFiles_${unicodeToHTMLID(idTo)}_progress`).css('visibility', '');\n    return;\n  }\n\n  const idFromRaw = e.originalEvent.dataTransfer.getData('text/plain');\n  const idFrom = HTMLIDToUnicode(idFromRaw.slice(7));\n  if (idFrom !== idTo) {\n    sendUpdateAppOrderRequest(idFrom, idTo, idFromRaw, idToRaw);\n  }\n});\n\n$appsWrapper.on('click', '.app-box', function (e) {\n  e.preventDefault();\n  e.stopPropagation();\n  const $this = $(this);\n  $this.children('.app-data-file-input').hide();\n  const $target = $(e.target);\n  if (\n    $overlay.is(':visible')\n    || $target.hasClass('cancel-btn')\n    || $target.hasClass('delete-app-button')\n    || $target.parents('.delete-app-button').length\n  ) {\n    return;\n  }\n  const appIDEncoded = this.dataset.id;\n  const appID = HTMLIDToUnicode(appIDEncoded);\n  const appIndex = this.dataset.index;\n  if (appIndex) {\n    $(`#appBox_${appIDEncoded}`).removeClass('app-box-fixed-height');\n    $(`#appLogo_${appIDEncoded}`)\n      .html(\n        `<label for=\"updateMiroAppLogo\" style=\"width:100%;height:100%;\">\n                  <div class=\"drag-drop-area-text not-empty\">\n                  ${appLogoPlaceholder}\n                  </div>\n                </label>\n                <input class=\"input-btn input-app-logo\" style=\"margin-top:1rem;\" type=\"file\" name=\"updateMiroAppLogo\" id=\"updateMiroAppLogo\" data-restore=\"\">`,\n      )\n      .addClass('drag-drop-area input-group')\n      .after(`<div id=\"updateMiroAppLogo_progress\" class=\"progress active shiny-file-input-progress\">\n                  <div class=\"progress-bar\"></div>\n                </div>`);\n    $(`#appTitle_${appIndex}`).show();\n    $(`#staticAppTitle_${appIndex}`).hide();\n    $(`#appBox_${appIDEncoded} .app-id-field`).hide();\n    $(`#appDesc_${appIndex}`).show();\n    $(`#appEnv_${appIndex}`).show();\n    $(`#staticAppDesc_${appIndex}`).hide();\n    $(`#appGroupsWrapper_${appIndex}`).show();\n    Shiny.bindAll(document.getElementById(`appBox_${appIDEncoded}`));\n  }\n  $(`#appBox_${appIDEncoded} .edit-bt-group`).slideDown(200);\n  $this.css('z-index', 11);\n  currentAppId = appID;\n  $overlay.data('current', $this).fadeIn(300);\n});\n\n$appsWrapper.on('click', '.btn-save-changes', function () {\n  const appIndex = this.dataset.index;\n  const appID = HTMLIDToUnicode(this.dataset.id);\n  if (!appIndex || !appID) {\n    bootbox.alert({\n      title: 'Unexpected error',\n      message:\n        'Ooops. Something went wrong. Please contact GAMS if this error persists!',\n      centerVertical: true,\n    });\n    return;\n  }\n  sendUpdateRequest(appIndex, appID);\n});\n\n$appsWrapper.on('click', '.delete-app-button', function () {\n  const appIndex = this.dataset.index;\n  const appId = HTMLIDToUnicode(this.dataset.id);\n  bootbox.confirm({\n    message:\n      'Are you sure you want to remove this app? This cannot be undone.',\n    centerVertical: true,\n    onEscape: false,\n    callback: (removeAppConfirmed) => {\n      if (!removeAppConfirmed) {\n        return;\n      }\n      bootbox.prompt({\n        required: true,\n        title: 'Remove data',\n        message: `Do you want to permanently remove all data belonging to this app? Please type <b>${escapeHtml(appId)}</b> to confirm or press 'Cancel' to keep the data.`,\n        centerVertical: true,\n        onEscape: false,\n        callback: (result) => {\n          if (result === null) {\n            sendRemoveRequest(appIndex, false);\n            return true;\n          }\n          if (result !== appId) {\n            return false;\n          }\n          sendRemoveRequest(appIndex, true);\n          return true;\n        },\n      });\n    },\n  });\n});\n$appsWrapper.on('change', '#newAppName', () => {\n  const newAppName = document.getElementById('newAppName').value;\n\n  if (newAppName != null && newAppName.trim() !== '') {\n    document.getElementById('btAddApp').disabled = false;\n  } else {\n    document.getElementById('btAddApp').disabled = true;\n  }\n});\n$appsWrapper.on('click', '#btAddApp', sendAddRequest);\n$appsWrapper.on('click', '.open-config-btn', openAdvancedSettingsDialog);\n// Login form\nfunction openLoginForm() {\n  $('#loginFormWrapper').show();\n  $('#loginLoadingIndicator').hide();\n  $('#loginError').hide();\n  $('#loginModal').modal().trigger('focus');\n}\n$('body').on('click', '#btLogin', () => {\n  $('#loginFormWrapper').hide();\n  $('#loginError').hide();\n  $('#loginLoadingIndicator').show();\n  Shiny.setInputValue(\n    'loginRequest',\n    {\n      user: document.getElementById('loginUser').value,\n      password: document.getElementById('loginPassword').value,\n    },\n    {\n      priority: 'event',\n    },\n  );\n});\n\n$(() => {\n  registerSelectizeInputs();\n  if ($('.select-app-groups').length > 0) {\n    currentGroupList = [];\n    $('.select-app-groups')\n      .first()\n      .children('option')\n      .each(function () {\n        currentGroupList.push($(this).val());\n      });\n  }\n  $(document).on('keyup', (event) => {\n    if (event.key === 'Enter' && !event.ctrlKey) {\n      if (\n        $('#shiny-modal').find('.selectize-input.input-active').length > 0\n        || $('#shiny-modal').find('*[data-dismiss=\"modal\"]').is(':focus')\n      ) {\n        return;\n      }\n      $('.bt-gms-confirm:visible:enabled').trigger('click');\n    } // ENTER will confirm modal dialogues\n  });\n  Shiny.addCustomMessageHandler('onInit', (data) => {\n    currentConfigList = data.configList;\n    if (Array.isArray(data.groupList)) {\n      currentGroupList = data.groupList;\n    }\n    if (data.loginRequired === true) {\n      openLoginForm();\n    }\n    $overlay.hide();\n    refreshConfigList();\n  });\n  Shiny.addCustomMessageHandler('onInitUserGroups', (data) => {\n    scenPermAccessGroups = data;\n  });\n  Shiny.addCustomMessageHandler('onInitErrors', (data) => {\n    let errorMessage = '';\n    if (data.appsNotOnEngine) {\n      errorMessage += `Some apps registered on MIRO Server were not found on GAMS Engine: '${data.appsNotOnEngine.join(\"', '\")}'.\\n`;\n      currentConfigList = data.configList;\n      refreshConfigList();\n    }\n    if (data.appsNotOnMIRO) {\n      errorMessage += `Some models registered on GAMS Engine are not found on MIRO Server: '${data.appsNotOnMIRO.join(\"', '\")}'.\\n`;\n    }\n    if (errorMessage) {\n      bootbox.alert({\n        title: 'Discrepancy with GAMS Engine',\n        message: escapeHtml(errorMessage),\n        centerVertical: true,\n      });\n    }\n  });\n  // eslint-disable-next-line no-unused-vars\n  Shiny.addCustomMessageHandler('onLoginRequired', (e) => {\n    $loadingScreen.fadeOut(200);\n    openLoginForm();\n  });\n  // eslint-disable-next-line no-unused-vars\n  Shiny.addCustomMessageHandler('onLoginSuccessful', (e) => {\n    $('#loginModal').modal('hide');\n  });\n  Shiny.addCustomMessageHandler('onSuccess', (data) => {\n    $loadingScreen.fadeOut(200);\n    if (data.requestType === 'addApp') {\n      $('#addAppSpinner').hide();\n      $('#addAppProgress').css('width', '0%').attr('aria-valuenow', '0');\n      $('#btAddApp').attr('disabled', false);\n    } else if (data.requestType === 'updateApp') {\n      $(data.spinnerSelector).hide();\n      $('#overlayScreen').hide();\n      $(data.progressSelector).css('width', '0%').attr('aria-valuenow', '0');\n      return;\n    } else if (data.requestType === 'migrateDb') {\n      $('#loadingScreenProgressWrapper').hide();\n      $('#loadingScreenProgress')\n        .css('width', '0%')\n        .attr('aria-valuenow', '0');\n      return;\n    }\n    if (Array.isArray(data.configList)) {\n      currentConfigList = data.configList;\n      if (Array.isArray(data.groupList)) {\n        currentGroupList = data.groupList;\n      }\n      refreshConfigList();\n    } else {\n      bootbox.alert({\n        message: escapeHtml(data.message),\n        centerVertical: true,\n      });\n    }\n  });\n  // eslint-disable-next-line no-unused-vars\n  Shiny.addCustomMessageHandler('onHideAddAppProgress', (e) => {\n    $('#addAppSpinner').hide();\n    $('#addAppProgress').css('width', '0%').attr('aria-valuenow', '0');\n    $('#btAddApp').attr('disabled', false);\n  });\n  Shiny.addCustomMessageHandler('onProgress', (data) => {\n    let selector;\n    if (data.selector == null) {\n      selector = '#loadingScreenProgress';\n      $('#loadingScreenProgressWrapper').show();\n    } else {\n      selector = data.selector;\n    }\n    if (data.progress === -1) {\n      $(selector).css('width', '0%').attr('aria-valuenow', '0');\n      if (selector === '#addAppProgress') {\n        $('#addAppSpinner').hide();\n      } else if (data.selector == null) {\n        $('#loadingScreenProgressWrapper').hide();\n      }\n    } else {\n      $(selector)\n        .css('width', `${data.progress}%`)\n        .attr('aria-valuenow', data.progress);\n    }\n  });\n  Shiny.addCustomMessageHandler('onAddAppLogo', (data) => {\n    if (!currentAppId) {\n      $('.btn-save-changes').attr('disabled', false);\n      return;\n    }\n    if (currentAppId === -1) {\n      // new App\n      $('#btAddApp').attr('disabled', false);\n      $('#newAppLogo').css('background-image', `url(\"${data.logoB64}\")`);\n      return;\n    }\n    $('.btn-save-changes').attr('disabled', false);\n    currentAppLogo = data.logoB64;\n    $(`#appLogo_${unicodeToHTMLID(currentAppId)}`).css(\n      'background-image',\n      `url(\"${currentAppLogo}\")`,\n    );\n  });\n  Shiny.addCustomMessageHandler('onNewAppValidated', (data) => {\n    const newAppTitle = document.getElementById('newAppName').value;\n    if (newAppTitle == null || newAppTitle.trim() === '') {\n      document.getElementById('newAppName').value = data.appTitle;\n    }\n    if (data.appDesc) {\n      const newAppDesc = document.getElementById('newAppDesc').value;\n      if (newAppDesc == null || newAppDesc.trim() === '') {\n        document.getElementById('newAppDesc').value = data.appDesc;\n      }\n    }\n    appEnvironment['~$_newApp'] = data.appEnv ?? {};\n    if (data.dataExists !== true) {\n      overwriteAppData['~$_newApp'] = true;\n      if (Object.keys(appEnvironment['~$_newApp']).length > 0) {\n        openAdvancedSettingsDialog();\n      }\n    } else {\n      showOverwriteDialog(\n        '~$_newApp',\n        false,\n        [],\n        data.appId,\n        Object.keys(data.eppEnv).length > 0,\n      );\n    }\n    $('#newAppFiles').hide();\n    $('#miroAppFile_progress').hide();\n    $('#newAppLogo').show();\n    $('#miroAppLogo_progress').show();\n    $('#newAppLogo').css('background-image', `url(\"${data.logoB64}\")`);\n    $('#btAddApp').attr('disabled', false);\n  });\n  Shiny.addCustomMessageHandler('onError', (e) => {\n    $loadingScreen.fadeOut(200);\n    if (e.requestType === 'addApp') {\n      $('#addAppSpinner').hide();\n      $('#addAppProgress').css('width', '0%').attr('aria-valuenow', '0');\n      $('#btAddApp').attr('disabled', true);\n    } else if (e.requestType === 'loginRequest') {\n      $('#loginFormWrapper').show();\n      $('#loginLoadingIndicator').hide();\n      $('#loginError').show();\n      return;\n    } else if (e.requestType === 'updateApp') {\n      $(e.spinnerSelector).hide();\n      $('#overlayScreen').hide();\n      $(e.progressSelector).css('width', '0%').attr('aria-valuenow', '0');\n    } else if (e.requestType === 'migrateDb') {\n      $('#loadingScreenProgressWrapper').hide();\n      $('#loadingScreenProgress')\n        .css('width', '0%')\n        .attr('aria-valuenow', '0');\n      $('#migrationFormErrors').show();\n      return;\n    } else if (e.requestType === 'updateLogoAddApp') {\n      $('#btAddApp').attr('disabled', false);\n    } else if (e.requestType === 'updateLogo') {\n      $('.btn-save-changes').attr('disabled', false);\n    }\n    if (e.message != null) {\n      bootbox.alert({\n        title: 'Error',\n        message: escapeHtml(e.message),\n        centerVertical: true,\n      });\n    }\n  });\n  Shiny.addCustomMessageHandler('gms-showEl', (id) => {\n    $(id).show();\n    $(id).trigger('shown');\n  });\n  Shiny.addCustomMessageHandler('gms-hideEl', (id) => {\n    $(id).hide();\n    $(id).trigger('hidden');\n  });\n  Shiny.addCustomMessageHandler('gms-enableEl', (id) => {\n    $(id).prop('disabled', false);\n  });\n  Shiny.addCustomMessageHandler('gms-disableEl', (id) => {\n    $(id).prop('disabled', true);\n  });\n  Shiny.addCustomMessageHandler('gms-showHideEl', (data) => {\n    if (data.msg !== null) {\n      $(data.id).text(data.msg);\n    }\n    $(data.id).show().delay(data.delay).fadeOut();\n  });\n  Shiny.addCustomMessageHandler('gms-showElReplaceTxt', (data) => {\n    $(data.id).text(data.txt).show();\n  });\n});\n"],"names":["root","factory","init","$","undefined","exports","VERSION","locales","OK","CANCEL","CONFIRM","templates","dialog","header","footer","closeButton","form","button","option","promptMessage","inputs","text","textarea","email","select","checkbox","radio","date","time","number","password","range","defaults","locale","backdrop","animate","className","show","container","value","inputType","errorMessage","swapButtonOrder","centerVertical","multiple","scrollable","reusable","relatedTarget","size","id","mapArguments","args","properties","argsLength","length","options","Error","mergeArguments","extend","mergeDialogOptions","labels","reverse","validateButtons","buttons","createLabels","allowedButtons","each","key","join","i","j","argument","toLowerCase","toUpperCase","label","getText","en","sanitize","total","message","getKeyLength","index","isFunction","callback","type","isPrimary","obj","Object","keys","collection","iterator","focusPrimaryButton","e","data","find","first","trigger","destroyModal","target","remove","unbindModal","off","processCallback","stopPropagation","preventDefault","call","modal","minAndMaxAreValid","min","max","result","minValid","maxValid","dateIsValid","console","warn","timeIsValid","isNaN","test","name","addLocale","values","_","v","removeLocale","setLocale","setDefaults","arguments","hideAll","_$","fn","Constructor","fullBootstrapVersion","indexOf","bootstrap","substring","innerDialog","body","callbacks","onEscape","html","b","addClass","attr","disabled","prop","append","after","title","prepend","before","one","onHide","on","onHidden","onShow","onShown","startedOnBody","currentTarget","callbackKey","this","which","keyboard","alert","ok","confirm","cancel","prompt","promptDialog","input","shouldShow","inputOptions","map","val","get","el","setCustomValidity","checkValidity","reportValidity","placeholder","pattern","maxlength","required","rows","parseInt","step","parseFloat","groups","isArray","elem","group","o","removeClass","checkboxValues","checkFirstRadio","trim","focus","module","jQuery","isCallable","tryToString","$TypeError","TypeError","isObject","$String","String","toIndexedObject","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","fromIndex","O","includes","uncurryThis","slice","toString","stringSlice","it","hasOwn","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","source","exceptions","defineProperty","f","getOwnPropertyDescriptor","DESCRIPTORS","createPropertyDescriptor","object","bitmap","enumerable","configurable","writable","makeBuiltIn","descriptor","getter","set","setter","defineGlobalProperty","simple","global","unsafe","error","nonConfigurable","nonWritable","fails","document","EXISTS","createElement","Bun","version","userAgent","classof","process","navigator","match","Deno","versions","v8","split","createNonEnumerableProperty","defineBuiltIn","copyConstructorProperties","isForced","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","prototype","dontCallGetSet","forced","sham","exec","NATIVE_BIND","FunctionPrototype","Function","apply","Reflect","bind","aCallable","that","hasOwnProperty","getDescriptor","PROPER","CONFIGURABLE","classofRaw","uncurryThisWithBind","namespace","method","isNullOrUndefined","V","P","func","check","Math","globalThis","window","self","g","toObject","getBuiltIn","a","$Object","propertyIsEnumerable","store","functionToString","inspectSource","has","NATIVE_WEAK_MAP","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","state","metadata","facade","STATE","enforce","getterFor","TYPE","documentAll","all","replacement","feature","detection","normalize","POLYFILL","NATIVE","string","replace","isPrototypeOf","USE_SYMBOL_AS_UID","$Symbol","toLength","CONFIGURABLE_FUNCTION_NAME","InternalStateModule","enforceInternalState","getInternalState","CONFIGURABLE_LENGTH","TEMPLATE","arity","constructor","ceil","floor","trunc","x","n","IE8_DOM_DEFINE","V8_PROTOTYPE_DEFINE_BUG","anObject","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","Attributes","current","propertyIsEnumerableModule","internalObjectKeys","concat","getOwnPropertyNames","getOwnPropertySymbols","push","names","$propertyIsEnumerable","NASHORN_BUG","pref","valueOf","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","hasIndices","ignoreCase","multiline","dotAll","unicode","unicodeSets","sticky","ENGINE_IS_BUN","USER_AGENT","arraySlice","validateArgumentsLength","WRAP","scheduler","hasTimeArg","firstParamIndex","handler","timeout","boundArgs","params","uid","IS_PURE","SHARED","mode","copyright","license","V8_VERSION","symbol","Symbol","$location","defer","channel","port","IS_IOS","IS_NODE","setImmediate","clear","clearImmediate","Dispatch","MessageChannel","counter","queue","ONREADYSTATECHANGE","location","run","runner","eventListener","event","globalPostMessageDefer","postMessage","protocol","host","nextTick","now","port2","port1","onmessage","addEventListener","importScripts","appendChild","removeChild","setTimeout","toIntegerOrInfinity","integer","IndexedObject","requireObjectCoercible","len","isSymbol","getMethod","ordinaryToPrimitive","wellKnownSymbol","TO_PRIMITIVE","exoticToPrim","toPrimitive","postfix","random","NATIVE_SYMBOL","passed","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","defineBuiltInAccessor","regExpFlags","RegExp","RegExpPrototype","INDICES_SUPPORT","calls","expected","addGetter","chr","pairs","setTask","schedulersFix","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","__esModule","d","definition","unicodeToHTMLID","str","btoa","encodeURIComponent","HTMLIDToUnicode","unicodeTmp","decodeURIComponent","atob","escapeHtml","$overlay","$loadingScreen","$appsWrapper","appNamePlaceholder","appDescPlaceholder","appGroupsPlaceholder","appLogoPlaceholder","overwriteAppData","uploadAppDataFinished","appEnvironment","scenPermAccessGroups","reorderAppsMode","currentConfigList","currentGroupList","currentAppId","currentAppLogo","addAppWrapperHTML","supportedDataFileTypes","sendRemoveRequest","removeData","fadeIn","Shiny","setInputValue","priority","indirectEval","eval","registerSelectizeInputs","selector","selectizeSelector","$el","config","parent","persist","labelField","valueField","searchField","JSON","parse","Array","selectize","openAdvancedSettingsDialog","appKey","createRow","envName","description","isEditable","isFirst","Date","dialogContent","filter","permType","reduce","permSelectorHTML","choices","accessPerm","selected","stringify","groupName","isGroup","sort","i1","i2","localeCompare","users","userName","getAccessPermSelectorHtml","bootbox","save","isValid","updatedData","seenEnvNames","Set","forEach","envValue","add","tab","tooltip","placement","tableBody","closest","icon","lastRow","maxEnvVars","refreshConfigList","appsList","configData","indexRaw","appNameSafe","alias","descSafe","desc","isDirty","appIdSafe","idEncoded","appEnv","groupOptions","optionsHTML","nonSelectedGroups","dirtyMarker","logob64","unbindAll","getElementById","is","hide","css","bindAll","expandAddAppForm","dragAddAppCounter","openAddAppCounter","dragTimerAddAppBox","sendUpdateAppShinyEvent","appId","fileTypes","appIDEncoded","overwriteData","spinnerId","progressId","fileInputId","overwrite","progressSelector","spinnerSelector","fileType","clearTimeout","originalEvent","dataTransfer","setData","style","opacity","clearData","showOverwriteDialog","sendUpdateEvent","newAppId","showAdvancedSettingsDialog","openLoginForm","eventName","startsWith","fileTmp","pop","filesDropped","files","idToRaw","idTo","invalidFileTypes","idFromRaw","getData","idFrom","sendUpdateAppOrderRequest","children","$target","hasClass","parents","dataset","appID","appIndex","slideDown","newAppTitle","newAppDesc","env","newLogo","sendUpdateRequest","removeAppConfirmed","newAppName","user","ctrlKey","addCustomMessageHandler","configList","groupList","loginRequired","appsNotOnEngine","appsNotOnMIRO","fadeOut","requestType","progress","logoB64","appTitle","appDesc","dataExists","eppEnv","msg","delay","txt"],"sourceRoot":""}