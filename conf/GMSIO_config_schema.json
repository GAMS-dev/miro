{  
  "$schema":"http://json-schema.org/draft-07/schema#",
  "title":"GAMS configuration file schema",
  "description":"Configuration file is automatically generated by GAMS and includes model specific data.",
  "type":"object",
  "additionalProperties":false,
  "properties":{  
    "pageTitle":{  
      "description":"Name of the page (displayed in browser tab)",
      "type":"string",
      "default":"GAMS WebUI",
      "required":false
    },
    "gamsWEBUISwitch":{  
      "description":"GAMS command line option to trigger the model to work under Web UI",
      "type":"string",
      "minLength":5,
      "required":true
    },
	  "gamsMetaDelim":{
	    "description":"GAMS delimitor used to identify meta information (e.g. slider, dropdown, ...)",
	    "type":"string",
	    "minLength":1,
	    "required":false,
	    "default":"###"
	  },
    "fileExchange":{  
      "description":"Method used to exchange files",
      "type":"string",
      "enum":[  
        "csv"
      ],
      "default":"csv",
      "required":false
    },
    "csvDelim":{  
      "description":"Column delimiter for csv files",
      "type":"string",
      "enum":[  
        ",",
        ";"
      ],
      "default":",",
      "required":false
    },
    "gamsInputFiles":{  
      "description":"Name of GAMS input data sheets. Identifiers are case insensitive.",
      "type":"object",
      "minProperties":1,
      "additionalProperties":{  
        "type":"object",
        "additionalProperties":false,
        "properties":{
          "alias":{  
            "type":"string",
            "minLength":1
          },
          "noBatch":{  
            "description": "Boolean that specifies whether element should not be used in batch mode",
            "type":"boolean",
            "required": false
          },
          "sharedData":{
            "description":"Boolean that specifies whether data for this widget is shared with other models (only valid for certain widgets such as table or dropdown ith data from external source)",
            "type":"boolean",
            "required":false
          },
          "loadOnStartup":{
            "description":"Boolean that specifies whether data should be loaded on startup",
            "type":"boolean",
            "required":false
          },
          "colSubset":{
            "description":"Array that specifies subset of columns to import to UI (names of columns)",
            "type":["array", "string"],
            "minLength": 1,
            "uniqueItems":true,
            "minItems":1,
            "items":{  
              "type":"string"
             },
            "required":false
          },
          "noimport":{  
            "description":"Boolean that specifies whether data should not be imported from external source",
            "type":"boolean",
            "required":false
          },
          "readonly":{  
            "description":"Tables can be set to readonly to prevent the user from making changes (editing and pasting data). These tables will be available for keyboard navigation and CTRL+C. In the case of contradictory readonly specifications (true and false) at table and column level, the entries specified with true are taken into account.",
            "type":[  
              "boolean",
              "null"
            ]
          },
          "headers":{  
            "description":"headers of the input sheets containing names of sets/parameters (handsontable)",
            "type":"object",
            "minProperties":1,
            "additionalProperties":{  
              "type":"object",
              "properties":{  
                "readonly":{  
                  "description":"headers can be set as readonly to prevent the user from making changes",
                  "type":[  
                    "boolean",
                    "null"
                  ],
                  "required":false
                },
                "type":{  
                  "description":"GAMS input type",
                  "type":"string",
                  "enum":[  
                    "set",
                    "parameter",
                    "acronym",
                    "scalar"
                  ],
                  "required":true
                }
              }
            }
          },
          "dtHeaders":{  
            "description":"headers of the input sheets containing names of sets/parameters (datatable)",
            "type":"object",
            "minProperties":1,
            "additionalProperties":{  
              "type":"object",
              "properties":{  
                "readonly":{  
                  "description":"headers can be set as readonly to prevent the user from making changes",
                  "type":[  
                    "boolean",
                    "null"
                  ],
                  "required":false
                },
                "type":{  
                  "description":"GAMS input type",
                  "type":"string",
                  "enum":[  
                    "set",
                    "parameter",
                    "acronym",
                    "scalar"
                  ],
                  "required":true
                }
              }
            }
          },
          "slider":{  
            "type":"object",
            "additionalProperties":false,
            "properties":{  
              "label":{  
                "description":"Label of considered inputdata",
                "type":"string",
                "minLength":1,
                "required":false
              },
              "min":{  
                "description":"Minimum value of inputdata",
                "type":[  
                  "number",
                  "string"
                ],
                "required":true
              },
              "max":{  
                "description":"Maximum value of inputdata",
                "type":[  
                  "number",
                  "string"
                ],
                "required":true
              },
              "default":{  
                "description":"Default/starting value of inputdata",
                "type":[  
                  "number",
                  "string",
                  "array"
                ],
                "required":true
              },
              "step":{  
                "description":"Specifies the interval between each selectable value",
                "type":[  
                  "number",
                  "string"
                ],
                "required":true
              },
              "width":{  
                "description":"Width of the slider (optional)",
                "type":"number",
                "required":false
              },
              "ticks":{  
                "description":"Boolean that specifies whether to hide or show tick marks (optional)",
                "type":"boolean",
                "required":false
              }
            }
          },
          "dropdown":{  
            "type":"object",
            "additionalProperties":false,
            "properties":{  
              "label":{  
                "description":"display label for the dropdown menu",
                "type":"string",
                "minLength":1,
                "required":false
              },
              "choices":{  
                "description":"List of values to select from.",
                "type":["array","string"],
                "minLength":1,
                "uniqueItems":true,
                "minItems":1,
                "required":true,
                "items":{  
                  "type":[  
                    "string",
                    "number"
                  ]
                }
              },
              "multiple":{  
                "description":"Boolean that specifies whether multiple options are allowed to be selected in dropdown menu",
                "type":"boolean",
                "required":false
              },
              "aliases":{  
                "type":["array","string"],
                "minLength":1,
                "uniqueItems":true,
                "minItems":1,
                "required":false,
                "items":{  
                  "type":"string"
                }
              },
              "selected":{  
                "description":"The initially selected value.",
                "type":[  
                  "string",
                  "number"
                ],
                "required":false
              }
            }
          },
		  "dropdowne":{  
            "type":"object",
            "additionalProperties":false,
            "properties":{  
              "label":{  
                "description":"display label for the dropdown menu",
                "type":"string",
                "minLength":1,
                "required":false
              },
              "multiple":{  
                "description":"Boolean that specifies whether multiple options are allowed to be selected in dropdown menu",
                "type":"boolean",
                "required":false
              }
            }
          },
          "date":{  
            "type":"object",
            "additionalProperties":false,
            "properties":{  
              "label":{  
                "description":"display label for the date selector",
                "type":"string",
                "minLength":1,
                "required":false
              },
              "value":{  
                "description":"initial start date",
                "type":"string",
                "minLength":10,
                "maxLength":10,
                "required":false
              },
              "min":{  
                "description":"minimum allowed date",
                "type":"string",
                "minLength":10,
                "maxLength":10,
                "required":false
              },
              "max":{  
                "description":"maximum allowed date",
                "type":"string",
                "minLength":10,
                "maxLength":10,
                "required":false
              },
              "format":{  
                "description":"format of the date to display in the browser.",
                "type":"string",
                "minLength":1,
                "maxLength":10,
                "required":false
              },
              "startview":{  
                "description":"date range shown when the input object is first clicked",
                "type":"string",
                "enum":[  
                  "month",
                  "year",
                  "decade"
                ],
                "required":false
              },
              "weekstart":{  
                "description":"which day is displayed to be the first of the week ",
                "type":"integer",
                "minimum":0,
                "maximum":6,
                "required":false
              },
              "width":{  
                "description":"width of the input",
                "type":[  
                  "string",
                  "integer"
                ],
                "minLength":1,
                "required":false
              }
            }
          },
          "daterange":{  
            "type":"object",
            "additionalProperties":false,
            "properties":{  
              "label":{  
                "description":"display label for the daterange selector",
                "type":"string",
                "minLength":1,
                "required":false
              },
              "start":{  
                "description":"initial start date",
                "type":"string",
                "minLength":10,
                "maxLength":10,
                "required":false
              },
              "end":{  
                "description":"initial end date",
                "type":"string",
                "minLength":10,
                "maxLength":10,
                "required":false
              },
              "min":{  
                "description":"minimum allowed date",
                "type":"string",
                "minLength":10,
                "maxLength":10,
                "required":false
              },
              "max":{  
                "description":"maximum allowed date",
                "type":"string",
                "minLength":10,
                "maxLength":10,
                "required":false
              },
              "format":{  
                "description":"format of the date to display in the browser.",
                "type":"string",
                "minLength":1,
                "maxLength":10,
                "required":false
              },
              "startview":{  
                "description":"date range shown when the input object is first clicked",
                "type":"string",
                "enum":[  
                  "month",
                  "year",
                  "decade"
                ],
                "required":false
              },
              "weekstart":{  
                "description":"which day is displayed to be the first of the week ",
                "type":"integer",
                "minimum":0,
                "maximum":6,
                "required":false
              },
              "separator":{  
                "description":"String to display between the start and end input boxes",
                "type":"string",
                "minLength":1,
                "required":false
              },
              "width":{  
                "description":"width of the input",
                "type":[  
                  "string",
                  "integer"
                ],
                "minLength":1,
                "required":false
              },
              "autoclose":{  
                "description":"Whether or not to close the datepicker immediately when a date is selected",
                "type":"boolean",
                "required":false
              }
            }
          },
          "checkbox":{
            "type":"object",
            "additionalProperties":false,
            "properties":{  
              "label":{  
                "description":"display label for the checkbox",
                "type":"string",
                "minLength":1,
                "required":false
              },
              "value":{  
                "description":"initial value",
                "type":["boolean", "integer", "string"],
                "minimum" : 0,
                "maximum" : 1,
                "minLength":1,
                "required":false
              },
              "disable":{  
                "description":"Boolean that specifies whether checkbox should be disabled when value of dependent dataset is 0 (only used if checkbox has dependency)",
                "type":"boolean",
                "required":false
              },
              "class":{  
                "description":"css class",
                "type":"string",
                "minLength":1,
                "required":false
              },
              "width":{  
                "description":"width of the input",
                "type":[  
                  "string",
                  "integer"
                ],
                "minLength":1,
                "required":false
              }
            }
          }
        },
        "oneOf":[  
          {  
            "required":[  
              "headers"
            ],
            "not":{  
              "required":[  
                "slider",
                "dropdown",
				"dropdowne",
                "daterange",
                "date",
                "checkbox"
              ]
            }
          },
          {  
            "required":[  
              "slider"
            ],
            "not":{  
              "required":[  
                "readonly",
                "dropdown",
				"dropdowne",
                "headers",
                "daterange",
                "date",
                "checkbox"
              ]
            }
          },
          {  
            "required":[  
              "dropdown"
            ],
            "not":{  
              "required":[  
                "readonly",
				"dropdowne",
                "slider",
                "headers",
                "daterange",
                "date",
                "checkbox"
              ]
            }
          },
		  {  
            "required":[  
              "dropdowne"
            ],
            "not":{  
              "required":[  
                "readonly",
				"dropdown",
                "slider",
                "headers",
                "daterange",
                "date",
                "checkbox"
              ]
            }
          },
          {  
            "required":[  
              "date"
            ],
            "not":{  
              "required":[  
                "readonly",
                "dropdown",
				"dropdowne",
                "slider",
                "headers",
                "daterange",
                "checkbox"
              ]
            }
          },
          {  
            "required":[  
              "daterange"
            ],
            "not":{  
              "required":[  
                "readonly",
                "dropdown",
				"dropdowne",
                "slider",
                "headers",
                "date",
                "checkbox"
              ]
            }
          },
          {  
            "required":[  
              "checkbox"
            ],
            "not":{  
              "required":[  
                "readonly",
                "dropdown",
				"dropdowne",
                "slider",
                "headers",
                "date",
                "daterange"
              ]
            }
          }
        ]
      }
    },
    "gamsOutputFiles": {
       "description":"Name of GAMS input data sheets. Identifiers are case insensitive.",
      "type":"object",
      "minProperties":1,
      "additionalProperties":{  
        "type":"object",
        "additionalProperties":false,
        "properties":{
          "alias":{  
            "type":"string",
            "minLength":1
          },
          "hidden":{  
            "description": "Boolean that specifies whether element should not be displayed in UI (e.g. configuration data)",
            "type":"boolean",
            "required": false
          },
          "count":{  
            "description": "Only relevant for output scalars. Number of scalars in dataframe.",
            "type":"integer",
            "minimum" : 1,
            "required": false
          },
          "headers":{  
            "description":"headers of the output sheets containing names of sets/parameters",
            "type":"object",
            "minProperties":1,
            "additionalProperties":{  
              "type":"object",
              "properties":{  
                "type":{  
                  "description":"GAMS type",
                  "type":"string",
                  "enum":[  
                    "set",
                    "parameter",
                    "acronym",
                    "scalar"
                  ],
                  "required":true
                }
              }
            }
          }
        }
      }
    }

  }
}
